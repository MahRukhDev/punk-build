(this["webpackJsonp@kyberswap/interface"]=this["webpackJsonp@kyberswap/interface"]||[]).push([[23],{"./node_modules/react-feather/dist/icons/arrow-down.js":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),r=n.n(s),o=n("./node_modules/prop-types/index.js"),i=n.n(o);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},c.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},o=Object.keys(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=Object(s.forwardRef)((function(e,t){var n=e.color,s=void 0===n?"currentColor":n,o=e.size,i=void 0===o?24:o,d=a(e,["color","size"]);return r.a.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),r.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.a.createElement("polyline",{points:"19 12 12 19 5 12"}))}));d.propTypes={color:i.a.string,size:i.a.oneOfType([i.a.string,i.a.number])},d.displayName="ArrowDown",t.a=d},"./node_modules/react-feather/dist/icons/arrow-up.js":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),r=n.n(s),o=n("./node_modules/prop-types/index.js"),i=n.n(o);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},c.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},o=Object.keys(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=Object(s.forwardRef)((function(e,t){var n=e.color,s=void 0===n?"currentColor":n,o=e.size,i=void 0===o?24:o,d=a(e,["color","size"]);return r.a.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),r.a.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),r.a.createElement("polyline",{points:"5 12 12 5 19 12"}))}));d.propTypes={color:i.a.string,size:i.a.oneOfType([i.a.string,i.a.number])},d.displayName="ArrowUp",t.a=d},"./node_modules/react-indiana-drag-scroll/dist/index.es.js":function(e,t,n){"use strict";var s,r,o=n("./node_modules/react/index.js"),i=n.n(o),c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},a=(r=s={path:void 0,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&s.path)}},s.exports,function(){var e={}.hasOwnProperty;function t(){for(var n=[],s=0;s<arguments.length;s++){var r=arguments[s];if(r){var o=typeof r;if("string"===o||"number"===o)n.push(r);else if(Array.isArray(r)&&r.length){var i=t.apply(null,r);i&&n.push(i)}else if("object"===o)for(var c in r)e.call(r,c)&&r[c]&&n.push(c)}}return n.join(" ")}r.exports?(t.default=t,r.exports=t):window.classNames=t}(),s.exports);function d(e,t,n){var s,r,o,i,c;function a(){var d=Date.now()-i;d<t&&d>=0?s=setTimeout(a,t-d):(s=null,n||(c=e.apply(o,r),o=r=null))}null==t&&(t=100);var d=function(){o=this,r=arguments,i=Date.now();var d=n&&!s;return s||(s=setTimeout(a,t)),d&&(c=e.apply(o,r),o=r=null),c};return d.clear=function(){s&&(clearTimeout(s),s=null)},d.flush=function(){s&&(c=e.apply(o,r),o=r=null,clearTimeout(s),s=null)},d}d.debounce=d;var l=d;!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".indiana-scroll-container {\n  overflow: auto; }\n  .indiana-scroll-container--dragging {\n    scroll-behavior: auto !important; }\n    .indiana-scroll-container--dragging > * {\n      pointer-events: none;\n      cursor: -webkit-grab;\n      cursor: grab; }\n  .indiana-scroll-container--hide-scrollbars {\n    overflow: hidden;\n    overflow: -moz-scrollbars-none;\n    -ms-overflow-style: none;\n    scrollbar-width: none; }\n    .indiana-scroll-container--hide-scrollbars::-webkit-scrollbar {\n      display: none !important;\n      height: 0 !important;\n      width: 0 !important;\n      background: transparent !important;\n      -webkit-appearance: none !important; }\n  .indiana-scroll-container--native-scroll {\n    overflow: auto; }\n\n.indiana-dragging {\n  cursor: -webkit-grab;\n  cursor: grab; }\n");var j,b=(j="indiana-scroll-container",function(e,t){if(!e)return j;var n;"string"==typeof e?n=e:t=e;var s=j;return n&&(s+="__"+n),s+(t?Object.keys(t).reduce((function(e,n){var r=t[n];return r&&(e+=" "+("boolean"==typeof r?s+"--"+n:s+"--"+n+"_"+r)),e}),""):"")}),u=function(e){function t(t){var n=e.call(this,t)||this;return n.onEndScroll=function(){n.scrolling=!1,!n.pressed&&n.started&&n.processEnd()},n.onScroll=function(e){var t=n.container.current;t.scrollLeft===n.scrollLeft&&t.scrollTop===n.scrollTop||(n.scrolling=!0,n.processScroll(e),n.onEndScroll())},n.onTouchStart=function(e){var t=n.props.nativeMobileScroll;if(n.isDraggable(e.target))if(n.internal=!0,t&&n.scrolling)n.pressed=!0;else{var s=e.touches[0];n.processClick(e,s.clientX,s.clientY),!t&&n.props.stopPropagation&&e.stopPropagation()}},n.onTouchEnd=function(e){var t=n.props.nativeMobileScroll;n.pressed&&(!n.started||n.scrolling&&t?n.pressed=!1:n.processEnd(),n.forceUpdate())},n.onTouchMove=function(e){var t=n.props.nativeMobileScroll;if(n.pressed&&(!t||!n.isMobile)){var s=e.touches[0];s&&n.processMove(e,s.clientX,s.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation()}},n.onMouseDown=function(e){n.isDraggable(e.target)&&n.isScrollable()&&(n.internal=!0,-1!==n.props.buttons.indexOf(e.button)&&(n.processClick(e,e.clientX,e.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation()))},n.onMouseMove=function(e){n.pressed&&(n.processMove(e,e.clientX,e.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation())},n.onMouseUp=function(e){n.pressed&&(n.started?n.processEnd():(n.internal=!1,n.pressed=!1,n.forceUpdate(),n.props.onClick&&n.props.onClick(e)),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation())},n.container=i.a.createRef(),n.onEndScroll=l(n.onEndScroll,300),n.scrolling=!1,n.started=!1,n.pressed=!1,n.internal=!1,n.getRef=n.getRef.bind(n),n}return function(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.nativeMobileScroll,t=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),t.addEventListener("touchstart",this.onTouchStart,{passive:!1}),t.addEventListener("mousedown",this.onMouseDown,{passive:!1}),e&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())},t.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},t.prototype.getElement=function(){return this.container.current},t.prototype.isMobileDevice=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},t.prototype.isDraggable=function(e){var t=this.props.ignoreElements;if(t){var n=e.closest(t);return null===n||n.contains(this.getElement())}return!0},t.prototype.isScrollable=function(){var e=this.container.current;return e&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)},t.prototype.processClick=function(e,t,n){var s=this.container.current;this.scrollLeft=s.scrollLeft,this.scrollTop=s.scrollTop,this.clientX=t,this.clientY=n,this.pressed=!0},t.prototype.processStart=function(e){void 0===e&&(e=!0);var t=this.props.onStartScroll;this.started=!0,e&&document.body.classList.add("indiana-dragging"),t&&t({external:!this.internal}),this.forceUpdate()},t.prototype.processScroll=function(e){if(this.started){var t=this.props.onScroll;t&&t({external:!this.internal})}else this.processStart(!1)},t.prototype.processMove=function(e,t,n){var s=this.props,r=s.horizontal,o=s.vertical,i=s.activationDistance,c=s.onScroll,a=this.container.current;this.started?(r&&(a.scrollLeft-=t-this.clientX),o&&(a.scrollTop-=n-this.clientY),c&&c({external:!this.internal}),this.clientX=t,this.clientY=n,this.scrollLeft=a.scrollLeft,this.scrollTop=a.scrollTop):(r&&Math.abs(t-this.clientX)>i||o&&Math.abs(n-this.clientY)>i)&&(this.clientX=t,this.clientY=n,this.processStart())},t.prototype.processEnd=function(){var e=this.props.onEndScroll;this.container.current&&e&&e({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("indiana-dragging"),this.forceUpdate()},t.prototype.getRef=function(e){[this.container,this.props.innerRef].forEach((function(t){t&&("function"==typeof t?t(e):t.current=e)}))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.draggingClassName,s=e.className,r=e.style,o=e.hideScrollbars,c=e.component;return i.a.createElement(c,{className:a(s,this.pressed&&n,b({dragging:this.pressed,"hide-scrollbars":o,"native-scroll":this.isMobile})),style:r,ref:this.getRef,onScroll:this.onScroll},t)},t.defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},component:"div",buttons:[0]},t}(o.PureComponent);t.a=u},"./src/components/ClassicElasticTab.tsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),r=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=n("./node_modules/@lingui/react/esm/index.js"),i=n("./node_modules/querystring-es3/index.js"),c=n("./node_modules/react-router/dist/index.js"),a=n("./node_modules/rebass/dist/index.esm.js"),d=n("./src/constants/index.ts"),l=n("./src/constants/v2.ts"),j=n("./src/hooks/index.ts"),b=n("./src/hooks/useMixpanel.ts"),u=n("./src/hooks/useParsedQueryString.ts"),p=n("./src/hooks/useTheme.ts"),x=n("./src/utils/string.ts"),m=n("./src/components/Icons/index.ts"),h=n("./src/components/Tooltip/index.tsx"),O=n("./node_modules/react/jsx-runtime.js"),f=["tab"];t.a=function(){var e=Object(u.a)(),t=e.tab,n=void 0===t?l.c.ELASTIC:t,g=Object(r.a)(e,f),v=Object(x.d)(n,l.c)?n:l.c.ELASTIC,y=Object(b.c)().mixpanelHandler,k=Object(j.b)().chainId,w=l.a[k],C=Object(p.a)(),S=Object(c.k)(),T=Object(c.m)(),I=S.pathname.includes("/farms");return Object(O.jsxs)(a.b,{width:"max-content",children:[Object(O.jsx)(h.a,{text:w||"",children:Object(O.jsxs)(a.b,{alignItems:"center",onClick:()=>{if(!w){var e=Object(s.a)(Object(s.a)({},g),{},{tab:l.c.ELASTIC}),t="";S.pathname.startsWith(d.h.POOLS)?t=b.a.ELASTIC_POOLS_ELASTIC_POOLS_CLICKED:S.pathname.startsWith(d.h.MY_POOLS)&&(t=b.a.ELASTIC_MYPOOLS_ELASTIC_POOLS_CLICKED),t&&y(t),T({search:Object(i.stringify)(e)},{replace:!0})}},children:[Object(O.jsx)(m.G,{size:20,color:v===l.c.ELASTIC?C.primary:C.subText}),Object(O.jsx)(a.d,{fontWeight:500,fontSize:[18,20,24],color:v===l.c.ELASTIC?w?C.disableText:C.primary:C.subText,width:"auto",marginLeft:"4px",role:"button",style:{cursor:w?"not-allowed":"pointer"},children:I?Object(O.jsx)(o.b,{id:"Elastic Farms"}):Object(O.jsx)(o.b,{id:"Elastic Pools"})})]})}),Object(O.jsx)(a.d,{fontWeight:500,fontSize:[18,20,24],color:C.subText,marginX:"12px",children:"|"}),Object(O.jsxs)(a.b,{alignItems:"center",onClick:()=>{var e=Object(s.a)(Object(s.a)({},g),{},{tab:l.c.CLASSIC});T({search:Object(i.stringify)(e)},{replace:!0})},children:[Object(O.jsx)(m.F,{size:20,color:v===l.c.ELASTIC?C.subText:C.primary}),Object(O.jsx)(a.d,{fontWeight:500,fontSize:[18,20,24],color:v===l.c.CLASSIC?C.primary:C.subText,width:"auto",marginLeft:"4px",style:{cursor:"pointer"},role:"button",children:I?Object(O.jsx)(o.b,{id:"Classic Farms"}):Object(O.jsx)(o.b,{id:"Classic Pools"})})]})]})}},"./src/components/Dots.tsx":function(e,t,n){"use strict";var s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.span.withConfig({displayName:"Dots",componentId:"sc-1ae7w1-0"})(["&::after{display:inline-block;animation:ellipsis 1.25s infinite;content:'.';width:1em;text-align:left;}@keyframes ellipsis{0%{content:'.';}33%{content:'..';}66%{content:'...';}}"]);t.a=s},"./src/components/HoverDropdown/index.tsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),r=n("./node_modules/react/index.js"),o=n("./node_modules/rebass/dist/index.esm.js"),i=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),a=n("./src/components/Tooltip/index.tsx"),d=n("./node_modules/react/jsx-runtime.js"),l=i.default.div.withConfig({displayName:"HoverDropdown__Dropdown",componentId:"sc-d4bw6y-0"})(["display:none;position:absolute;background:",";filter:drop-shadow(0px 4px 12px rgba(0,0,0,0.36));box-shadow:0px 0px 1px rgba(0,0,0,0.01),0px 4px 8px rgba(0,0,0,0.04),0px 16px 24px rgba(0,0,0,0.04),0px 24px 32px rgba(0,0,0,0.01);border-radius:16px;padding:12px;width:max-content;z-index:13;top:28px;",""],(e=>e.theme.tableHeader),(e=>{var t=e.placement;return"center"===t?"\n    left: 50%;\n    transform: translate(-50%, 0);\n    ":"right"===t?"left: 100%;\n        transform: translate(-100%, 0);\n    ":""})),j=Object(i.default)(c.a).withConfig({displayName:"HoverDropdown__DropdownIcon",componentId:"sc-d4bw6y-1"})(["margin-left:4px;transition:transform 300ms;"]),b=i.default.div.withConfig({displayName:"HoverDropdown__HoverDropdownWrapper",componentId:"sc-d4bw6y-2"})(["position:relative;display:inline-block;cursor:pointer;width:fit-content;padding:",";:hover{","{display:flex;flex-direction:column;}","{transform:rotate(",");}}"],(e=>e.padding||"8px 0"),l,j,(e=>e.disabledHover?"0":"-180deg"));t.a=e=>{var t=e.hideIcon,n=void 0!==t&&t,i=e.content,c=e.dropdownContent,l=e.padding,u=e.style,p=void 0===u?{}:u,x=Object(r.useState)(!1),m=Object(s.a)(x,2),h=m[0],O=m[1];return Object(d.jsx)(b,{disabledHover:!c,padding:l,style:p,onMouseOver:()=>O(!0),onMouseLeave:()=>O(!1),children:Object(d.jsx)(a.c,{show:h,text:c,placement:"bottom",width:"max-content",children:Object(d.jsxs)(o.b,{alignItems:"center",children:[i,!n&&Object(d.jsx)(j,{})]})})})}},"./src/components/Icons/Deposit.tsx":function(e,t,n){"use strict";var s=n("./node_modules/react/jsx-runtime.js");t.a=e=>{var t=e.width,n=e.height,r=e.color;return Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||16,height:n||16,viewBox:"0 0 16 16",children:Object(s.jsx)("path",{d:"M11.06 6H10V2.66667C10 2.3 9.70004 2 9.33337 2H6.66671C6.30004 2 6.00004 2.3 6.00004 2.66667V6H4.94004C4.34671 6 4.04671 6.72 4.46671 7.14L7.52671 10.2C7.78671 10.46 8.20671 10.46 8.46671 10.2L11.5267 7.14C11.9467 6.72 11.6534 6 11.06 6ZM3.33337 12.6667C3.33337 13.0333 3.63337 13.3333 4.00004 13.3333H12C12.3667 13.3333 12.6667 13.0333 12.6667 12.6667C12.6667 12.3 12.3667 12 12 12H4.00004C3.63337 12 3.33337 12.3 3.33337 12.6667Z",fill:r||"currentColor"})})}},"./src/components/Icons/Harvest.tsx":function(e,t,n){"use strict";var s=n("./node_modules/react/jsx-runtime.js");t.a=e=>{var t=e.width,n=e.height,r=e.color;return Object(s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||16,height:n||16,viewBox:"0 0 16 16",children:[Object(s.jsx)("path",{d:"M10.5912 3.05122L8.23457 5.40789C8.10441 5.53804 8.10441 5.74907 8.23457 5.87922L10.1199 7.76456C10.2501 7.89471 10.4611 7.89471 10.5912 7.76456L12.9479 5.40789C13.0781 5.27773 13.0781 5.06671 12.9479 4.93655L11.0626 3.05122C10.9324 2.92106 10.7214 2.92106 10.5912 3.05122Z",fill:r||"currentColor"}),Object(s.jsx)("path",{d:"M9.85967 2.84091C7.5575 0.834737 5.7628 0.607004 5.68003 0.597737C5.61138 0.590119 5.54206 0.604016 5.48165 0.637505C5.42124 0.670995 5.37273 0.722424 5.34282 0.784683C5.3129 0.846941 5.30307 0.916954 5.31468 0.985044C5.32628 1.05313 5.35875 1.11594 5.4076 1.16477L8.47173 4.22891L9.85967 2.84091Z",fill:r||"currentColor"}),Object(s.jsx)("path",{d:"M15.4022 10.3203C15.3929 10.2375 15.1652 8.44301 13.1594 6.14111L11.7715 7.52908L14.8351 10.5927C14.884 10.6416 14.9468 10.6741 15.0149 10.6857C15.083 10.6973 15.153 10.6874 15.2152 10.6575C15.2775 10.6276 15.3289 10.5791 15.3624 10.5187C15.3959 10.4583 15.4098 10.389 15.4022 10.3203Z",fill:r||"currentColor"}),Object(s.jsx)("path",{d:"M8.00024 6.58594L0.693332 13.8927C0.630821 13.9552 0.595703 14.04 0.595703 14.1284C0.595703 14.2168 0.630821 14.3016 0.693332 14.3641L1.63627 15.3068C1.69878 15.3693 1.78356 15.4044 1.87197 15.4044C1.96037 15.4044 2.04515 15.3693 2.10767 15.3068L9.41444 8.00014L8.00024 6.58594Z",fill:r||"currentColor"})]})}},"./src/components/Icons/Withdraw.tsx":function(e,t,n){"use strict";var s=n("./node_modules/react/jsx-runtime.js");t.a=e=>{var t=e.width,n=e.height;return Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||16,height:n||16,viewBox:"0 0 16 16",children:Object(s.jsx)("path",{d:"M3.33337 3.33317C3.33337 3.69984 3.63337 3.99984 4.00004 3.99984H12C12.3667 3.99984 12.6667 3.69984 12.6667 3.33317C12.6667 2.9665 12.3667 2.6665 12 2.6665H4.00004C3.63337 2.6665 3.33337 2.9665 3.33337 3.33317ZM4.94004 9.33317H6.00004V12.6665C6.00004 13.0332 6.30004 13.3332 6.66671 13.3332H9.33337C9.70004 13.3332 10 13.0332 10 12.6665V9.33317H11.06C11.6534 9.33317 11.9534 8.61317 11.5334 8.19317L8.47337 5.13317C8.21337 4.87317 7.79337 4.87317 7.53337 5.13317L4.47337 8.19317C4.05337 8.61317 4.34671 9.33317 4.94004 9.33317Z",fill:"currentColor"})})}},"./src/components/PoolsCurrencyInputPanel/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var s,r,o,i=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),c=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),a=n("./node_modules/@lingui/react/esm/index.js"),d=n("./node_modules/react/index.js"),l=n("./node_modules/react-feather/dist/icons/x.js"),j=n("./node_modules/rebass/dist/index.esm.js"),b=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),u=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),p=n("./src/components/CurrencyLogo/index.tsx"),x=n("./src/components/DoubleLogo/index.tsx"),m=n("./src/components/SearchModal/CurrencySearchModal.tsx"),h=n("./src/hooks/useTheme.ts"),O=n("./src/utils/dmm.ts"),f=n("./node_modules/react/jsx-runtime.js"),g=b.default.div.withConfig({displayName:"PoolsCurrencyInputPanel__InputRow",componentId:"sc-bxeb8p-0"})([""," align-items:center;padding:",";",";"],(e=>e.theme.flexRowNoWrap),(e=>e.selected?"0.75rem 0.5rem 0.75rem 1rem":"0.75rem 0.75rem 0.75rem 1rem"),(e=>e.theme.mediaWidth.upToMedium(s||(s=Object(c.a)(["\n    width: 100%;\n  "]))))),v=b.default.button.withConfig({displayName:"PoolsCurrencyInputPanel__CurrencySelect",componentId:"sc-bxeb8p-1"})(["align-items:center;height:2.25rem;font-size:20px;font-weight:500;background-color:",";border:1px solid #52ccad;color:",";border-radius:40px;outline:none;cursor:pointer;user-select:none;padding:0 0.5rem;:hover{background-color:",";}",";"],(e=>e.theme.background),(e=>e.theme.text),(e=>e.theme.bg2),(e=>e.theme.mediaWidth.upToMedium(r||(r=Object(c.a)(["\n    width: 100%;\n  "]))))),y=b.default.span.withConfig({displayName:"PoolsCurrencyInputPanel__Aligner",componentId:"sc-bxeb8p-2"})(["display:flex;align-items:center;justify-content:space-between;",";"],(e=>e.theme.mediaWidth.upToMedium(o||(o=Object(c.a)(["\n    width: 100%;\n  "]))))),k=Object(b.default)(u.a).withConfig({displayName:"PoolsCurrencyInputPanel__StyledDropDown",componentId:"sc-bxeb8p-3"})(["margin:0 0.25rem 0 0.5rem;height:35%;path{stroke:",";fill:",";}"],(e=>e.theme.subText),(e=>e.theme.subText)),w=Object(b.default)(l.a).withConfig({displayName:"PoolsCurrencyInputPanel__StyledX",componentId:"sc-bxeb8p-4"})(["margin:0 0.25rem 0 0.5rem;path,line{stroke:",";}:hover{path,line{stroke:",";}}"],(e=>e.theme.text),(e=>e.theme.subText)),C=b.default.div.withConfig({displayName:"PoolsCurrencyInputPanel__InputPanel",componentId:"sc-bxeb8p-5"})([""," position:relative;border-radius:4px;background-color:transparent;z-index:1;"],(e=>e.theme.flexColumnNoWrap)),S=b.default.div.withConfig({displayName:"PoolsCurrencyInputPanel__Container",componentId:"sc-bxeb8p-6"})([""]),T=b.default.div.withConfig({displayName:"PoolsCurrencyInputPanel__LogoNameWrapper",componentId:"sc-bxeb8p-7"})(["display:flex;align-items:center;"]),I=b.default.span.withConfig({displayName:"PoolsCurrencyInputPanel__StyledTokenName",componentId:"sc-bxeb8p-8"})([""," font-size:",";min-width:max-content;"],(e=>e.active?"  margin: 0 0.25rem 0 0.75rem;":"  margin: 0 0.25rem 0 0.25rem;"),(e=>e.active?"16px":"14px"));function A(e){var t=e.onCurrencySelect,n=e.onClearCurrency,s=e.currency,r=e.disableCurrencySelect,o=void 0!==r&&r,c=e.pair,l=void 0===c?null:c,b=e.otherCurrency,u=e.id,A=e.showCommonBases,_=Object(d.useState)(!1),L=Object(i.a)(_,2),E=L[0],P=L[1],D=Object(h.a)(),z=Object(d.useCallback)((()=>{P(!1)}),[P]),M=Object(O.i)(s||void 0);return Object(f.jsxs)(C,{id:u,children:[Object(f.jsx)(S,{children:Object(f.jsx)(g,{style:{padding:"0",borderRadius:"8px"},selected:o,children:Object(f.jsx)(v,{selected:!!s,className:"open-currency-select-button",onClick:()=>{o||P(!0)},children:Object(f.jsxs)(y,{children:[Object(f.jsxs)(T,{children:[l?Object(f.jsx)(x.b,{currency0:l.token0,currency1:l.token1,size:24,margin:!0}):s?Object(f.jsx)(p.a,{currency:s||void 0,size:"24px"}):null,l?Object(f.jsxs)(I,{className:"pair-name-container",children:[null===l||void 0===l?void 0:l.token0.symbol,":",null===l||void 0===l?void 0:l.token1.symbol]}):Object(f.jsx)(I,{className:"token-symbol-container",active:Boolean(s&&s.symbol),children:(M&&M.symbol&&M.symbol.length>20?M.symbol.slice(0,4)+"..."+M.symbol.slice(M.symbol.length-5,M.symbol.length):null===M||void 0===M?void 0:M.symbol)||Object(f.jsx)(j.d,{color:D.subText,children:Object(f.jsx)(a.b,{id:"Select Token"})})})]}),!o&&!s&&Object(f.jsx)(k,{}),!o&&s&&Object(f.jsx)(w,{size:16,onClick:e=>{e.stopPropagation(),n&&n()}})]})})})}),!o&&t&&Object(f.jsx)(m.a,{isOpen:E,onDismiss:z,onCurrencySelect:t,selectedCurrency:s,otherSelectedCurrency:b,showCommonBases:A})]})}},"./src/components/RewardTokenPrices/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var s,r=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),o=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),i=n("./node_modules/react/index.js"),c=n("./node_modules/react-indiana-drag-scroll/dist/index.es.js"),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),d=n("./src/components/CurrencyLogo/index.tsx"),l=n("./src/constants/index.ts"),j=n("./src/constants/tokens.ts"),b=n("./src/hooks/index.ts"),u=n("./src/hooks/useThrottle.ts"),p=n("./src/state/tokenPrices/hooks.ts"),x=n("./src/utils/index.ts"),m=n("./node_modules/react/jsx-runtime.js"),h=a.default.div.withConfig({displayName:"RewardTokenPrices__ScrollContainerWithGradient",componentId:"sc-1l03pbq-0"})(["position:relative;display:flex;justify-content:flex-end;align-items:center;height:fit-content;width:100%;max-width:calc(100vw - 32px);"," &.left-visible:after,&.right-visible:before{content:'';display:block;z-index:2;pointer-events:none;position:absolute;inset:0 0 auto auto;width:40px;height:100%;top:50%;transform:translateY(-50%);}&.left-visible:after{background:linear-gradient( to right,",",transparent );left:0;}&.right-visible:before{background:linear-gradient( to left,",",transparent );right:0;}"],(e=>e.theme.mediaWidth.upToSmall(s||(s=Object(r.a)(["\n    justify-content: flex-start;\n  "])))),(e=>{var t=e.theme,n=e.backgroundColor;return null!==n&&void 0!==n?n:t.buttonBlack}),(e=>{var t=e.theme,n=e.backgroundColor;return null!==n&&void 0!==n?n:t.buttonBlack})),O=a.default.div.withConfig({displayName:"RewardTokenPrices__RewardTokensList",componentId:"sc-1l03pbq-1"})(["display:flex;"]),f=a.default.div.withConfig({displayName:"RewardTokenPrices__TokenWrapper",componentId:"sc-1l03pbq-2"})(["display:flex;align-items:center;padding-left:",";padding-right:",";border-left:",";white-space:nowrap;"],(e=>e.isFirstItem?"0":"20px"),(e=>e.isLastItem?"0":"20px"),(e=>{var t=e.theme;return e.isFirstItem?"none":"1px solid ".concat(t.border)})),g=a.default.span.withConfig({displayName:"RewardTokenPrices__TokenSymbol",componentId:"sc-1l03pbq-3"})(["margin-left:4px;font-size:14px;font-weight:400;margin-right:4px;"]);t.b=e=>{var t=e.style,n=void 0===t?{}:t,s=e.rewardTokens,r=Object(b.b)().chainId,a=s.findIndex((e=>e.wrapped.address===l.bb))>=0,v=s.findIndex((e=>e.wrapped.address===o.WETH[r].address))>=0;(s=a&&v?s.filter((e=>e.wrapped.address!==o.WETH[r].address)):s).sort((function(e,t){return e.wrapped.address===j.f[r].address?-1:t.wrapped.address===j.f[r].address?1:e.wrapped.address===l.bb||e.wrapped.address===o.WETH[r].address?-1:t.wrapped.address===l.bb||t.wrapped.address===o.WETH[r].address?1:0}));var y=Object(p.a)(s.map((e=>e.wrapped.address))),k=Object(i.useRef)(null),w=Object(i.useRef)(null),C=Object(i.useRef)(null),S=Object(u.a)((()=>{var e,t,n,s,r,o=k.current;(null===o||void 0===o?void 0:o.scrollLeft)>0?null===(t=C.current)||void 0===t||t.classList.add("left-visible"):null===(n=C.current)||void 0===n||n.classList.remove("left-visible");(null===(e=w.current)||void 0===e?void 0:e.scrollWidth)-(null===o||void 0===o?void 0:o.scrollLeft)>(null===o||void 0===o?void 0:o.clientWidth)?null===(s=C.current)||void 0===s||s.classList.add("right-visible"):null===(r=C.current)||void 0===r||r.classList.remove("right-visible")}),300);return Object(i.useEffect)((()=>(window.addEventListener("resize",S),()=>window.removeEventListener("resize",S))),[]),Object(i.useEffect)((()=>{S()}),[r]),s.length?Object(m.jsx)(h,{ref:C,style:n,children:Object(m.jsx)(c.a,{innerRef:k,vertical:!1,className:"scroll-container",onScroll:S,children:Object(m.jsx)(O,{ref:w,children:s.map(((e,t)=>{var n;return Object(m.jsxs)(f,{isFirstItem:0===t,isLastItem:t===(null===(n=s)||void 0===n?void 0:n.length)-1,children:[Object(m.jsx)(d.a,{currency:e,size:"20px"}),Object(m.jsxs)(g,{children:[e.symbol,":"]}),Object(m.jsx)("span",{children:y[e.wrapped.address]?Object(x.j)(y[e.wrapped.address],!0):"N/A"})]},t)}))})})}):null}},"./src/components/SwitchLocaleLink/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var s,r=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),o=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),i=n("./node_modules/querystring-es3/index.js"),c=n("./node_modules/react/index.js"),a=n("./node_modules/react-router/dist/index.js"),d=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("./src/constants/locales.tsx"),j=n("./src/hooks/useActiveLocale.ts"),b=n("./src/hooks/useParsedQueryString.ts"),u=n("./src/theme/index.tsx"),p=n("./node_modules/react/jsx-runtime.js"),x=Object(d.default)(u.j.small).withConfig({displayName:"SwitchLocaleLink__Container",componentId:"sc-1rrcg41-0"})(["opacity:0.6;:hover{opacity:1;}margin-top:1rem !important;",";"],(e=>e.theme.mediaWidth.upToMedium(s||(s=Object(o.a)(["\n    display: none;\n  "])))));function m(){var e=Object(j.b)(),t=Object(c.useMemo)((()=>Object(j.a)()),[]),n=Object(a.k)(),s=Object(b.a)();if(t&&(t!==l.a||e!==l.a)){var o;o=e===t?l.a:t;var d=Object(r.a)(Object(r.a)({},n),{},{search:Object(i.stringify)(Object(r.a)(Object(r.a)({},s),{},{lng:o}))});return Object(p.jsxs)(x,{children:["KyberSwap available in: ",Object(p.jsx)(u.i,{to:d,children:Object(l.c)(o)})]})}return null}},"./src/components/Vesting/ProMMVesting.tsx":function(e,t,n){"use strict";var s=n("./node_modules/@lingui/react/esm/index.js"),r=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),o=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),i=n("./node_modules/rebass/dist/index.esm.js"),c=n("./src/components/LocalLoader/index.tsx"),a=n("./src/hooks/useTheme.ts"),d=n("./src/state/vesting/hooks.ts"),l=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),j=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),b=n("./src/constants/index.ts"),u=n("./src/hooks/useMixpanel.ts"),p=n("./src/state/transactions/hooks.tsx"),x=n("./src/state/transactions/type.ts"),m=n("./src/utils/index.ts"),h=n("./src/utils/formatBalance.ts"),O=n("./src/components/Vesting/VestingCard.tsx"),f=n("./node_modules/react/jsx-runtime.js"),g=e=>{var t=e.schedules,n=t.reduce(((e,t)=>e<t.endTime?t.endTime:e),0),s=Math.floor(+new Date/1e3),r=n-s,i=Object(u.c)().mixpanelHandler,c=t.reduce(((e,t,n)=>{var r=t.token.isNative?b.bb:t.token.address;e[r]||(e[r]={vestableIndexes:[],vestableAmount:o.a.from(0),totalAmount:o.a.from(0),unlockedAmount:o.a.from(0),vestedAmount:o.a.from(0),token:t.token,tokenPrice:t.tokenPrice}),e[r].totalAmount=e[r].totalAmount.add(o.a.from(t.quantity)),e[r].vestedAmount=e[r].vestedAmount.add(o.a.from(t.vestedQuantity));var i=t.quantity.sub(t.vestedQuantity).isZero(),c=s>t.endTime,a=o.a.from(t.endTime-t.startTime),d=c?t.quantity:t.quantity.mul(o.a.from(s).sub(o.a.from(t.startTime))).div(a);e[r].unlockedAmount=e[r].unlockedAmount.add(d);var l=d.sub(o.a.from(t.vestedQuantity));return e[r].vestableAmount=e[r].vestableAmount.add(l.isNegative()?o.a.from(0):l),i||e[r].vestableIndexes.push(t.index),e}),{}),a=Object(p.g)(),d=function(){var e=Object(j.a)(Object(l.a)().mark((function e(){var n,s,r,o,d;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===t||void 0===t?void 0:t[0].contract){e.next=3;break}return e.abrupt("return");case 3:return s=Object.keys(c),r=s.map((e=>c[e].vestableIndexes)),s=s.filter(((e,t)=>!!r[t].length)),r=r.filter((e=>!!e.length)),e.next=9,n.estimateGas.vestScheduleForMultipleTokensAtIndices(s,r);case 9:return o=e.sent,e.next=12,n.vestScheduleForMultipleTokensAtIndices(s,r,{gasLimit:Object(m.b)(o)});case 12:(d=e.sent)&&(a({hash:d.hash,type:x.c.CLAIM_REWARD,extraInfo:{summary:"all rewards"}}),i(u.a.ELASTIC_ALL_REWARD_CLAIMED,{reward_tokens_and_qty:Object.assign({},...Object.keys(c).map((e=>({[e]:Object(h.a)(c[e].vestableAmount,c[e].token.decimals)}))))}));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(O.a,{info:c,endTime:n,remainTime:r,onClaimAll:d})},v=n("./src/components/Vesting/styleds.tsx");t.a=()=>{var e=Object(a.a)(),t=Object(d.a)(),n=t.loading,l=t.schedulesByRewardLocker,j={value:0,amountByAddress:{}},b={value:0,amountByAddress:{}},u={value:0,amountByAddress:{}},p={value:0,amountByAddress:{}},x=Math.floor(+new Date/1e3);Object.values(l).forEach((e=>{e.forEach((e=>{var t=e.token.isNative?e.token.symbol:e.token.address,n=r.CurrencyAmount.fromRawAmount(e.token,e.quantity.toString()),s=e.tokenPrice*parseFloat(n.toExact());j.value+=s,j.amountByAddress[t]?j.amountByAddress[t]=j.amountByAddress[t].add(n):j.amountByAddress[t]=n;var i=r.CurrencyAmount.fromRawAmount(e.token,e.vestedQuantity.toString()),c=e.tokenPrice*parseFloat(i.toExact());p.value+=c,p.amountByAddress[t]?p.amountByAddress[t]=p.amountByAddress[t].add(i):p.amountByAddress[t]=i;var a=x>e.endTime,d=o.a.from(e.endTime-e.startTime),l=a?e.quantity:e.quantity.mul(o.a.from(x).sub(o.a.from(e.startTime)).div(d)),m=r.CurrencyAmount.fromRawAmount(e.token,l.sub(o.a.from(e.vestedQuantity)).toString()),h=e.tokenPrice*parseFloat(m.toExact());u.value+=h,u.amountByAddress[t]?u.amountByAddress[t]=u.amountByAddress[t].add(m):u.amountByAddress[t]=m;var O=r.CurrencyAmount.fromRawAmount(e.token,e.quantity.sub(l).toString());b.value+=e.tokenPrice*parseFloat(O.toExact()),b.amountByAddress[t]?b.amountByAddress[t]=b.amountByAddress[t].add(O):b.amountByAddress[t]=O}))}));var m=Object.keys(l).every((e=>{var t;return!(null!==(t=l[e])&&void 0!==t&&t.length)}));return Object(f.jsx)(f.Fragment,{children:m?n?Object(f.jsx)(c.a,{}):Object(f.jsx)(i.d,{textAlign:"center",color:e.subText,marginTop:"24px",children:Object(f.jsx)(s.b,{id:"No vesting schedule!"})}):Object(f.jsx)(v.a,{children:Object.keys(l).map((e=>l[e].length?Object(f.jsx)(g,{schedules:l[e]},e):null))})})}},"./src/components/Vesting/VestingCard.tsx":function(e,t,n){"use strict";var s,r,o,i,c,a,d,l,j=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),b=n("./node_modules/@lingui/react/esm/index.js"),u=n("./node_modules/@lingui/core/esm/index.js"),p=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),x=n("./node_modules/dayjs/dayjs.min.js"),m=n.n(x),h=n("./node_modules/rebass/dist/index.esm.js"),O=n("./node_modules/recharts/es6/chart/PieChart.js"),f=n("./node_modules/recharts/es6/polar/Pie.js"),g=n("./node_modules/recharts/es6/component/Cell.js"),v=n("./node_modules/recharts/es6/component/Tooltip.js"),y=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),k=n("./src/components/Button/index.tsx"),w=n("./src/components/CurrencyLogo/index.tsx"),C=n("./src/components/HoverDropdown/index.tsx"),S=n("./src/components/Icons/Wallet.tsx"),T=n("./src/components/Tooltip/index.tsx"),I=n("./src/hooks/useTheme.ts"),A=n("./src/utils/numbers.ts"),_=n("./node_modules/react/jsx-runtime.js"),L=e=>{if(e<0)return u.a._("Full unlocked");var t=e/60/60/24;if(t>1)return t+" Days left";var n=e/60/60;return n<24&&n>1?n.toFixed(0)+" Hours left":(e/60).toFixed(0)+" Minutes left"},E=["#0086E7","#31CB9E","#FF50F8","#FF9901"],P=y.default.div.withConfig({displayName:"VestingCard__ScheduleCardWrapper",componentId:"sc-z19nm2-0"})(["padding:24px;border-radius:20px;background:",";border:1px solid ",";",""],(e=>e.theme.background),(e=>e.theme.border),(e=>e.theme.mediaWidth.upToSmall(s||(s=Object(j.a)(["\n    padding: 16px;\n  "]))))),D=y.default.span.withConfig({displayName:"VestingCard__ScheduleCardContent",componentId:"sc-z19nm2-1"})(["background:",";padding:24px;border-radius:20px;display:flex;"," ",""],(e=>e.theme.buttonBlack),(e=>e.theme.mediaWidth.upToLarge(r||(r=Object(j.a)(["\n    flex-direction: column;\n  "])))),(e=>e.theme.mediaWidth.upToSmall(o||(o=Object(j.a)(["\n    background: ",";\n    padding: 0;\n  "])),(e=>e.theme.background)))),z=y.default.div.withConfig({displayName:"VestingCard__TotalHarvested",componentId:"sc-z19nm2-2"})(["flex:1;"]),M=y.default.div.withConfig({displayName:"VestingCard__DetailReward",componentId:"sc-z19nm2-3"})(["flex:2;border-left:1px solid ",";padding-left:24px;",""],(e=>e.theme.border),(e=>e.theme.mediaWidth.upToLarge(i||(i=Object(j.a)(["\n    padding-left: 0;\n    border-left: none;\n    margin-top: 24px\n  "]))))),R=Object(y.default)(h.d).withConfig({displayName:"VestingCard__Title",componentId:"sc-z19nm2-4"})(["font-size:14px;font-weight:500;border-bottom:1px dashed ",";line-height:24px;color:",";"],(e=>{var t=e.theme;return e.noBorder?"transparent":t.border}),(e=>e.theme.subText)),F=y.default.div.withConfig({displayName:"VestingCard__ProgressBar",componentId:"sc-z19nm2-5"})(["height:36px;margin-top:12px;background:",";position:relative;"],(e=>e.theme.border)),N=y.default.div.withConfig({displayName:"VestingCard__Claimed",componentId:"sc-z19nm2-6"})(["height:36px;background:",";width:",";position:absolute;left:0;top:0;z-index:1;text-align:right;"],(e=>e.theme.darkGreen),(e=>e.width)),B=Object(y.default)(N).withConfig({displayName:"VestingCard__Unlocked",componentId:"sc-z19nm2-7"})(["background:",";"],(e=>e.theme.primary)),W=y.default.div.withConfig({displayName:"VestingCard__Dot",componentId:"sc-z19nm2-8"})(["width:16px;height:16px;border-radius:50%;background:",";"],(e=>e.color)),H=y.default.div.withConfig({displayName:"VestingCard__Circle",componentId:"sc-z19nm2-9"})(["width:12px;height:12px;border-radius:50%;background:",";"],(e=>e.fill)),V=Object(y.default)(h.b).withConfig({displayName:"VestingCard__SummaryWrapper",componentId:"sc-z19nm2-10"})(["gap:24px;width:100%;",""],(e=>e.theme.mediaWidth.upToSmall(c||(c=Object(j.a)(["\n    flex-direction: column;\n    gap: 12px;\n  "]))))),q=y.default.div.withConfig({displayName:"VestingCard__SummaryItem",componentId:"sc-z19nm2-11"})(["border-radius:20px;flex:1;padding:16px 24px;background:",";",""],(e=>{var t=e.theme;return e.colorful?t.radialGradient:t.background}),(e=>{var t=e.theme,n=e.colorful;return t.mediaWidth.upToSmall(a||(a=Object(j.a)(["\n    background: ",";\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  "])),n?t.radialGradient:t.buttonBlack)})),U=Object(y.default)(h.a).withConfig({displayName:"VestingCard__PieChartLengd",componentId:"sc-z19nm2-12"})(["margin:24px auto 0 !important;display:grid;grid-template-columns:1fr 1fr;gap:24px;width:fit-content;",""],(e=>e.theme.mediaWidth.upToExtraSmall(d||(d=Object(j.a)(["\n   grid-template-columns: 1fr;\n  "]))))),G=Object(y.default)(h.b).withConfig({displayName:"VestingCard__VestingPercent",componentId:"sc-z19nm2-13"})(["",""],(e=>e.theme.mediaWidth.upToExtraSmall(l||(l=Object(j.a)(["\n    flex-direction: column;\n  "])))));t.a=function(e){var t=e.info,n=e.endTime,s=e.remainTime,r=e.onClaimAll,o=Object(I.a)(),i=Object.values(t).reduce(((e,t)=>{var n=p.CurrencyAmount.fromRawAmount(t.token,t.vestableAmount.toString());return e+t.tokenPrice*parseFloat(n.toExact())}),0),c=Object.values(t).reduce(((e,t)=>{var n=p.CurrencyAmount.fromRawAmount(t.token,t.totalAmount.toString());return e+t.tokenPrice*parseFloat(n.toExact())}),0),a=Object.values(t).reduce(((e,t)=>{var n=p.CurrencyAmount.fromRawAmount(t.token,t.vestedAmount.toString());return e+t.tokenPrice*parseFloat(n.toExact())}),0),d=c-i-a,l=Object.values(t).some((e=>e.vestableAmount.gt(0))),j=100*(c?a/c:0),x=100*(c?i/c:0),y=Object.values(t).map((e=>{var t=e.tokenPrice*+p.CurrencyAmount.fromRawAmount(e.token,e.totalAmount.toString()).toExact();return{name:e.token.symbol,value:t,percent:t/c*100}}));return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(P,{children:Object(_.jsxs)(D,{children:[Object(_.jsxs)(z,{children:[Object(_.jsx)(T.a,{text:u.a._("The total amount of rewards you have harvested from the farms. Harvested rewards are locked initially and vested linearly over a short period."),children:Object(_.jsx)(R,{children:Object(_.jsx)(b.b,{id:"Total Harvested Rewards"})})}),Object(_.jsx)(h.d,{marginTop:"8px",fontSize:"32px",fontWeight:"500",children:Object(A.a)(c)}),Object(_.jsx)(R,{marginTop:"28px",noBorder:!0,children:Object(_.jsx)(b.b,{id:"Rewards Breakdown"})}),Object(_.jsx)(O.a,{width:184,height:184,style:{margin:"auto",marginTop:"24px"},children:Object(_.jsxs)(f.a,{data:y,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#82ca9d",children:[y.map(((e,t)=>Object(_.jsx)(g.a,{fill:E[t%E.length]},t))),Object(_.jsx)(v.a,{})]})}),Object(_.jsx)(U,{children:y.map(((e,t)=>Object(_.jsxs)(h.b,{fontSize:"12px",alignItems:"center",sx:{gap:"6px"},children:[Object(_.jsx)(H,{fill:E[t%E.length]}),Object(_.jsxs)(h.d,{children:[e.name,":"]}),Object(_.jsxs)(h.d,{color:o.subText,children:[Object(A.a)(e.value)," (",e.percent.toFixed(2),"%)"]})]},t)))})]}),Object(_.jsxs)(M,{children:[Object(_.jsxs)(V,{children:[Object(_.jsxs)(q,{children:[Object(_.jsxs)(h.b,{alignItems:"center",color:o.subText,sx:{gap:"4px"},children:[Object(_.jsx)(S.a,{}),Object(_.jsx)(T.a,{text:u.a._("The amount of rewards you have already claimed"),children:Object(_.jsx)(R,{children:Object(_.jsx)(b.b,{id:"Claimed Rewards"})})})]}),Object(_.jsx)(C.a,{padding:"8px 0 0",content:Object(_.jsx)(h.d,{fontSize:"20px",fontWeight:"500",children:Object(A.a)(a)}),dropdownContent:Object.values(t).length?Object.values(t).map((e=>Object(_.jsxs)(h.b,{alignItems:"center",paddingY:"4px",children:[Object(_.jsx)(w.a,{size:"16px",currency:e.token}),Object(_.jsxs)(h.d,{fontSize:"12px",marginLeft:"4px",children:[p.CurrencyAmount.fromRawAmount(e.token,e.vestedAmount.toString()).toSignificant(8)," ",e.token.symbol]})]},e.token.address))):""})]}),Object(_.jsxs)(q,{colorful:!0,children:[Object(_.jsxs)(h.b,{alignItems:"center",color:o.subText,sx:{gap:"4px"},children:[Object(_.jsx)(S.a,{}),Object(_.jsx)(T.a,{text:u.a._("The amount of rewards that are unlocked and can be claimed instantly as their vesting is over"),children:Object(_.jsx)(R,{children:"Claimable Rewards"})})]}),Object(_.jsx)(C.a,{padding:"8px 0 0",content:Object(_.jsx)(h.d,{fontSize:"20px",fontWeight:"500",children:Object(A.a)(i)}),dropdownContent:Object.values(t).map((e=>Object(_.jsxs)(h.b,{alignItems:"center",paddingY:"4px",children:[Object(_.jsx)(w.a,{size:"16px",currency:e.token}),Object(_.jsxs)(h.d,{fontSize:"12px",marginLeft:"4px",children:[p.CurrencyAmount.fromRawAmount(e.token,e.vestableAmount.toString()).toSignificant(8)," ",e.token.symbol]})]},e.token.address)))})]}),Object(_.jsxs)(q,{children:[Object(_.jsxs)(h.b,{alignItems:"center",color:o.subText,sx:{gap:"4px"},children:[Object(_.jsx)(S.a,{}),Object(_.jsx)(T.a,{text:u.a._("The amount of rewards that are locked as they are currently vesting"),children:Object(_.jsx)(R,{children:Object(_.jsx)(b.b,{id:"Locked Rewards"})})})]}),Object(_.jsx)(C.a,{padding:"8px 0 0",content:Object(_.jsx)(h.d,{fontSize:"20px",fontWeight:"500",children:Object(A.a)(d)}),dropdownContent:Object.values(t).length?Object.values(t).map((e=>Object(_.jsxs)(h.b,{alignItems:"center",paddingY:"4px",children:[Object(_.jsx)(w.a,{size:"16px",currency:e.token}),Object(_.jsxs)(h.d,{fontSize:"12px",marginLeft:"4px",children:[p.CurrencyAmount.fromRawAmount(e.token,e.totalAmount.sub(e.vestedAmount).sub(e.vestableAmount).toString()).toSignificant(8)," ",e.token.symbol]})]},e.token.address))):""})]})]}),Object(_.jsx)(h.d,{color:o.subText,fontSize:"14px",fontWeight:"500",marginTop:"36px",children:"Vesting Schedule"}),Object(_.jsxs)(h.b,{fontSize:"14px",marginTop:"20px",justifyContent:"space-between",children:[Object(_.jsx)(h.d,{children:"Full Unlock"}),Object(_.jsxs)(h.d,{color:o.subText,children:[m()(1e3*n).format("DD-MM-YYYY")," (",L(s),")"]})]}),Object(_.jsxs)(F,{children:[Object(_.jsx)(B,{width:"".concat(j+x,"%")}),Object(_.jsx)(N,{width:j+"%"})]}),Object(_.jsxs)(G,{sx:{gap:"24px"},alignItems:"center",justifyContent:"center",fontSize:"12px",color:o.subText,marginTop:"12px",children:[Object(_.jsxs)(h.b,{children:[Object(_.jsx)(W,{color:o.darkGreen}),Object(_.jsx)(h.d,{marginLeft:"4px",lineHeight:"16px",children:Object(_.jsx)(b.b,{id:"{0}% Claimed",values:{0:j.toFixed(0)}})})]}),Object(_.jsxs)(h.b,{children:[Object(_.jsx)(W,{color:o.primary}),Object(_.jsx)(h.d,{marginLeft:"4px",lineHeight:"16px",children:Object(_.jsx)(b.b,{id:"{0}% claimable",values:{0:x.toFixed(0)}})})]}),Object(_.jsxs)(h.b,{children:[Object(_.jsx)(W,{color:o.border}),Object(_.jsx)(h.d,{marginLeft:"4px",lineHeight:"16px",children:Object(_.jsx)(b.b,{id:"{0}% Locked",values:{0:Math.abs(100-x-j).toFixed(0)}})})]})]}),Object(_.jsx)(k.i,{style:{margin:"28px auto 0",fontSize:"14px",width:"fit-content",minWidth:"200px"},onClick:r,disabled:!l,children:Object(_.jsx)(b.b,{id:"Claim"})})]})]})})})}},"./src/components/Vesting/index.tsx":function(e,t,n){"use strict";var s=n("./node_modules/@lingui/react/esm/index.js"),r=n("./node_modules/rebass/dist/index.esm.js"),o=n("./src/components/LocalLoader/index.tsx"),i=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),c=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),d=n("./src/constants/index.ts"),l=n("./src/constants/tokens.ts"),j=n("./src/hooks/index.ts"),b=n("./src/hooks/useMixpanel.ts"),u=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),p=n("./node_modules/react/index.js");var x=n("./src/constants/messages.ts"),m=n("./src/hooks/useContract.ts"),h=n("./src/state/transactions/hooks.tsx"),O=n("./src/state/transactions/type.ts"),f=n("./src/utils/index.ts"),g=e=>{var t=Object(h.g)(),n=Object(m.r)(e),s=Object(p.useCallback)(function(){var e=Object(c.a)(Object(i.a)().mark((function e(s,r){var o,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(x.a);case 2:return e.next=4,n.estimateGas.vestScheduleAtIndices(s,r);case 4:return o=e.sent,e.next=7,n.vestScheduleAtIndices(s,r,{gasLimit:Object(f.b)(o)});case 7:return c=e.sent,t({hash:c.hash,type:O.c.CLAIM_REWARD,extraInfo:{summary:"reward"}}),e.abrupt("return",c.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,t]),r=Object(p.useCallback)(function(){var e=Object(c.a)(Object(i.a)().mark((function e(s,r){var o,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(x.a);case 2:return e.next=4,n.estimateGas.vestScheduleForMultipleTokensAtIndices(s,r);case 4:return o=e.sent,e.next=7,n.vestScheduleForMultipleTokensAtIndices(s,r,{gasLimit:Object(f.b)(o)});case 7:return c=e.sent,t({hash:c.hash,type:O.c.CLAIM_REWARD,extraInfo:{summary:"all rewards"}}),e.abrupt("return",c.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,t]);return{vestAtIndex:s,vestMultipleTokensAtIndices:r}},v=n("./src/state/application/hooks.ts"),y=n("./src/state/farms/classic/types.ts"),k=n("./src/state/hooks.ts"),w=n("./src/state/tokenPrices/hooks.ts"),C=n("./src/state/vesting/actions.ts"),S=n("./src/utils/formatBalance.ts"),T=n("./src/components/Vesting/VestingCard.tsx"),I=n("./node_modules/react/jsx-runtime.js"),A=e=>{var t=e.rewardLockerAddress,n=e.schedules,s=e.rewardLockerVersion,r=Object(k.a)(),o=Object(v.c)(),x=Math.round(Date.now()/1e3),m=Object(j.b)(),h=m.account,O=m.chainId,f=g(t).vestMultipleTokensAtIndices,A=Object(b.c)().mixpanelHandler;n||(n=[]);var _={};n.forEach((e=>{var t=e[4].address===d.bb?l.i[O].wrapped.address:e[4].address;_[t]||(_[t]=e[4])}));var L=Object(w.a)(Object.keys(_)),E=n.reduce(((e,t)=>{if(!o)return e;var n=t[4].address===d.bb?l.i[O].wrapped.address:t[4].address;e[n]||(e[n]={vestableIndexes:[],vestableAmount:a.a.from(0),totalAmount:a.a.from(0),unlockedAmount:a.a.from(0),vestedAmount:a.a.from(0),token:t[4],tokenPrice:L[n]}),e[n].totalAmount=e[n].totalAmount.add(a.a.from(t[2])),e[n].vestedAmount=e[n].vestedAmount.add(a.a.from(t[3]));var r=t[2].sub(t[3]).isZero(),i=(s===y.b.V1?t[1].lt(o):t[1].lt(x))?t[2]:s===y.b.V1?t[2].mul(a.a.from(o).sub(t[0])).div(t[1].sub(t[0])):t[2].mul(a.a.from(x).sub(t[0])).div(t[1].sub(t[0])),c=i.sub(a.a.from(t[3]));return r||e[n].vestableIndexes.push(t[5]),e[n].vestableAmount=e[n].vestableAmount.add(c.isNegative()?a.a.from(0):c),e[n].unlockedAmount=e[n].unlockedAmount.add(i),e}),{}),P=function(){var e=Object(c.a)(Object(i.a)().mark((function e(){var t,n,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return");case 2:return r(Object(C.d)(!0)),r(Object(C.a)(!0)),r(Object(C.e)("")),e.prev=5,t=Object.values(E).filter((e=>e.vestableIndexes.length>0)).map((e=>e.token.address)),n=Object.keys(E).reduce(((e,t)=>(E[t].vestableIndexes.length>0&&e.push(E[t].vestableIndexes),e)),[]),e.next=10,f(t,n);case 10:(s=e.sent)&&A(b.a.ALL_REWARDS_CLAIMED,{reward_tokens_and_amounts:Object.assign({},...Object.keys(E).map((e=>({[e]:Object(S.a)(E[e].vestableAmount,E[e].token.decimals)}))))}),r(Object(C.e)(s)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),console.error(e.t0),r(Object(C.f)(e.t0));case 19:r(Object(C.a)(!1));case 20:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(){return e.apply(this,arguments)}}(),D=function(e){var t=Object(j.e)().library,n=Object(p.useState)(),s=Object(u.a)(n,2),r=s[0],o=s[1];return Object(p.useEffect)((()=>{function n(){return(n=Object(c.a)(Object(i.a)().mark((function n(){var s;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=5;break}return n.next=3,null===t||void 0===t?void 0:t.getBlock(e);case 3:(s=n.sent)&&o(s.timestamp);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}r||function(){n.apply(this,arguments)}()}),[e,t,r]),r}(n.reduce(((e,t)=>t[6]===y.b.V1&&e&&e<t[1].toNumber()?t[1].toNumber():e),o)),z=n.reduce(((e,t)=>t[6]===y.b.V2&&e&&e<t[1].toNumber()?t[1].toNumber():e),D||0);return Object(I.jsx)(T.a,{info:E,endTime:z,remainTime:z-x,onClaimAll:P})},_=n("./src/components/Vesting/styleds.tsx"),L=n("./src/hooks/useTheme.ts"),E=n("./src/state/vesting/hooks.ts"),P=n("./node_modules/react-redux/es/index.js"),D=n("./src/components/TransactionConfirmationModal/index.tsx");function z(){var e=Object(P.e)((e=>e.vesting.showConfirm)),t=Object(P.e)((e=>e.vesting.attemptingTxn)),n=Object(P.e)((e=>e.vesting.txHash)),s=Object(P.e)((e=>e.vesting.error)),r=Object(k.a)(),o=Object(p.useCallback)((()=>{r(Object(C.d)(!1)),r(Object(C.a)(!1)),r(Object(C.e)("")),r(Object(C.f)(null))}),[r]),i=Object(p.useCallback)((()=>s?Object(I.jsx)(D.c,{onDismiss:o,message:s}):null),[o,s]);return Object(I.jsx)(D.e,{hash:n||"",isOpen:e,onDismiss:o,attemptingTxn:t,content:i,pendingText:""})}t.a=e=>{var t=e.loading,n=Object(E.c)().schedulesByRewardLocker,i=Object(E.b)(),c=Object(L.a)(),a=Object.keys(i).every((e=>{var t;return!(null!==(t=n[e])&&void 0!==t&&t.length)}));return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(z,{}),a?t?Object(I.jsx)(o.a,{}):Object(I.jsx)(r.d,{textAlign:"center",color:c.subText,marginTop:"24px",children:Object(I.jsx)(s.b,{id:"No vesting schedule!"})}):Object(I.jsx)(_.a,{children:Object.keys(i).filter((e=>{var t;return!(null===(t=n[e])||void 0===t||!t.length)})).map((e=>Object(I.jsx)(A,{rewardLockerAddress:e,schedules:n[e],rewardLockerVersion:i[e]},e)))})]})}},"./src/components/Vesting/styleds.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.div.withConfig({displayName:"styleds__ScheduleGrid",componentId:"sc-8ux8oq-0"})(["display:grid;gap:24px;grid-template-columns:1fr;margin-top:16px;"])},"./src/components/YieldPools/ElasticFarmModals/styled.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return b})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return x})),n.d(t,"a",(function(){return m}));var s,r,o,i=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),c=n("./node_modules/rebass/dist/index.esm.js"),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),d=a.default.div.withConfig({displayName:"styled__ModalContentWrapper",componentId:"sc-5x7u0u-0"})(["display:flex;flex-direction:column;width:100%;padding:24px 20px;background-color:",";"],(e=>e.theme.background)),l=Object(a.default)(c.d).withConfig({displayName:"styled__Title",componentId:"sc-5x7u0u-1"})(["font-size:20px;line-height:32px;font-weight:500;border-bottom:0.5px dashed ",";"],(e=>{var t=e.theme;return e.border?t.subText:"transparent"})),j=a.default.div.withConfig({displayName:"styled__TableHeader",componentId:"sc-5x7u0u-2"})(["display:grid;grid-template-columns:18px 90px 1.5fr repeat(3,1fr);border-top-left-radius:8px;border-top-right-radius:8px;background:",";gap:16px;font-size:12px;text-transform:uppercase;margin-top:16px;padding:16px;font-weight:500;color:",";align-items:center;",""],(e=>e.theme.tableHeader),(e=>e.theme.subText),(e=>e.theme.mediaWidth.upToSmall(s||(s=Object(i.a)(["\n    grid-template-columns: 18px 1fr 1fr;\n   "]))))),b=Object(a.default)(j).withConfig({displayName:"styled__TableRow",componentId:"sc-5x7u0u-3"})(["background:",";border-radius:0;text-transform:none;margin-top:0;font-weight:400;color:",";border-bottom:1px solid ",";"],(e=>e.theme.background),(e=>e.theme.text),(e=>e.theme.border)),u=a.default.div.withConfig({displayName:"styled__Select",componentId:"sc-5x7u0u-4"})(["cursor:pointer;width:180px;border-radius:4px;background:",";display:flex;justify-content:space-between;align-items:center;position:relative;font-size:12px;color:",";padding:12px;",""],(e=>e.theme.buttonBlack),(e=>e.theme.subText),(e=>e.theme.mediaWidth.upToSmall(r||(r=Object(i.a)(["\n    width: 100%;\n    margin-top: 16px;\n  "]))))),p=a.default.div.withConfig({displayName:"styled__SelectMenu",componentId:"sc-5x7u0u-5"})(["position:absolute;top:40px;left:0;width:180px;border-radius:8px;filter:drop-shadow(0px 4px 12px rgba(0,0,0,0.36));z-index:10;background:",";",""],(e=>e.theme.background),(e=>e.theme.mediaWidth.upToMedium(o||(o=Object(i.a)(["\n    width: 100%;\n  "]))))),x=a.default.div.withConfig({displayName:"styled__SelectOption",componentId:"sc-5x7u0u-6"})(["padding:12px;cursor:pointer;font-size:12px;color:",";"],(e=>e.theme.subText)),m=a.default.div.withConfig({displayName:"styled__DropdownIcon",componentId:"sc-5x7u0u-7"})(["transform:rotate(",");height:0;border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid ",";transition:transform 300ms;transform:rotate(",");"],(e=>e.rotate?"-180deg":"0"),(e=>e.theme.text),(e=>e.rotate?"-180deg":"0"))},"./src/components/YieldPools/ElasticFarms.tsx":function(e,t,n){"use strict";var s,r,o=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),i=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),c=n("./node_modules/@lingui/react/esm/index.js"),a=n("./node_modules/@lingui/core/esm/index.js"),d=n("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),l=n("./node_modules/react/index.js"),j=n.n(l),b=n("./node_modules/react-router-dom/dist/index.js"),u=n("./node_modules/rebass/dist/index.esm.js"),p=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),x=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),m=n("./src/hooks/useTheme.ts"),h=n("./src/theme/index.tsx"),O=n("./node_modules/react/jsx-runtime.js"),f=Object(p.default)(x.a).withConfig({displayName:"FarmIssueAnnouncement__DropdownIcon",componentId:"sc-zj85iy-0"})(["transition:transform 300ms;color:",";&[data-flip='true']{transform:rotate(180deg);}"],(e=>e.theme.subText)),g=p.default.div.withConfig({displayName:"FarmIssueAnnouncement__Wrapper",componentId:"sc-zj85iy-1"})(["border-radius:20px;padding:16px;font-size:14px;border:1px solid ",";margin-bottom:16px;color:",";li{line-height:20px;}"],(e=>e.theme.warning),(e=>e.theme.subText)),v=p.default.ul.withConfig({displayName:"FarmIssueAnnouncement__StyledUL",componentId:"sc-zj85iy-2"})(["flex-shrink:0;display:flex;flex-direction:column;margin:0;padding-left:24px;padding-right:8px;width:100%;row-gap:8px;margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;list-style-type:disc;list-style-position:outside;color:",";font-weight:400;font-size:14px;line-height:20px;"],(e=>e.theme.subText)),y=p.default.span.withConfig({displayName:"FarmIssueAnnouncement__Highlighted",componentId:"sc-zj85iy-3"})(["font-weight:500;color:",";"],(e=>e.theme.text)),k=()=>{var e=Object(m.a)();return Object(O.jsxs)(v,{style:{marginTop:"8px"},children:[Object(O.jsx)("li",{children:Object(O.jsx)(c.b,{id:"We recently discovered an issue in our Elastic farming contract where you might not be able to harvest your rewards or withdraw your liquidity positions like you <0>normally</0> would.",components:{0:Object(O.jsx)(y,{})}})}),Object(O.jsx)("li",{children:Object(O.jsx)(c.b,{id:"Don't worry, your funds are <0>100% safe</0>. And you are still earning farming rewards.",components:{0:Object(O.jsx)(y,{})}})}),Object(O.jsxs)("li",{children:[Object(O.jsx)(c.b,{id:"If you still wish to withdraw your liquidity positions from the farm, you can use the <0>Force Withdraw</0> button as an emergency option. Note:",components:{0:Object(O.jsx)(y,{style:{color:e.red}})}}),Object(O.jsxs)(v,{style:{marginTop:"8px",listStyleType:"circle"},children:[Object(O.jsx)("li",{children:Object(O.jsx)(c.b,{id:"If you do this, your farming rewards will <0>not</0> be automatically harvested but we can <1>manually transfer</1> your farming rewards to you.",components:{0:Object(O.jsx)(y,{}),1:Object(O.jsx)(y,{})}})}),Object(O.jsx)("li",{children:Object(O.jsx)(c.b,{id:"After force withdrawing your liquidity position from the farm, remember <0>not</0> to re-stake this in the farm.",components:{0:Object(O.jsx)(y,{})}})}),Object(O.jsx)("li",{children:Object(O.jsx)(c.b,{id:"If you wish to continue participating in the farm, you should remove liquidity from the <0>pool</0>, create a <1>new</1> liquidity position by adding liquidity into the pool, and then stake this new liquidity position into the farm.",components:{0:Object(O.jsx)(y,{}),1:Object(O.jsx)(y,{})}})})]})]}),Object(O.jsx)("li",{children:Object(O.jsx)(c.b,{id:"You can get in touch with us by joining our <0>Discord channel \u2197</0> and we will assist you with your questions or transfer of rewards.",components:{0:Object(O.jsx)(h.c,{href:"https://discord.gg/H8AQVhwBz9"})}})})]})},w=()=>{var e=Object(m.a)();return Object(O.jsxs)(v,{style:{marginTop:"8px"},children:[Object(O.jsx)("li",{children:Object(O.jsx)(c.b,{id:"We recently discovered an issue in our Elastic farming contract where you might not be able to harvest your rewards or withdraw your liquidity positions like you <0>normally</0> would.",components:{0:Object(O.jsx)(y,{})}})}),Object(O.jsx)("li",{children:Object(O.jsx)(c.b,{id:"Don't worry, your funds are <0>100% safe</0>.",components:{0:Object(O.jsx)(y,{})}})}),Object(O.jsx)("li",{children:Object(O.jsx)(c.b,{id:"You can use the <0>Force Withdraw</0> button as an emergency option. If you do this, your farming rewards will <1>not</1> be automatically harvested but we can <2>manually transfer</2> your farming rewards to you.",components:{0:Object(O.jsx)(y,{style:{color:e.red}}),1:Object(O.jsx)(y,{}),2:Object(O.jsx)(y,{})}})}),Object(O.jsx)("li",{children:Object(O.jsx)(c.b,{id:"You can get in touch with us by joining our <0>Discord channel \u2197</0> and we will assist you with your questions or transfer of rewards.",components:{0:Object(O.jsx)(h.c,{href:"https://discord.gg/H8AQVhwBz9"})}})})]})},C=e=>{var t=e.isEnded,n=Object(m.a)(),s=Object(l.useState)(!0),r=Object(i.a)(s,2),o=r[0],a=r[1];return Object(O.jsxs)(g,{children:[Object(O.jsxs)(u.b,{justifyContent:"space-between",onClick:()=>a((e=>!e)),sx:{cursor:"pointer"},children:[Object(O.jsxs)(u.b,{alignItems:"center",children:[Object(O.jsx)("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"M4.83333 16.6667H8.16667C8.16667 17.5833 7.41667 18.3333 6.5 18.3333C5.58333 18.3333 4.83333 17.5833 4.83333 16.6667ZM3.16667 15C3.16667 15.4583 3.54167 15.8333 4 15.8333H9C9.45833 15.8333 9.83333 15.4583 9.83333 15C9.83333 14.5417 9.45833 14.1667 9 14.1667H4C3.54167 14.1667 3.16667 14.5417 3.16667 15ZM12.75 7.91667C12.75 11.1 10.5333 12.8 9.60833 13.3333H3.39167C2.46667 12.8 0.25 11.1 0.25 7.91667C0.25 4.46667 3.05 1.66667 6.5 1.66667C9.95 1.66667 12.75 4.46667 12.75 7.91667ZM16.8083 6.14167L15.6667 6.66667L16.8083 7.19167L17.3333 8.33333L17.8583 7.19167L19 6.66667L17.8583 6.14167L17.3333 5L16.8083 6.14167ZM14.8333 5L15.6167 3.28333L17.3333 2.5L15.6167 1.71667L14.8333 0L14.05 1.71667L12.3333 2.5L14.05 3.28333L14.8333 5Z",fill:"#FF9901"})}),Object(O.jsx)(u.d,{fontWeight:"500",color:n.warning,marginLeft:"8px",children:Object(O.jsx)(c.b,{id:"Important Announcement"})})]}),Object(O.jsx)(u.b,{sx:{flex:"0 0 24px",justifyContent:"center",alignItems:"center"},children:Object(O.jsx)(f,{"data-flip":o})})]}),o&&Object(O.jsxs)(O.Fragment,{children:[t?Object(O.jsx)(w,{}):Object(O.jsx)(k,{}),Object(O.jsx)(u.d,{fontStyle:"italic",marginTop:"16px",children:Object(O.jsx)(c.b,{id:"We really apologize for the trouble."})})]})]})},S=n("./src/components/LocalLoader/index.tsx"),T=n("./src/components/ShareModal/index.tsx"),I=n("./src/constants/index.ts"),A=n("./src/constants/v2.ts"),_=n("./src/hooks/index.ts"),L=n("./src/hooks/useOnClickOutside.tsx"),E=n("./src/state/application/actions.ts"),P=n("./src/state/application/hooks.ts"),D=n("./src/state/farms/elastic/hooks.ts"),z=n("./src/utils/index.ts"),M=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),R=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),F=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),N=n("./node_modules/react-feather/dist/icons/info.js"),B=n("./node_modules/react-feather/dist/icons/arrow-down.js"),W=n("./node_modules/react-feather/dist/icons/arrow-up.js"),H=n("./node_modules/react-use/esm/useMedia.js"),V=n("./src/components/Button/index.tsx"),q=n("./src/components/Column/index.tsx"),U=n("./src/components/CurrencyLogo/index.tsx"),G=n("./src/components/HoverDropdown/index.tsx"),Y=n("./src/components/Icons/Deposit.tsx"),Z=n("./src/components/Icons/Harvest.tsx"),K=n("./src/components/InfoHelper/index.tsx"),Q=n("./src/components/Tooltip/index.tsx"),X=n("./src/constants/networks.ts"),J=n("./src/hooks/useContract.ts"),$=n("./src/pages/Pool/styleds.tsx"),ee=n("./src/state/multicall/hooks.ts"),te=n("./src/state/tokenPrices/hooks.ts"),ne=n("./src/state/transactions/hooks.tsx"),se=n("./src/state/user/hooks.tsx"),re=n("./src/state/user/reducer.ts"),oe=n("./src/utils/numbers.ts"),ie=n("./src/components/YieldPools/styleds.tsx"),ce=n("./node_modules/dayjs/dayjs.min.js"),ae=n.n(ce),de=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),le=n("./node_modules/react-feather/dist/icons/plus.js"),je=n("./node_modules/react-feather/dist/icons/minus.js"),be=n("./node_modules/react-feather/dist/icons/share-2.js"),ue=n("./src/components/Copy/index.tsx"),pe=n("./src/components/DoubleLogo/index.tsx"),xe=n("./src/components/HoverInlineText/index.tsx"),me=n("./src/components/Icons/index.ts"),he=n("./src/utils/formatTime.ts"),Oe=n("./src/utils/tokenInfo.ts"),fe=n("./src/components/YieldPools/FarmingPoolAPRCell.tsx"),ge=j.a.createContext((()=>{})),ve=()=>Object(l.useContext)(ge),ye=n("./node_modules/polished/dist/polished.esm.js"),ke=["title","titleId"];function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},we.apply(this,arguments)}function Ce(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},o=Object.keys(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Se(e,t){var n=e.title,o=e.titleId,i=Ce(e,ke);return l.createElement("svg",we({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},i),n?l.createElement("title",{id:o},n):null,s||(s=l.createElement("g",{clipPath:"url(#clip0_1341_44633)"},l.createElement("path",{d:"M8.44008 1.71999C8.18675 1.49999 7.80675 1.49999 7.55341 1.71999C4.30008 4.58666 2.66675 7.07999 2.66675 9.19999C2.66675 12.52 5.20008 14.6667 8.00008 14.6667C10.8001 14.6667 13.3334 12.52 13.3334 9.19999C13.3334 7.07999 11.7001 4.58666 8.44008 1.71999ZM5.22008 9.33333C5.46675 9.33333 5.66675 9.50666 5.71341 9.74666C5.98675 11.2267 7.23341 11.7333 8.14008 11.66C8.42675 11.6467 8.66675 11.8733 8.66675 12.16C8.66675 12.4267 8.45341 12.6467 8.18675 12.66C6.76675 12.7467 5.10675 11.9333 4.72675 9.91333C4.67341 9.61333 4.91341 9.33333 5.22008 9.33333Z",fill:"currentColor"}))),r||(r=l.createElement("defs",null,l.createElement("clipPath",{id:"clip0_1341_44633"},l.createElement("rect",{width:16,height:16,fill:"currentColor"})))))}var Te,Ie,Ae,_e=l.forwardRef(Se),Le=(n.p,n("./src/components/Divider/index.tsx")),Ee=p.default.div.withConfig({displayName:"FeeTarget__FeeTargetWrapper",componentId:"sc-1krv0ez-0"})(["border-radius:999px;display:flex;font-size:12px;background:",";position:relative;color:",";height:4px;align-items:center;min-width:140px;max-width:200px;position:relative;margin-top:4px;overflow:hidden;"],(e=>{var t=e.theme;return e.fullUnlock?t.primary:t.subText}),(e=>e.theme.textReverse)),Pe=p.default.div.withConfig({displayName:"FeeTarget__FeeArchive",componentId:"sc-1krv0ez-1"})(["width:",";height:100%;background:",";border-radius:999px;"],(e=>{var t=e.width;return"".concat(t,"%")}),(e=>{var t=e.theme;return 100===e.width?t.primary:t.warning})),De=e=>{var t=e.percent,n=e.style,s=void 0===n?{}:n,r=Number(t),o=Object(m.a)();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(u.b,{justifyContent:"space-between",fontSize:"12px",color:o.subText,marginTop:"4px",maxWidth:"200px",style:s,children:[Object(O.jsx)(c.b,{id:"Target Volume"}),r>=100?Object(O.jsx)(u.d,{color:o.primary,children:"\u2713"}):Object(O.jsxs)("div",{children:[r.toFixed(2),"%"]})]}),Object(O.jsx)(Ee,{fullUnlock:r>=100,style:s,children:Object(O.jsx)(Pe,{width:r})})]})},ze=n("./src/components/Badge/RangeBadge.tsx"),Me=n("./src/components/ProAmm/PriceVisualize.tsx"),Re=n("./src/hooks/useIsTickAtLimit.ts"),Fe=n("./src/state/mint/proamm/type.ts"),Ne=n("./src/utils/formatTickPrice.ts"),Be=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),We=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),He=n("./src/components/Icons/Withdraw.tsx"),Ve=["disabled","onClick","style"],qe=["disabled","onClick","style"],Ue=["disabled","onClick","style"],Ge=["onClick","style"],Ye=["onClick","style"];!function(e){e.Red="Red",e.Gray="Gray",e.Green="Green",e.APR="APR"}(Ae||(Ae={}));var Ze,Ke,Qe=Object(p.default)(V.g).withConfig({displayName:"buttons__BtnLight",componentId:"sc-18ir6ml-0"})(["padding:8px 12px;width:fit-content;",";"],(e=>e.theme.mediaWidth.upToSmall(Te||(Te=Object(We.a)(["\n    padding: 8px;\n  "]))))),Xe=Object(p.default)(V.g).withConfig({displayName:"buttons__ButtonOutlined",componentId:"sc-18ir6ml-1"})(["padding:8px 12px;width:fit-content;white-space:nowrap;"," ",";"],(e=>((e,t,n)=>{var s={[Ae.Red]:e.red,[Ae.Gray]:e.subText,[Ae.Green]:e.primary,[Ae.APR]:e.apr};t||(t=Ae.Green);var r=s[t];return Object(p.css)(["border-color:",";background-color:",";color:",";&:hover{background-color:",";}&:active{box-shadow:",";background-color:",";}"],r,"".concat(r,"20"),r,n?void 0:Object(ye.a)(.03,"".concat(r,"20")),n?void 0:"0 0 0 1pt ".concat(Object(ye.a)(.05,"".concat(r,"20"))),n?void 0:Object(ye.a)(.05,"".concat(r,"20")))})(e.theme,e.colorScheme,e.disabled)),(e=>e.theme.mediaWidth.upToSmall(Ie||(Ie=Object(We.a)(["\n    padding: 8px;\n  "]))))),Je=e=>{var t=e.disabled,n=e.onClick,s=e.style,r=Object(Be.a)(e,Ve),i=Object(H.a)("(max-width: ".concat(h.h.upToExtraSmall,"px)")),d=()=>Object(O.jsxs)(Xe,Object(o.a)(Object(o.a)({disabled:t,onClick:n,style:Object(o.a)({width:i?"100%":"max-content",height:"38px",padding:"12px"},s)},r),{},{children:[Object(O.jsx)(Y.a,{width:20,height:20}),Object(O.jsx)(u.d,{fontSize:"14px",marginLeft:"4px",children:Object(O.jsx)(c.b,{id:"Deposit"})})]}));return t?d():Object(O.jsx)(Q.b,{text:a.a._("Deposit your liquidity positions (i.e. your NFT tokens) into the farming contract. Then stake them into the farm"),style:{flex:1},children:d()})},$e=e=>{var t=e.disabled,n=e.onClick,s=e.style,r=Object(Be.a)(e,qe),i=Object(H.a)("(max-width: ".concat(h.h.upToExtraSmall,"px)")),d=()=>Object(O.jsxs)(Xe,Object(o.a)(Object(o.a)({colorScheme:Ae.Red,onClick:n,disabled:t,style:Object(o.a)({width:i?"100%":"max-content",height:"38px",padding:"12px"},s)},r),{},{children:[Object(O.jsx)(He.a,{width:20,height:20}),Object(O.jsx)(u.d,{fontSize:"14px",marginLeft:"4px",children:Object(O.jsx)(c.b,{id:"Withdraw"})})]}));return t?d():Object(O.jsx)(Q.b,{text:a.a._("Withdraw your liquidity positions (i.e. your NFT tokens) from the farming contract"),style:{flex:1},children:d()})},et=e=>{var t=e.disabled,n=e.onClick,s=e.style,r=Object(Be.a)(e,Ue),i=Object(H.a)("(max-width: ".concat(h.h.upToExtraSmall,"px)"));return Object(O.jsxs)(V.i,Object(o.a)(Object(o.a)({onClick:n,disabled:t,style:Object(o.a)({boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.16)",whiteSpace:"nowrap",width:i?"100%":"max-content",height:"38px"},s)},r),{},{children:[Object(O.jsx)(Z.a,{width:20,height:20}),Object(O.jsx)(u.d,{fontSize:"14px",marginLeft:"4px",children:Object(O.jsx)(c.b,{id:"Harvest All"})})]}))},tt=e=>{var t=e.onClick,n=(e.style,Object(Be.a)(e,Ge));return Object(O.jsx)(Qe,Object(o.a)(Object(o.a)({style:{flex:1,height:"38px",padding:"8px 16px"},onClick:t},n),{},{children:Object(O.jsx)(c.b,{id:"Connect Wallet"})}))},nt=Object(p.default)(V.g).withConfig({displayName:"buttons__MinimalActionButton",componentId:"sc-18ir6ml-2"})(["background-color:",";min-width:28px;min-height:28px;width:28px;height:28px;padding:0;",":disabled{background:",";cursor:not-allowed;}"],(e=>{var t=e.theme;return Object(ye.d)(t.primary,.2)}),(e=>((e,t,n)=>{var s={[Ae.Red]:e.red,[Ae.Gray]:e.subText,[Ae.Green]:e.primary,[Ae.APR]:e.apr};t||(t=Ae.Green);var r=s[t];return Object(p.css)(["background-color:",";color:",";&:hover{background-color:",";}&:active{box-shadow:",";background-color:",";}"],"".concat(r,"20"),r,n?void 0:Object(ye.a)(.03,"".concat(r,"20")),n?void 0:"0 0 0 1pt ".concat(Object(ye.a)(.05,"".concat(r,"20"))),n?void 0:Object(ye.a)(.05,"".concat(r,"20")))})(e.theme,e.colorScheme,e.disabled)),(e=>e.theme.buttonGray)),st=e=>{var t=e.onClick,n=e.style,s=Object(Be.a)(e,Ye),r=Object(o.a)({padding:"8px"},n);return Object(O.jsxs)(Xe,Object(o.a)(Object(o.a)({colorScheme:Ae.Red,style:r,onClick:t},s),{},{children:[Object(O.jsx)(He.a,{width:20,height:20}),Object(O.jsx)(u.d,{fontSize:"14px",marginLeft:"4px",children:Object(O.jsx)(c.b,{id:"Force Withdraw"})})]}))},rt=n("./src/components/YieldPools/ElasticFarmGroup/styleds.tsx"),ot=e=>{var t,n,s=e.price,r=e.isRevertPrice,o=e.farmAddress,i=e.pool,d=e.targetPercent,l=e.nftInfo,j=e.tokenPrices,b=Object(m.a)(),p=Object(D.b)().userFarmInfo,x=(null===p||void 0===p||null===(t=p[o])||void 0===t?void 0:t.joinedPositions[i.pid])||[],h=Object(D.d)(o).unstake,f=x.find((e=>e.nftId.toString()===l.nftId.toString())),g=!!f,v=(j[l.amount0.currency.address]||0)*+l.amount0.toExact()+(j[l.amount1.currency.address]||0)*+l.amount1.toExact(),y=l.pool.tickCurrent<l.tickLower||l.pool.tickCurrent>=l.tickUpper,k=Object(Re.a)(l.pool.fee,l.tickLower,l.tickUpper),w=r?l.token0PriceUpper.invert():l.token0PriceLower,C=r?l.token0PriceLower.invert():l.token0PriceUpper,S=null===p||void 0===p||null===(n=p[o])||void 0===n?void 0:n.rewardByNft,T=(null===S||void 0===S?void 0:S[i.pid+"_"+l.nftId.toString()])||[],I=T.reduce(((e,t)=>e+ +t.toExact()*(j[t.currency.wrapped.address]||0)),0);return Object(O.jsxs)(rt.i,{children:[Object(O.jsxs)(u.b,{alignItems:"center",justifyContent:"space-between",color:b.subText,children:[Object(O.jsxs)(u.b,{alignItems:"center",sx:{gap:"4px"},fontSize:"14px",fontWeight:"500",children:["NFT ID ",Object(O.jsx)(u.d,{color:y?b.warning:b.primary,children:l.nftId.toString()}),Object(O.jsx)(ze.a,{size:12,hideText:!0,removed:!1,inRange:!y})]}),g?Object(O.jsx)(Q.b,{text:a.a._("Unstake your liquidity positions (i.e. your NFT tokens) from the farm"),placement:"top",width:"300px",children:Object(O.jsx)(nt,{colorScheme:Ae.Red,onClick:()=>h(de.a.from(i.pid),[{nftId:l.nftId,position:l,stakedLiquidity:f.liquidity.toString(),poolAddress:i.poolAddress}]),children:Object(O.jsx)(je.a,{size:16})})}):Object(O.jsx)(nt,{colorScheme:Ae.Red,disabled:!g,children:Object(O.jsx)(je.a,{size:16})})]}),Object(O.jsxs)(u.b,{alignItems:"center",justifyContent:"space-between",marginTop:"12px",color:b.subText,fontSize:"12px",fontWeight:"500",children:[Object(O.jsx)(u.d,{children:Object(O.jsx)(c.b,{id:"My Deposit"})}),Object(O.jsx)(u.d,{children:Object(O.jsx)(c.b,{id:"My Rewards"})})]}),Object(O.jsxs)(u.b,{alignItems:"center",justifyContent:"space-between",marginTop:"4px",marginBottom:d?"12px":"0",children:[Object(O.jsx)(G.a,{style:{padding:"0"},content:Object(O.jsx)(u.d,{as:"span",fontSize:"16px",fontWeight:"500",children:Object(oe.a)(v)}),dropdownContent:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(u.b,{alignItems:"center",children:[Object(O.jsx)(U.a,{currency:l.amount0.currency,size:"16px"}),Object(O.jsxs)(u.d,{fontSize:"12px",marginLeft:"4px",fontWeight:"500",children:[l.amount0.toSignificant(8)," ",l.amount0.currency.symbol]})]},l.amount0.currency.address),Object(O.jsxs)(u.b,{alignItems:"center",children:[Object(O.jsx)(U.a,{currency:l.amount1.currency,size:"16px"}),Object(O.jsxs)(u.d,{fontSize:"12px",marginLeft:"4px",fontWeight:"500",children:[l.amount1.toSignificant(8)," ",l.amount1.currency.symbol]})]},l.amount1.currency.address)]})}),Object(O.jsx)(G.a,{style:{padding:"0"},content:I?Object(O.jsx)(u.d,{as:"span",fontSize:"16px",fontWeight:"500",children:Object(oe.a)(I)}):"--",hideIcon:!I,dropdownContent:T.map((e=>Object(O.jsxs)(u.b,{alignItems:"center",children:[Object(O.jsx)(U.a,{currency:e.currency,size:"16px"}),Object(O.jsxs)(u.d,{fontSize:"12px",marginLeft:"4px",fontWeight:"500",children:[e.toSignificant(8)," ",e.currency.wrapped.symbol]})]},e.currency.wrapped.address)))})]}),d&&Object(O.jsx)(De,{percent:d,style:{maxWidth:"100%"}}),Object(O.jsx)(Me.a,{priceLower:w,priceUpper:C,price:s}),Object(O.jsxs)(u.b,{justifyContent:"space-between",fontSize:"12px",fontWeight:"500",marginTop:"8px",children:[Object(O.jsxs)(u.d,{children:[Object(O.jsxs)(u.d,{as:"span",color:b.subText,children:[Object(O.jsx)(c.b,{id:"Min Price"}),":"]})," ",Object(Ne.a)(w,k,Fe.a.LOWER)]}),Object(O.jsxs)(u.d,{children:[Object(O.jsxs)(u.d,{as:"span",color:b.subText,children:[Object(O.jsx)(c.b,{id:"Max Price"}),":"]})," ",Object(Ne.a)(C,k,Fe.a.UPPER)]})]})]},l.nftId.toString())},it=p.default.div.withConfig({displayName:"FarmCard__Range",componentId:"sc-1ijs4cs-0"})(["align-self:flex-end;align-items:center;color:",";padding:3px 4px;gap:4px;font-size:12px;font-weight:500;display:flex;border-radius:999px;background:",";"],(e=>{var t=e.theme;return e.inrange?t.primary:t.warning}),(e=>{var t=e.theme,n=e.inrange;return Object(ye.d)(n?t.primary:t.warning,.3)})),ct=e=>{var t,n,s,r,o=e.disableUnstake,a=e.onUnstake,d=e.disableStake,j=e.onStake,p=e.onHarvest,x=e.pool,h=e.rewardValue,f=e.rewardPendings,g=e.depositedPositions,v=e.farmAddress,y=e.tokenPrices,k=e.targetPercent,w=e.targetPercentByNFT,C=Object(_.b)().chainId,S=Object(l.useState)(!1),T=Object(i.a)(S,2),L=T[0],E=T[1],P=Object(m.a)(),D=Math.floor(Date.now()/1e3),M=x.endTime<D,R=f.some((e=>e.greaterThan(0))),F=M?0:x.depositedUsd-x.stakedUsd,B=ve(),W=Object(l.useState)(!1),H=Object(i.a)(W,2),q=H[0],Y=H[1],X="".concat(I.h.ELASTIC_CREATE_POOL,"/").concat(x.token0.isNative?x.token0.symbol:x.token0.address,"/").concat(x.token1.isNative?x.token1.symbol:x.token1.address,"/").concat(x.pool.fee),J=null===g||void 0===g?void 0:g[0],$=J&&(L?J.pool.priceOf(J.pool.token1):J.pool.priceOf(J.pool.token0)),ee=g.filter((e=>e.pool.tickCurrent<e.tickLower||e.pool.tickCurrent>=e.tickUpper)).length,te=g.filter((e=>e.pool.tickCurrent>=e.tickLower&&e.pool.tickCurrent<e.tickUpper)).length,ne=Object(Oe.d)(C,null===x||void 0===x||null===(t=x.token0)||void 0===t||null===(n=t.wrapped)||void 0===n?void 0:n.address,x.token0.symbol),se=Object(Oe.d)(C,null===x||void 0===x||null===(s=x.token1)||void 0===s||null===(r=s.wrapped)||void 0===r?void 0:r.address,x.token1.symbol);return Object(O.jsxs)(rt.e,{flip:q,joined:!!g.length,children:[!q&&Object(O.jsxs)(rt.g,{children:[Object(O.jsxs)(u.b,{alignItems:"center",justifyContent:"space-between",children:[Object(O.jsxs)(u.b,{alignItems:"center",children:[Object(O.jsx)(pe.b,{currency0:x.token0,currency1:x.token1,size:20}),Object(O.jsx)(b.b,{to:X,style:{textDecoration:"none"},children:Object(O.jsxs)(u.d,{fontSize:16,fontWeight:500,children:[ne," - ",se]})}),Object(O.jsxs)(rt.d,{style:{fontSize:"12px"},children:["FEE ",100*x.pool.fee/I.A,"%"]})]}),Object(O.jsxs)(u.b,{sx:{gap:"4px"},children:[!!ee&&Object(O.jsx)(Q.a,{text:Object(O.jsx)(u.d,{fontSize:"12px",fontStyle:"italic",children:Object(O.jsx)(c.b,{id:"You have {numberOutRangePos} out-of-range position(s)",values:{numberOutRangePos:ee}})}),children:Object(O.jsxs)(it,{children:[ee," ",Object(O.jsx)(N.a,{size:12})]})}),!!te&&Object(O.jsx)(Q.a,{text:Object(O.jsx)(u.d,{fontSize:"12px",fontStyle:"italic",children:Object(O.jsx)(c.b,{id:"You have {numberInRangePos} in-range position(s)",values:{numberInRangePos:te}})}),children:Object(O.jsxs)(it,{inrange:!0,children:[te," ",Object(O.jsx)(N.a,{size:12})]})})]})]}),Object(O.jsxs)(u.b,{marginTop:"0.75rem",alignItems:"center",sx:{gap:"6px"},fontSize:"12px",color:P.subText,width:"max-content",fontWeight:"500",children:[Object(O.jsxs)(u.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(O.jsx)(ue.a,{toCopy:x.poolAddress}),Object(O.jsx)(u.d,{children:Object(z.A)(C,x.poolAddress,2)})]}),Object(O.jsxs)(u.b,{marginLeft:"12px",onClick:()=>{B(x.poolAddress)},sx:{cursor:"pointer",gap:"4px"},role:"button",color:P.subText,children:[Object(O.jsx)(be.a,{size:"14px",color:P.subText}),Object(O.jsx)(c.b,{id:"Share"})]})]}),Object(O.jsx)(u.d,{width:"fit-content",lineHeight:"16px",fontSize:"12px",fontWeight:"500",color:P.subText,sx:{borderBottom:"1px dashed ".concat(P.border)},marginTop:"16px",children:Object(O.jsx)(Q.a,{width:"fit-content",placement:"right",text:Object(O.jsx)(fe.a,{farmAPR:x.farmAPR,poolAPR:x.poolAPR}),children:Object(O.jsx)(c.b,{id:"Avg APR"})})}),Object(O.jsxs)(u.d,{fontSize:"28px",fontWeight:"500",color:P.apr,children:[(x.farmAPR+x.poolAPR).toFixed(2),"%"]}),Object(O.jsxs)(u.b,{justifyContent:"space-between",marginTop:"16px",fontSize:"12px",fontWeight:"500",color:P.subText,children:[Object(O.jsx)(u.d,{children:Object(O.jsx)(c.b,{id:"Staked TVL"})}),x.startTime>D?Object(O.jsx)(u.d,{color:P.warning,children:Object(O.jsx)(c.b,{id:"New phase will start in"})}):x.endTime>D?Object(O.jsx)(c.b,{id:"Current phase will end in"}):A.b.includes(x.poolAddress.toLowerCase())?Object(O.jsx)(c.b,{id:"To be extended soon"}):Object(O.jsx)(c.b,{id:"Ended at"})]}),Object(O.jsxs)(u.b,{justifyContent:"space-between",marginTop:"4px",fontSize:"16px",fontWeight:"500",marginBottom:"16px",children:[Object(O.jsx)(u.d,{fontWeight:"500",children:Object(oe.a)(x.tvl)}),x.startTime>D?Object(O.jsx)(u.d,{color:P.warning,children:Object(he.a)(x.startTime-D)}):x.endTime>D?Object(O.jsx)(O.Fragment,{children:Object(he.a)(x.endTime-D)}):A.b.includes(x.poolAddress.toLowerCase())?Object(O.jsx)(c.b,{id:"To be extended soon"}):Object(O.jsx)(O.Fragment,{children:ae()(1e3*x.endTime).format("DD-MM-YYYY HH:mm")})]}),Object(O.jsx)(Le.a,{}),Object(O.jsxs)(u.b,{marginTop:"16px",justifyContent:"space-between",fontSize:"12px",fontWeight:"500",color:P.subText,children:[Object(O.jsx)(u.d,{children:Object(O.jsx)(c.b,{id:"My Deposit"})}),Object(O.jsx)(u.d,{children:Object(O.jsx)(c.b,{id:"My Rewards"})})]}),Object(O.jsxs)(u.b,{marginTop:"4px",justifyContent:"space-between",children:[F?Object(O.jsxs)(u.b,{justifyContent:"flex-start",color:P.warning,fontWeight:"500",fontSize:"16px",children:[Object(oe.a)(x.depositedUsd),Object(O.jsx)(K.a,{placement:"top",color:P.warning,width:"270px",text:Object(O.jsxs)(u.b,{sx:{flexDirection:"column",gap:"6px",fontSize:"12px",lineHeight:"16px",fontWeight:400},children:[Object(O.jsx)(u.d,{as:"span",color:P.subText,children:Object(O.jsx)(c.b,{id:"You still have {0} in liquidity to stake to earn even more farming rewards",values:{0:Object(oe.a)(F)}})}),Object(O.jsxs)(u.d,{as:"span",color:P.text,children:["Staked: ",Object(oe.a)(x.stakedUsd)]}),Object(O.jsxs)(u.d,{as:"span",color:P.warning,children:["Not staked: ",Object(oe.a)(F)]})]})})]}):Object(O.jsx)(u.b,{justifyContent:"flex-start",color:P.text,fontWeight:"500",fontSize:"16px",children:x.depositedUsd?Object(oe.a)(x.depositedUsd):"--"}),Object(O.jsx)(G.a,{style:{padding:"0"},content:h?Object(O.jsx)(u.d,{fontSize:"16px",fontWeight:"500",textAlign:"right",children:Object(oe.a)(h)}):"--",hideIcon:!h,dropdownContent:Object(O.jsx)(u.b,{flexDirection:"column",sx:{gap:"8px"},children:f.map(((e,t)=>Object(O.jsxs)(u.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(O.jsx)(U.a,{currency:e.currency,size:"16px"}),e.toSignificant(6)," ",e.currency.symbol]},e.currency.symbol||t)))})})]}),"0"!==x.feeTarget&&Object(O.jsx)(De,{percent:k,style:{maxWidth:"100%"}}),Object(O.jsxs)(u.b,{marginTop:"20px",justifyContent:"space-between",children:[Object(O.jsxs)(u.b,{sx:{gap:"12px"},children:[Object(O.jsxs)(rt.a,{color:P.primary,disabled:d,onClick:j,children:[Object(O.jsx)(le.a,{size:16})," Stake"]}),Object(O.jsxs)(rt.a,{color:P.red,disabled:o,onClick:a,children:[Object(O.jsx)(je.a,{size:16})," Unstake"]})]}),Object(O.jsxs)(rt.a,{color:P.apr,disabled:!R,onClick:p,children:[Object(O.jsx)(Z.a,{})," Harvest"]})]}),Object(O.jsxs)(u.b,{justifyContent:"center",alignItems:"center",marginTop:"auto",paddingTop:"16px",fontSize:"12px",fontWeight:"500",role:"button",color:P.subText,opacity:g.length?1:.4,sx:{cursor:g.length?"pointer":"not-allowed"},onClick:()=>g.length&&Y((e=>!e)),children:[Object(O.jsx)(u.d,{as:"span",style:{transform:"rotate(90deg)"},children:Object(O.jsx)(me.J,{})}),Object(O.jsx)(u.d,{marginLeft:"4px",children:Object(O.jsx)(c.b,{id:"View Positions"})})]})]}),q&&Object(O.jsxs)(rt.f,{children:[Object(O.jsxs)(u.b,{alignItems:"center",height:"36px",children:[Object(O.jsx)(pe.b,{currency0:x.token0,currency1:x.token1,size:20}),Object(O.jsx)(b.b,{to:"".concat(I.h.ELASTIC_CREATE_POOL,"/").concat(x.token0.isNative?x.token0.symbol:x.token0.address,"/").concat(x.token1.isNative?x.token1.symbol:x.token1.address,"/").concat(x.pool.fee),style:{textDecoration:"none"},children:Object(O.jsxs)(u.d,{fontSize:16,fontWeight:500,children:[ne," - ",se]})}),Object(O.jsxs)(rt.d,{children:["FEE ",100*x.pool.fee/I.A,"%"]})]}),Object(O.jsxs)(u.b,{justifyContent:"space-between",fontSize:"12px",fontWeight:"500",alignItems:"center",children:[Object(O.jsxs)(u.d,{color:P.subText,children:[Object(O.jsx)(c.b,{id:"Current Price"}),":"]}),Object(O.jsxs)(V.d,{padding:"0",as:b.b,to:"".concat(I.h.MY_POOLS),style:{width:"max-content",color:P.subText,fontSize:"12px",fontWeight:"500",gap:"4px"},children:[Object(O.jsx)(_e,{}),Object(O.jsx)(c.b,{id:"My Pools"})," \u2197"]})]}),Object(O.jsxs)(u.b,{marginTop:"4px",alignItems:"center",children:[$&&Object(O.jsx)(u.d,{fontSize:"12px",fontWeight:"500",style:{textAlign:"right"},children:Object(O.jsx)(c.b,{id:"{0} {1} per {2}",values:{0:$.toSignificant(10),1:$.quoteCurrency.symbol,2:$.baseCurrency.symbol}})}),Object(O.jsx)("span",{onClick:()=>E((e=>!e)),style:{marginLeft:"2px",cursor:"pointer",transform:"rotate(90deg)"},children:Object(O.jsx)(me.J,{size:14})})]}),Object(O.jsx)(u.b,{maxHeight:"200px",flex:1,marginTop:"20px",sx:{overflowY:"scroll",gap:"12px"},flexDirection:"column",children:$&&g.map((e=>Object(O.jsx)(ot,{farmAddress:v,isRevertPrice:L,price:$,pool:x,nftInfo:e,tokenPrices:y,targetPercent:w[e.nftId.toString()]},e.nftId.toString())))}),Object(O.jsxs)(u.b,{justifyContent:"center",alignItems:"center",marginTop:"auto",paddingTop:"16px",fontSize:"12px",fontWeight:"500",role:"button",color:P.subText,sx:{cursor:"pointer"},onClick:()=>Y((e=>!e)),children:[Object(O.jsx)(u.d,{as:"span",style:{transform:"rotate(90deg)"},children:Object(O.jsx)(me.J,{})}),Object(O.jsx)(u.d,{marginLeft:"4px",children:Object(O.jsx)(c.b,{id:"View Farm"})})]})]})]})},at=e=>{var t,n,s,r=e.isApprovedForAll,o=e.fairlaunchAddress,j=e.pool,p=e.onOpenModal,h=e.onHarvest,f=e.isUserAffectedByFarmIssue,g=e.tokenPrices,v=Object(_.b)().chainId,y=Object(m.a)(),k=Math.floor(Date.now()/1e3),w=Object(se.z)(),C=Object(i.a)(w,1)[0],S=Object(H.a)("(min-width: 1000px)"),T=Object(l.useState)(!1),L=Object(i.a)(T,2),E=L[0],P=L[1],N=Object(D.b)().userFarmInfo,B=(null===N||void 0===N||null===(t=N[o])||void 0===t?void 0:t.joinedPositions[j.pid])||[],W=(null===N||void 0===N||null===(n=N[o])||void 0===n?void 0:n.depositedPositions.filter((e=>j.poolAddress.toLowerCase()===Object(d.computePoolAddress)({factoryAddress:X.h[Object(X.q)(v)?v:F.ChainId.MAINNET].elastic.coreFactory,tokenA:e.pool.token0,tokenB:e.pool.token1,fee:e.pool.fee,initCodeHashManualOverride:X.h[Object(X.q)(v)?v:F.ChainId.MAINNET].elastic.initCodeHash}).toLowerCase())))||[],V=(null===N||void 0===N||null===(s=N[o])||void 0===s?void 0:s.rewardPendings[j.pid])||j.rewardTokens.map((e=>F.CurrencyAmount.fromRawAmount(e,0))),q=V.reduce(((e,t)=>e+(g[t.currency.wrapped.address]||0)*+t.toExact()),0),G=Object(J.q)(o),Y=Object(l.useState)(""),$=Object(i.a)(Y,2),ee=$[0],te=$[1],ne=Object(l.useState)({}),ce=Object(i.a)(ne,2),ge=ce[0],ye=ce[1],ke=Object(l.useState)(!1),we=Object(i.a)(ke,2),Ce=we[0],Se=we[1];Object(l.useEffect)((()=>{var e=function(){var e=Object(R.a)(Object(M.a)().mark((function e(){var t,n,s,r,i,c;return Object(M.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G&&"0"!==j.feeTarget){e.next=2;break}return e.abrupt("return");case 2:if((t=(null===N||void 0===N?void 0:N[o].joinedPositions[j.pid])||[]).length){e.next=6;break}return te(""),e.abrupt("return");case 6:return e.next=8,Promise.all(t.map(function(){var e=Object(R.a)(Object(M.a)().mark((function e(t){var n;return Object(M.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.getRewardCalculationData(t.nftId,j.pid);case 2:return n=e.sent,e.abrupt("return",new F.Fraction(n.vestingVolume.toString(),de.a.from(1e12).toString()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:n=e.sent,s=t.reduce(((e,t,s)=>(e[t.nftId.toString()]=n[s].multiply(100).toFixed(2),e)),{}),ye(s),r=t.reduce(((e,t)=>e.add(t.liquidity.toString())),de.a.from(0))||de.a.from(0),i=t.reduce(((e,t,s)=>e.add(n[s].multiply(t.liquidity.toString()))),new F.Fraction(0,1)),r.gt(0)&&(c=i.multiply(100).divide(r.toString()),te(c.toFixed(2)));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[G,j.feeTarget,o,j.pid,N]);var Te=j.endTime>k&&W.some((e=>{var t=B.find((t=>t.nftId.toString()===e.nftId.toString()));return!t||de.a.from(e.liquidity.toString()).gt(de.a.from(t.liquidity.toString()))})),Ie=V.some((e=>e.greaterThan(0))),_e=!!B.length,Le=j.startTime<=k,Ee=ve(),Pe=j.endTime<k?0:j.depositedUsd-j.stakedUsd,ze=null===W||void 0===W?void 0:W[0],Me=ze&&(E?ze.pool.priceOf(ze.pool.token1):ze.pool.priceOf(ze.pool.token0));return C!==re.a.GRID&&S?Object(O.jsxs)(rt.n,{isOpen:Ce&&!!W.length,children:[Object(O.jsxs)(ie.t,{isOpen:Ce&&!!W.length,children:[Object(O.jsxs)("div",{children:[Object(O.jsxs)(u.b,{alignItems:"center",children:[Object(O.jsx)(pe.b,{currency0:j.token0,currency1:j.token1}),Object(O.jsx)(b.b,{to:"".concat(I.h.ELASTIC_CREATE_POOL,"/").concat(j.token0.isNative?j.token0.symbol:j.token0.address,"/").concat(j.token1.isNative?j.token1.symbol:j.token1.address,"/").concat(j.pool.fee),style:{textDecoration:"none"},children:Object(O.jsxs)(u.d,{fontSize:14,fontWeight:500,children:[Object(Oe.d)(v,j.token0.wrapped.address,j.token0.symbol)," -"," ",Object(Oe.d)(v,j.token1.wrapped.address,j.token1.symbol)]})}),Object(O.jsxs)(rt.d,{children:["FEE ",100*j.pool.fee/I.A,"%"]})]}),Object(O.jsxs)(u.b,{marginTop:"0.5rem",alignItems:"center",sx:{gap:"3px"},fontSize:"12px",color:y.subText,width:"max-content",fontWeight:"500",children:[Object(O.jsxs)(u.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(O.jsx)(ue.a,{toCopy:j.poolAddress}),Object(O.jsx)(u.d,{children:Object(z.A)(v,j.poolAddress,2)})]}),Object(O.jsxs)(u.b,{marginLeft:"12px",onClick:()=>{Ee(j.poolAddress)},sx:{cursor:"pointer",gap:"4px"},role:"button",color:y.subText,children:[Object(O.jsx)(be.a,{size:"14px",color:y.subText}),Object(O.jsx)(c.b,{id:"Share"})]})]})]}),Object(O.jsx)(u.d,{textAlign:"left",children:Object(oe.a)(j.tvl)}),Object(O.jsxs)(u.b,{alignItems:"center",justifyContent:"flex-start",color:y.apr,sx:{gap:"4px"},children:[(j.farmAPR+j.poolAPR).toFixed(2),"%",Object(O.jsx)(Q.a,{width:"fit-content",placement:"right",text:Object(O.jsx)(fe.a,{farmAPR:j.farmAPR,poolAPR:j.poolAPR}),children:Object(O.jsx)(me.w,{size:16,color:y.apr})})]}),Object(O.jsx)(u.b,{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",sx:{gap:"8px"},children:j.startTime>k?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.d,{fontSize:"12px",color:y.warning,children:Object(O.jsx)(c.b,{id:"New phase will start in"})}),Object(O.jsx)(u.d,{color:y.warning,children:Object(he.a)(j.startTime-k)})]}):j.endTime>k?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.d,{color:y.subText,fontSize:"12px",children:Object(O.jsx)(c.b,{id:"Current phase will end in"})}),Object(he.a)(j.endTime-k)]}):A.b.includes(j.poolAddress.toLowerCase())?Object(O.jsx)(c.b,{id:"To be extended soon"}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.d,{color:y.subText,fontSize:"12px",children:Object(O.jsx)(c.b,{id:"Ended at"})}),ae()(1e3*j.endTime).format("DD-MM-YYYY HH:mm")]})}),Object(O.jsxs)("div",{children:[Pe?Object(O.jsxs)(u.b,{justifyContent:"flex-start",color:y.warning,children:[Object(oe.a)(j.depositedUsd),Object(O.jsx)(K.a,{placement:"top",color:y.warning,width:"270px",text:Object(O.jsxs)(u.b,{sx:{flexDirection:"column",gap:"6px",fontSize:"12px",lineHeight:"16px",fontWeight:400},children:[Object(O.jsx)(u.d,{as:"span",color:y.subText,children:Object(O.jsx)(c.b,{id:"You still have {0} in liquidity to stake to earn even more farming rewards",values:{0:Object(oe.a)(Pe)}})}),Object(O.jsxs)(u.d,{as:"span",color:y.text,children:["Staked: ",Object(oe.a)(j.stakedUsd)]}),Object(O.jsxs)(u.d,{as:"span",color:y.warning,children:["Not staked: ",Object(oe.a)(Pe)]})]})})]}):Object(O.jsx)(u.b,{justifyContent:"flex-start",color:y.text,children:j.depositedUsd?Object(oe.a)(j.depositedUsd):"--"}),"0"!==j.feeTarget&&Object(O.jsx)(De,{percent:ee})]}),Object(O.jsx)(u.b,{flexDirection:"column",alignItems:"flex-end",sx:{gap:"8px"},children:V.map(((e,t)=>Object(O.jsxs)(u.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(O.jsx)(xe.a,{text:e.toSignificant(6),maxCharacters:10}),Object(O.jsx)(Q.a,{placement:"top",text:e.currency.symbol,width:"fit-content",children:Object(O.jsx)(U.a,{currency:e.currency,size:"16px"})})]},e.currency.symbol||t)))}),Object(O.jsxs)(u.b,{justifyContent:"flex-end",sx:{gap:"4px"},children:[f?Object(O.jsx)(Q.b,{text:a.a._("This farm is currently under maintenance. You can deposit your liquidity into the new farms instead. Your withdrawals are not affected."),placement:"top",width:"300px",children:Object(O.jsx)(nt,{style:{cursor:"not-allowed",backgroundColor:y.buttonGray,opacity:.4},children:Object(O.jsx)(le.a,{size:16})})}):r&&Te?Le?Object(O.jsx)(Q.b,{text:a.a._("Stake your liquidity positions (i.e. your NFT tokens) into the farm to start earning rewards"),placement:"top",width:"300px",children:Object(O.jsx)(nt,{onClick:()=>p("stake",j),children:Object(O.jsx)(le.a,{size:16})})}):Object(O.jsx)(Q.b,{text:a.a._("Farm has not started"),placement:"top",width:"fit-content",children:Object(O.jsx)(nt,{style:{cursor:"not-allowed",backgroundColor:y.buttonGray,color:y.border},children:Object(O.jsx)(le.a,{size:16})})}):Object(O.jsx)(nt,{disabled:!0,children:Object(O.jsx)(le.a,{size:16})}),_e?Object(O.jsx)(Q.b,{text:a.a._("Unstake your liquidity positions (i.e. your NFT tokens) from the farm"),placement:"top",width:"300px",children:Object(O.jsx)(nt,{colorScheme:Ae.Red,onClick:()=>p("unstake",j),children:Object(O.jsx)(je.a,{size:16})})}):Object(O.jsx)(nt,{colorScheme:Ae.Red,disabled:!_e,children:Object(O.jsx)(je.a,{size:16})}),Ie?Object(O.jsx)(Q.b,{text:a.a._("Harvest"),placement:"top",width:"fit-content",children:Object(O.jsx)(nt,{colorScheme:Ae.APR,onClick:h,children:Object(O.jsx)(Z.a,{})})}):Object(O.jsx)(nt,{colorScheme:Ae.Gray,disabled:!0,children:Object(O.jsx)(Z.a,{})}),!!W.length&&Object(O.jsx)(nt,{colorScheme:Ae.Gray,onClick:()=>Se((e=>!e)),children:Object(O.jsx)(x.a,{style:{transform:"rotate(".concat(Ce?"-180deg":"0",")"),transition:"transform 0.2s"}})})]})]}),Ce&&!!W.length&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(u.b,{fontSize:"12px",fontWeight:"500",padding:"0 16px 12px",sx:{gap:"4px"},children:[Object(O.jsxs)(u.d,{color:y.subText,children:[Object(O.jsx)(c.b,{id:"Current Price"}),":"]}),Object(O.jsx)(u.d,{fontSize:"12px",fontWeight:"500",style:{textAlign:"right"},children:Me?Object(O.jsx)(c.b,{id:"{0} {1} per {2}",values:{0:Me.toSignificant(10),1:Me.quoteCurrency.symbol,2:Me.baseCurrency.symbol}}):"--"}),Object(O.jsx)("span",{onClick:()=>P((e=>!e)),style:{marginLeft:"2px",cursor:"pointer"},children:Object(O.jsx)(me.K,{size:14})})]}),Object(O.jsx)(rt.h,{children:Me&&W.map((e=>Object(O.jsx)(ot,{farmAddress:o,pool:j,price:Me,isRevertPrice:E,nftInfo:e,tokenPrices:g,targetPercent:ge[e.nftId.toString()]},e.nftId.toString())))})]})]}):Object(O.jsx)(ct,{pool:j,rewardValue:q,rewardPendings:V,onHarvest:h,onStake:()=>p("stake",j),disableStake:!r||!Te||!Le,onUnstake:()=>p("unstake",j),disableUnstake:!_e,farmAddress:o,tokenPrices:g,targetPercent:ee,targetPercentByNFT:ge,depositedPositions:W})},dt=p.default.div.withConfig({displayName:"ElasticFarmGroup__FarmContent",componentId:"sc-1rlnedo-0"})(["background:",";border:1px solid ",";border-radius:20px;overflow:hidden;"],(e=>e.theme.background),(e=>e.theme.border));!function(e){e.PID="pid",e.STAKED_TVL="staked_tvl",e.APR="apr",e.END_TIME="end_time",e.MY_DEPOSIT="my_deposit",e.MY_REWARD="my_reward"}(Ze||(Ze={})),function(e){e.ASC="asc",e.DESC="desc"}(Ke||(Ke={}));var lt=e=>{var t,n=e.address,s=e.onOpenModal,r=e.pools,j=e.userInfo,p=Object(m.a)(),x=Object(_.b)(),f=x.account,g=x.chainId,v=Object(H.a)("(min-width: 1000px)"),y=Object(b.d)(),k=Object(i.a)(y,2),w=k[0],C=k[1],S=w.get("orderBy")||Ze.MY_DEPOSIT,T=w.get("orderDirection")||Ke.DESC,A=Object(D.b)().poolFeeLast24h,L=r.map((e=>[e.token0.wrapped.address,e.token1.wrapped.address,...e.rewardTokens.map((e=>e.wrapped.address))])).flat(),E=Object(te.a)([...new Set(L)]),z=(null===j||void 0===j?void 0:j.depositedPositions.reduce(((e,t)=>e+Number(t.amount0.toExact())*(E[t.amount0.currency.wrapped.address]||0)+Number(t.amount1.toExact())*(E[t.amount1.currency.wrapped.address]||0)),0))||0,ce=(null===j||void 0===j?void 0:j.depositedPositions.reduce(((e,t)=>{var n=t.amount0.currency.address,s=t.amount1.currency.address;return e[n]?e[n]=e[n].add(t.amount0):e[n]=t.amount0,e[s]?e[s]=e[s].add(t.amount1):e[s]=t.amount1,e}),{}))||{},ae=Object.values((null===j||void 0===j?void 0:j.rewardPendings)||{}).flat(),de=ae.reduce(((e,t)=>e+Number(t.toExact())*(E[t.currency.wrapped.address]||0)),0)||0,le=ae.reduce(((e,t)=>{var n=t.currency.wrapped.address;return e[n]?e[n]=e[n].add(t):e[n]=t,e}),{})||{},je=r.map((e=>{var t=e.stakedTvl?e.stakedTvl:E[e.token0.wrapped.address]*Number(e.tvlToken0.toExact())+E[e.token1.wrapped.address]*Number(e.tvlToken1.toExact()),n=e.totalRewards.reduce(((e,t)=>e+Number(t.toExact())*E[t.currency.wrapped.address]),0),s=(e.endTime-e.startTime)/86400,r=e.apr?e.apr:36500*(n||0)/s/e.poolTvl,i=e.poolAPR||0;!i&&e.feesUSD&&A[e.poolAddress]&&(i=100*(e.feesUSD-A[e.poolAddress])*365/e.poolTvl);var c=(null===j||void 0===j?void 0:j.joinedPositions[e.pid])||[],a=((null===j||void 0===j?void 0:j.depositedPositions.filter((t=>e.poolAddress.toLowerCase()===Object(d.computePoolAddress)({factoryAddress:X.h[Object(X.q)(g)?g:F.ChainId.MAINNET].elastic.coreFactory,tokenA:t.pool.token0,tokenB:t.pool.token1,fee:t.pool.fee,initCodeHashManualOverride:X.h[Object(X.q)(g)?g:F.ChainId.MAINNET].elastic.initCodeHash}).toLowerCase())))||[]).reduce(((e,t)=>e+Number(t.amount1.toExact())*(E[t.pool.token1.address.toLowerCase()]||0)+Number(t.amount0.toExact())*(E[t.pool.token0.address.toLowerCase()]||0)),0),l=c.reduce(((e,t)=>e+Number(t.amount1.toExact())*(E[t.pool.token1.address.toLowerCase()]||0)+Number(t.amount0.toExact())*(E[t.pool.token0.address.toLowerCase()]||0)),0),b=((null===j||void 0===j?void 0:j.rewardPendings[e.pid])||e.rewardTokens.map((e=>F.CurrencyAmount.fromRawAmount(e,0)))).reduce(((e,t)=>e+ +t.toExact()*E[t.currency.wrapped.address]),0);return Object(o.a)({tvl:t,poolAPR:i,farmAPR:r,depositedUsd:a,stakedUsd:l,rewardUSD:b},e)})).sort(((e,t)=>{switch(S){case Ze.PID:return T===Ke.DESC?+t.pid-+e.pid:+e.pid-+t.pid;case Ze.STAKED_TVL:return T===Ke.DESC?t.tvl-e.tvl:e.tvl-t.tvl;case Ze.APR:return T===Ke.DESC?t.farmAPR+t.poolAPR-e.farmAPR-e.poolAPR:e.farmAPR+e.poolAPR-t.farmAPR-t.poolAPR;case Ze.END_TIME:return T===Ke.DESC?t.endTime-e.endTime:e.endTime-t.endTime;case Ze.MY_DEPOSIT:return T===Ke.DESC?t.depositedUsd===e.depositedUsd?t.farmAPR+t.poolAPR-e.farmAPR-e.poolAPR:t.depositedUsd-e.depositedUsd:e.depositedUsd-t.depositedUsd;case Ze.MY_REWARD:return T===Ke.DESC?t.rewardUSD-e.rewardUSD:e.rewardUSD-t.rewardUSD;default:return T===Ke.DESC?+t.pid-+e.pid:+e.pid-+t.pid}})),be=Object(D.c)(),ue=((null===j||void 0===j?void 0:j.depositedPositions.map((e=>e.nftId.toString())))||[]).some((e=>be.includes(e))),pe=Object(P.x)(),xe=Object(J.o)(),me=Object(ee.c)(xe,"isApprovedForAll",[f||I.bb,n]),he=null===me||void 0===me||null===(t=me.result)||void 0===t?void 0:t[0],Oe=Object(D.d)(n).approve,fe=Object(l.useState)(""),ge=Object(i.a)(fe,2),ve=ge[0],ye=ge[1],ke=Object(ne.e)(ve),we=function(){var e=Object(R.a)(Object(M.a)().mark((function e(){var t;return Object(M.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(he){e.next=5;break}return e.next=3,Oe();case 3:t=e.sent,ye(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=w.get("type")||"active",Se=Object(H.a)("(max-width: ".concat(h.h.upToExtraSmall,"px)")),Te=Object(se.z)(),Ie=Object(i.a)(Te,1)[0];if(!r)return null;var Ae=Object.values((null===j||void 0===j?void 0:j.rewardPendings)||{}).some((e=>e.some((e=>e.greaterThan("0"))))),_e=!(null===j||void 0===j||!j.depositedPositions.length),Le=e=>{var t=S!==e?Ke.DESC:T===Ke.DESC?Ke.ASC:Ke.DESC;w.set("orderDirection",t),w.set("orderBy",e),C(w)},Ee=()=>Object(O.jsxs)(ie.s,{children:[Object(O.jsx)(u.b,{"grid-area":"token_pairs",alignItems:"center",justifyContent:"flex-start",children:Object(O.jsxs)(ie.f,{children:[Object(O.jsx)(c.b,{id:"Pool"}),S===Ze.PID&&(T===Ke.DESC?Object(O.jsx)(B.a,{size:12}):T===Ke.ASC?Object(O.jsx)(W.a,{size:12}):null)]})}),Object(O.jsx)(u.b,{"grid-area":"liq",alignItems:"center",justifyContent:"flex-start",children:Object(O.jsxs)(ie.f,{onClick:()=>{Le(Ze.STAKED_TVL)},children:[Object(O.jsx)(c.b,{id:"Staked TVL"}),S===Ze.STAKED_TVL&&(T===Ke.DESC?Object(O.jsx)(B.a,{size:12}):T===Ke.ASC?Object(O.jsx)(W.a,{size:12}):null)]})}),Object(O.jsxs)(u.b,{"grid-area":"apy",alignItems:"center",justifyContent:"flex-start",children:[Object(O.jsxs)(ie.f,{onClick:()=>{Le(Ze.APR)},children:[Object(O.jsx)(c.b,{id:"AVG APR"}),S===Ze.APR&&(T===Ke.DESC?Object(O.jsx)(B.a,{size:12}):T===Ke.ASC?Object(O.jsx)(W.a,{size:12}):null)]}),Object(O.jsx)(K.a,{text:a.a._("Average estimated return based on yearly trading fees from the pool & additional bonus rewards if you participate in the farm")})]}),Object(O.jsxs)(u.b,{"grid-area":"end",alignItems:"center",justifyContent:"flex-start",children:[Object(O.jsxs)(ie.f,{onClick:()=>{Le(Ze.END_TIME)},children:[Object(O.jsx)(c.b,{id:"Ending In"}),S===Ze.END_TIME&&(T===Ke.DESC?Object(O.jsx)(B.a,{size:12}):T===Ke.ASC?Object(O.jsx)(W.a,{size:12}):null)]}),Object(O.jsx)(K.a,{text:a.a._("Once a farm has ended, you will continue to receive returns through LP Fees")})]}),Object(O.jsx)(u.b,{"grid-area":"staked_balance",alignItems:"center",justifyContent:"flex-start",onClick:()=>{Le(Ze.MY_DEPOSIT)},children:Object(O.jsx)(G.a,{padding:"8px 0",hideIcon:!0,content:Object(O.jsxs)(ie.f,{children:[Object(O.jsx)(u.b,{flex:1,children:"My Deposit | Target Volume"})," ",S===Ze.MY_DEPOSIT&&(T===Ke.DESC?Object(O.jsx)(B.a,{size:12}):T===Ke.ASC?Object(O.jsx)(W.a,{size:12}):null),Object(O.jsx)(N.a,{size:12,style:{marginLeft:"4px"}})]}),dropdownContent:Object(O.jsx)(u.d,{color:p.subText,fontSize:"12px",maxWidth:"400px",lineHeight:1.5,children:Object(O.jsx)(c.b,{id:"Some farms have a target trading volume (represented by the progress bar) to determine the amount of reward you will earn. The more trading volume your liquidity positions support, the more rewards per second you will make.<0/><1/>Once you have fully unlocked the target volume, you will start earning the maximum rewards per second. Adjusting the staked amount will recalculate the target volume.<2/>Learn more <3>here.</3>",components:{0:Object(O.jsx)("br",{}),1:Object(O.jsx)("br",{}),2:Object(O.jsx)("br",{}),3:Object(O.jsx)(h.c,{href:"https://docs.kyberswap.com/guides/farming-mechanisms"})}})})})}),Object(O.jsx)(u.b,{"grid-area":"reward",alignItems:"center",justifyContent:"flex-end",onClick:()=>{Le(Ze.MY_REWARD)},children:Object(O.jsxs)(ie.f,{children:[Object(O.jsx)(c.b,{id:"My Rewards"}),S===Ze.MY_REWARD&&(T===Ke.DESC?Object(O.jsx)(B.a,{size:12}):T===Ke.ASC?Object(O.jsx)(W.a,{size:12}):null)]})}),Object(O.jsx)(u.b,{"grid-area":"action",alignItems:"center",justifyContent:"flex-end",children:Object(O.jsx)(ie.f,{children:Object(O.jsx)(c.b,{id:"Actions"})})})]}),Pe=Math.floor(Date.now()/1e3),De=je.filter((e=>e.endTime>=Pe)),ze=je.filter((e=>e.endTime<Pe)),Me=je.filter((e=>e.startTime>Pe)),Re=De.filter((e=>e.startTime<=Pe)),Fe=e=>e.map((e=>Object(O.jsx)(at,{isUserAffectedByFarmIssue:ue,isApprovedForAll:he,pool:e,onOpenModal:s,fairlaunchAddress:n,onHarvest:()=>{s("harvest",e)},tokenPrices:E},e.id)));return Object(O.jsxs)(dt,{"data-testid":"farm-block",children:[Object(O.jsxs)(u.b,{justifyContent:"space-between",alignItems:"center",padding:Se?"1rem":"1.25rem 24px",children:[Object(O.jsx)(u.d,{fontSize:"16px",fontWeight:"500",color:p.subText,children:Object(O.jsx)(c.b,{id:"Farming Contract"})}),!he&&null!==me&&void 0!==me&&me.loading?Object(O.jsx)($.a,{}):Object(O.jsxs)(u.b,{sx:{gap:"12px"},alignItems:"center",children:[f?he||"ended"===Ce?null:ve&&ke?Object(O.jsxs)(V.i,{style:{whiteSpace:"nowrap",height:"38px",padding:"0 12px"},onClick:we,disabled:!0,children:[Object(O.jsx)(N.a,{width:"16px"}),Object(O.jsx)(u.d,{fontSize:"14px",marginLeft:"8px",children:Object(O.jsx)($.a,{children:Object(O.jsx)(c.b,{id:"Approving"})})})]}):Object(O.jsx)(Q.b,{text:Object(O.jsx)(u.d,{color:p.subText,as:"span",children:Object(O.jsx)(c.b,{id:"Authorize the farming contract so it can access your liquidity positions (i.e. your NFT tokens). Then deposit your liquidity positions using the <0>Deposit</0> button",components:{0:Object(O.jsx)(u.d,{as:"span",color:p.text})}})}),width:"400px",placement:"top",children:Object(O.jsxs)(V.i,{style:{whiteSpace:"nowrap",height:"38px",padding:"0 12px"},onClick:we,children:[Object(O.jsx)(N.a,{width:"16px"}),Object(O.jsx)(u.d,{fontSize:"14px",marginLeft:"8px",children:ve&&ke?Object(O.jsx)($.a,{children:Object(O.jsx)(c.b,{id:"Approving"})}):v?Object(O.jsx)(c.b,{id:"Approve Farming Contract"}):Object(O.jsx)(c.b,{id:"Approve"})})]})}):Object(O.jsx)(tt,{onClick:pe}),!!ue&&Object(O.jsx)(st,{onClick:()=>s("forcedWithdraw")})]})]}),Object(O.jsxs)(rt.j,{children:[Object(O.jsxs)(rt.b,{children:[Object(O.jsxs)(rt.m,{children:[!Se&&Object(O.jsx)(Y.a,{width:36,height:36,color:p.subText}),Object(O.jsxs)(rt.l,{children:[Object(O.jsxs)(u.d,{fontSize:"12px",color:p.subText,children:[Object(O.jsx)(c.b,{id:"Deposited Liquidity"}),Object(O.jsx)(K.a,{text:a.a._("Total value of liquidity positions (i.e. NFT tokens) you've deposited into the farming contract"),placement:"top"})]}),Object(O.jsx)(G.a,{style:{padding:"0",color:p.text},content:f?Object(O.jsx)(u.d,{as:"span",fontSize:"20px",fontWeight:"500",children:Object(oe.a)(z)}):"--",hideIcon:!f||!z,dropdownContent:Object.values(ce).some((e=>e.greaterThan(0)))?Object(O.jsx)(q.a,{children:Object.values(ce).map((e=>e.greaterThan(0)&&Object(O.jsxs)(u.b,{alignItems:"center",children:[Object(O.jsx)(U.a,{currency:e.currency,size:"16px"}),Object(O.jsxs)(u.d,{fontSize:"12px",marginLeft:"4px",fontWeight:"500",children:[e.toSignificant(8)," ",e.currency.symbol]})]},e.currency.address)))}):""})]})]}),Object(O.jsxs)(u.b,{alignItems:"center",sx:{gap:"16px"},width:Se?"100%":void 0,children:[Object(O.jsx)(Je,{style:{flex:1},disabled:!f||!he||"ended"===Ce,onClick:()=>s("deposit")}),Object(O.jsx)($e,{style:{flex:1},disabled:!f||!_e||!he,onClick:()=>s("withdraw")})]})]}),Object(O.jsxs)(rt.k,{children:[Object(O.jsxs)(rt.m,{children:[!Se&&Object(O.jsx)(Z.a,{width:36,height:36,color:p.subText}),Object(O.jsxs)(rt.l,{children:[Object(O.jsx)(u.d,{fontSize:Se?"14px":"12px",color:p.subText,fontWeight:"500",children:Object(O.jsx)(c.b,{id:"Available Rewards"})}),Object(O.jsx)(G.a,{style:{padding:"0"},content:f&&de?Object(O.jsx)(u.d,{as:"span",fontSize:"20px",fontWeight:"500",color:p.text,children:Object(oe.a)(de)}):"--",hideIcon:!f||!de,dropdownContent:Object.values(le).length?Object(O.jsx)(q.a,{children:Object.values(le).map((e=>e.greaterThan(0)&&Object(O.jsxs)(u.b,{alignItems:"center",children:[Object(O.jsx)(U.a,{currency:e.currency,size:"16px"}),Object(O.jsxs)(u.d,{fontSize:"12px",marginLeft:"4px",fontWeight:"500",children:[e.toSignificant(8)," ",e.currency.symbol]})]},e.currency.wrapped.address)))}):""})]})]}),Object(O.jsx)(et,{onClick:()=>s("harvest"),disabled:!f||!Ae})]})]}),Ce===I.G.MY_FARMS?Object(O.jsxs)(O.Fragment,{children:[!!De.length&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.d,{fontSize:"16px",fontWeight:"500",color:p.subText,marginTop:"24px",paddingX:Se?"1rem":"24px",children:Object(O.jsx)(c.b,{id:"Active"})}),Object(O.jsxs)(rt.c,{gridMode:Ie===re.a.GRID||!v,children:[v&&Ie===re.a.LIST&&Ee(),Fe(De)]})]}),!!ze.length&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.d,{fontSize:"16px",fontWeight:"500",color:p.subText,marginTop:"24px",paddingX:Se?"1rem":"24px",children:Object(O.jsx)(c.b,{id:"Ended"})}),Object(O.jsxs)(rt.c,{gridMode:Ie===re.a.GRID||!v,children:[v&&Ie===re.a.LIST&&Ee(),Fe(ze)]})]})]}):Object(O.jsxs)(O.Fragment,{children:[!!Me.length&&Object(O.jsx)(u.d,{fontSize:"16px",fontWeight:"500",color:p.subText,marginTop:"24px",paddingX:Se?"1rem":"24px",children:Object(O.jsx)(c.b,{id:"Active Farms"})}),Object(O.jsxs)(rt.c,{gridMode:Ie===re.a.GRID||!v,children:[v&&Ie===re.a.LIST&&Ee(),Fe(Ce===I.G.ACTIVE?Re:ze)]}),!!Me.length&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.d,{fontSize:"16px",fontWeight:"500",color:p.warning,marginTop:"24px",paddingX:Se?"1rem":"24px",children:Object(O.jsx)(c.b,{id:"Upcoming Farms"})}),Object(O.jsxs)(rt.c,{gridMode:Ie===re.a.GRID||!v,children:[v&&Ie===re.a.LIST&&Ee(),Fe(Me)]})]})]})]})},jt=n("./node_modules/react-feather/dist/icons/x.js"),bt=n("./src/components/CheckBox.tsx"),ut=n("./src/components/Modal/index.tsx"),pt=n("./src/hooks/Tokens.ts"),xt=n("./src/hooks/useMixpanel.ts"),mt=n("./src/hooks/useParsedQueryString.ts"),ht=n("./src/hooks/usePools.ts"),Ot=n("./src/hooks/useProAmmPositions.ts"),ft=n("./src/utils/wrappedCurrency.ts"),gt=n("./src/components/YieldPools/ElasticFarmModals/styled.tsx"),vt=e=>{var t=e.position,n=e.onChange,s=e.selected,r=t.token0,o=t.token1,c=t.fee,a=t.liquidity,j=t.tickLower,b=t.tickUpper,p=Object(pt.j)(r),x=Object(pt.j)(o),m=p?Object(ft.a)(p):void 0,h=x?Object(ft.a)(x):void 0,f=Object(te.a)([r,o]),g=Object(ht.b)(null!==m&&void 0!==m?m:void 0,null!==h&&void 0!==h?h:void 0,c),v=Object(i.a)(g,2)[1],y=Object(l.useMemo)((()=>{if(v)return new d.Position({pool:v,liquidity:a.toString(),tickLower:j,tickUpper:b})}),[a,v,j,b]),k=de.a.from(t.liquidity.toString()).eq(0),w=y&&(y.pool.tickCurrent<t.tickLower||y.pool.tickCurrent>=t.tickUpper),C=((null===f||void 0===f?void 0:f[r])||0)*parseFloat((null===y||void 0===y?void 0:y.amount0.toExact())||"0")+((null===f||void 0===f?void 0:f[o])||0)*parseFloat((null===y||void 0===y?void 0:y.amount1.toExact())||"0"),S=Object(H.a)("(min-width: 768px)");return Object(O.jsxs)(gt.g,{children:[Object(O.jsx)(bt.a,{onChange:e=>{n(e.currentTarget.checked,y)},checked:s}),S?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.b,{alignItems:"center",children:Object(O.jsx)(u.d,{children:t.tokenId.toString()})}),Object(O.jsx)(u.d,{children:Object(oe.a)(C)}),Object(O.jsxs)(u.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",children:[null===y||void 0===y?void 0:y.amount0.toSignificant(6),Object(O.jsx)(U.a,{size:"16px",currency:m})]}),Object(O.jsxs)(u.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",children:[null===y||void 0===y?void 0:y.amount1.toSignificant(6),Object(O.jsx)(U.a,{size:"16px",currency:h})]}),Object(O.jsx)(u.b,{justifyContent:"flex-end",children:Object(O.jsx)(ze.a,{removed:k,inRange:!w})})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(u.b,{alignItems:"center",children:[Object(O.jsx)(u.d,{marginRight:"4px",children:t.tokenId.toString()}),Object(O.jsx)(pe.b,{currency0:m,currency1:h,size:16}),Object(O.jsx)(ze.a,{removed:k,inRange:!w,hideText:!0})]}),Object(O.jsx)(u.b,{justifyContent:"flex-end",children:Object(O.jsx)(G.a,{content:Object(O.jsx)(u.d,{children:Object(oe.a)(C)}),dropdownContent:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(u.b,{sx:{gap:"4px"},alignItems:"center",children:[Object(O.jsx)(U.a,{size:"16px",currency:m}),null===y||void 0===y?void 0:y.amount0.toSignificant(6)," ",null===y||void 0===y?void 0:y.amount0.currency.symbol]}),Object(O.jsxs)(u.b,{sx:{gap:"4px"},alignItems:"center",children:[Object(O.jsx)(U.a,{size:"16px",currency:h}),null===y||void 0===y?void 0:y.amount1.toSignificant(6)," ",null===y||void 0===y?void 0:y.amount1.currency.symbol]})]})})})]})]})};var yt,kt=function(e){var t,n=e.selectedFarmAddress,s=e.onDismiss,r=Object(mt.a)().type,o=void 0===r?"active":r,a=Object(_.b)(),d=a.account,j=a.networkInfo,b=Object(m.a)(),p=Object(l.useRef)(),x=Object(H.a)("(min-width: 768px)"),f=Object(D.b)().farms,g=null===f||void 0===f?void 0:f.find((e=>e.id.toLowerCase()===n.toLowerCase())),v=(null===g||void 0===g?void 0:g.pools.filter((e=>"active"===o?e.endTime>+new Date/1e3:e.endTime<+new Date/1e3)).map((e=>e.poolAddress.toLowerCase())))||[],y=Object(l.useState)([]),k=Object(i.a)(y,2),w=k[0],C=k[1],T=Object(l.useRef)({}),A=Object(D.d)(n).deposit,E=Object(Ot.b)(d),P=E.positions,z=E.loading,F=Object(D.e)(P||[],v),B=F.filterOptions,W=F.activeFilter,q=F.setActiveFilter,U=F.eligiblePositions,G=Object(l.useState)(!1),Y=Object(i.a)(G,2),Z=Y[0],K=Y[1],Q=Object(l.useRef)(null);Object(L.a)(Q,(()=>K(!1))),Object(l.useEffect)((()=>{p.current&&(0===w.length?(p.current.checked=!1,p.current.indeterminate=!1):w.length>0&&null!==U&&void 0!==U&&U.length&&w.length<(null===U||void 0===U?void 0:U.length)?(p.current.checked=!1,p.current.indeterminate=!0):(p.current.checked=!0,p.current.indeterminate=!1))}),[w.length,U]);var X=Object(xt.c)().mixpanelHandler;if(!n)return null;var J=function(){var e=Object(R.a)(Object(M.a)().mark((function e(){return Object(M.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(w,w.map((e=>T.current[e.tokenId.toString()])));case 2:e.sent&&U.filter((e=>w.find((t=>t.tokenId.toString()===e.tokenId.toString())))).forEach((e=>{X(xt.a.ELASTIC_DEPOSIT_LIQUIDITY_COMPLETED,{token_1:e.token0,token_2:e.token1})})),s();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=Object(O.jsxs)(gt.c,{role:"button",onClick:()=>K((e=>!e)),children:[null===(t=B.find((e=>e.code===W)))||void 0===t?void 0:t.value,Object(O.jsx)(gt.a,{rotate:Z}),Z&&Object(O.jsx)(gt.d,{ref:Q,children:B.map((e=>Object(O.jsx)(gt.e,{role:"button",onClick:t=>{t.stopPropagation(),t.preventDefault(),q(e.code),K((e=>!e))},children:e.value},e.code)))})]});return Object(O.jsx)(ut.a,{isOpen:!!g,onDismiss:s,maxHeight:80,width:"80vw",maxWidth:"808px",children:Object(O.jsxs)(gt.b,{children:[Object(O.jsxs)(u.b,{alignItems:"center",justifyContent:"space-between",children:[Object(O.jsx)(gt.h,{children:Object(O.jsx)(c.b,{id:"Deposit your liquidity"})}),Object(O.jsxs)(u.b,{sx:{gap:"12px"},children:[x&&$,Object(O.jsx)(V.d,{onClick:s,width:"36px",height:"36px",padding:"0",children:Object(O.jsx)(jt.a,{color:b.text})})]})]}),Object(O.jsx)(u.d,{fontSize:"12px",marginTop:"20px",color:b.subText,children:Object(O.jsx)(c.b,{id:"Deposit your liquidity positions (NFT tokens) first to enable farming. Only your in range liquidity positions (NFT tokens) will earn you farming rewards"})}),!x&&$,z?Object(O.jsx)(S.a,{}):null!==U&&void 0!==U&&U.length?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(gt.f,{children:[Object(O.jsx)(bt.a,{ref:p,onChange:e=>{e.currentTarget.checked?C(U||[]):C([])}}),Object(O.jsx)(u.d,{textAlign:"left",children:x?"ID":"ID | Token | Status"}),Object(O.jsx)(u.d,{textAlign:x?"left":"right",children:Object(O.jsx)(c.b,{id:"Your liquidity"})}),x&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.d,{textAlign:"right",children:"Token 1"}),Object(O.jsx)(u.d,{textAlign:"right",children:"Token 2"}),Object(O.jsx)(u.d,{textAlign:"right",children:"Status"})]})]}),Object(O.jsx)("div",{style:{overflowY:"scroll",minHeight:"100px"},children:U.map((e=>Object(O.jsx)(vt,{selected:w.some((t=>t.tokenId.toString()===e.tokenId.toString())),position:e,onChange:(t,n)=>{var s=e.tokenId.toString();n&&(T.current[s]=n),C(t?t=>[...t,e]:e=>e.filter((e=>e.tokenId.toString()!==s)))}},e.tokenId.toString())))}),Object(O.jsxs)(u.b,{justifyContent:"space-between",marginTop:"24px",children:[Object(O.jsx)("div",{}),Object(O.jsx)(V.i,{fontSize:"14px",padding:"10px 24px",width:"fit-content",onClick:J,disabled:!w.length,children:Object(O.jsx)(c.b,{id:"Deposit Selected"})})]})]}):Object(O.jsxs)(u.b,{alignItems:"center",justifyContent:"center",padding:"16px",color:b.subText,marginTop:"40px",flexDirection:"column",children:[Object(O.jsx)(N.a,{size:"48px"}),Object(O.jsx)(u.d,{fontSize:14,textAlign:"center",marginTop:"16px",maxWidth:"480px",lineHeight:1.5,children:Object(O.jsx)(c.b,{id:"You dont have any relevant liquidity positions yet.<0/> Add liquidity to the farming pools first. Check out our <1>Pools.</1>",components:{0:Object(O.jsx)("br",{}),1:Object(O.jsx)(h.i,{to:"".concat(I.h.POOLS,"/").concat(j.route)})}})})]})]})})},wt=n("./src/state/farms/elastic/types.ts"),Ct=e=>Object(p.css)([""," ",""],e?"grid-template-columns: 18px 120px repeat(2, 1fr);":"grid-template-columns: 18px 120px repeat(3, 1fr);",(e=>e.theme.mediaWidth.upToSmall(yt||(yt=Object(We.a)(["\n        grid-template-columns: 18px 120px 1fr;\n      "]))))),St=Object(p.default)(x.a).withConfig({displayName:"StakeModal__DropdownIcon",componentId:"sc-1r43t1n-0"})(["transition:transform 300ms;color:",";&:hover{transform:rotate(180deg);}"],(e=>e.theme.text)),Tt=p.default.div.withConfig({displayName:"StakeModal__ScrollContainer",componentId:"sc-1r43t1n-1"})(["display:flex;flex-direction:column;width:100%;min-height:90px;overflow-y:auto;overflow-x:hidden;::-webkit-scrollbar{display:unset;width:8px;border-radius:999px;}::-webkit-scrollbar-track{background:transparent;border-radius:999px;}::-webkit-scrollbar-thumb{background:",";border-radius:999px;}"],(e=>e.theme.disableText)),It=Object(p.default)(gt.f).withConfig({displayName:"StakeModal__StakeTableHeader",componentId:"sc-1r43t1n-2"})(["",""],(e=>{var t=e.isUnstake;return Ct(t)})),At=Object(p.default)(gt.g).withConfig({displayName:"StakeModal__StakeTableRow",componentId:"sc-1r43t1n-3"})(["",""],(e=>{var t=e.isUnstake;return Ct(t)})),_t=e=>{var t=e.position,n=e.onChange,s=e.selected,r=e.type,o=Object(H.a)("(min-width: 768px)"),i=Object(te.a)([t.available.pool.token0.address,t.available.pool.token1.address]),c=t.available.pool.tickCurrent<t.available.tickLower||t.available.pool.tickCurrent>=t.available.tickUpper,a=i[t.available.pool.token0.address]||0,d=i[t.available.pool.token1.address]||0,l=a*parseFloat(t.available.amount0.toExact()||"0")+d*parseFloat(t.available.amount1.toExact()||"0"),j=a*parseFloat(t.staked.amount0.toExact()||"0")+d*parseFloat(t.staked.amount1.toExact()||"0");return Object(O.jsxs)(At,{isUnstake:"unstake"===r,children:[Object(O.jsx)(bt.a,{onChange:e=>{n(e.currentTarget.checked)},checked:s}),o?Object(O.jsx)(u.b,{alignItems:"center",children:Object(O.jsx)(u.d,{children:t.available.nftId.toString()})}):Object(O.jsxs)(u.b,{alignItems:"center",children:[Object(O.jsx)(u.d,{marginRight:"4px",children:t.available.nftId.toString()}),Object(O.jsx)(pe.b,{currency0:t.available.pool.token0,currency1:t.available.pool.token1,size:16}),Object(O.jsx)(ze.a,{removed:!1,inRange:!c,hideText:!0})]}),"stake"===r&&Object(O.jsxs)(u.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",fontSize:"12px",children:[Object(oe.a)(l),Object(O.jsx)(Q.a,{noArrow:!0,placement:"bottom",width:"fit-content",text:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(u.b,{alignItems:"center",children:[Object(O.jsx)(U.a,{currency:t.available.amount0.currency,size:"16px"}),Object(O.jsx)(u.d,{fontSize:12,marginLeft:"4px",children:t.available.amount0.toSignificant(8)})]}),Object(O.jsxs)(u.b,{alignItems:"center",marginTop:"8px",children:[Object(O.jsx)(U.a,{currency:t.available.amount1.currency,size:"16px"}),Object(O.jsx)(u.d,{fontSize:12,marginLeft:"4px",children:t.available.amount1.toSignificant(8)})]})]}),children:Object(O.jsx)(St,{})})]}),("unstake"===r||o)&&Object(O.jsxs)(u.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",fontSize:"12px",children:[Object(oe.a)(j),Object(O.jsx)(Q.a,{noArrow:!0,placement:"bottom",width:"fit-content",text:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(u.b,{alignItems:"center",children:[Object(O.jsx)(U.a,{currency:t.available.amount0.currency,size:"16px"}),Object(O.jsx)(u.d,{fontSize:12,marginLeft:"4px",children:t.staked.amount0.toSignificant(8)})]}),Object(O.jsxs)(u.b,{alignItems:"center",marginTop:"8px",children:[Object(O.jsx)(U.a,{currency:t.available.amount1.currency,size:"16px"}),Object(O.jsx)(u.d,{fontSize:12,marginLeft:"4px",children:t.staked.amount1.toSignificant(8)})]})]}),children:Object(O.jsx)(St,{})})]}),o&&Object(O.jsx)(u.b,{justifyContent:"flex-end",children:Object(O.jsx)(ze.a,{removed:!1,inRange:!c})})]})};var Lt=function(e){var t=e.selectedFarmAddress,n=e.onDismiss,s=e.poolId,r=e.poolAddress,o=e.type,a=Object(m.a)(),j=Object(l.useRef)(),b=Object(_.b)(),p=b.chainId,x=b.networkInfo,f=Object(D.b)(),g=f.farms,v=f.userFarmInfo,y=null===g||void 0===g?void 0:g.find((e=>e.id.toLowerCase()===t.toLowerCase())),k=Object(D.d)(t),w=k.stake,C=k.unstake,S=null===y||void 0===y?void 0:y.pools.find((e=>Number(e.pid)===Number(s))),T=S||{},A=T.token0,L=T.token1,E=Object(l.useMemo)((()=>{var e,n;if(!Object(X.q)(p))return[];var i=(null===v||void 0===v||null===(e=v[t])||void 0===e||null===(n=e.joinedPositions)||void 0===n?void 0:n[s])||[];return((null===v||void 0===v?void 0:v[t].depositedPositions.filter((e=>(null===S||void 0===S?void 0:S.poolAddress.toLowerCase())===Object(d.computePoolAddress)({factoryAddress:X.h[p].elastic.coreFactory,tokenA:e.pool.token0,tokenB:e.pool.token1,fee:e.pool.fee,initCodeHashManualOverride:X.h[p].elastic.initCodeHash}).toLowerCase())))||[]).map((e=>{var t,n=de.a.from((null===(t=i.find((t=>t.nftId.toString()===e.nftId.toString())))||void 0===t?void 0:t.liquidity.toString())||0),s=de.a.from(e.liquidity.toString()).sub(n);return{available:new wt.a({nftId:e.nftId,pool:e.pool,liquidity:s.toString(),tickLower:e.tickLower,tickUpper:e.tickUpper}),poolAddress:r,staked:new wt.a({nftId:e.nftId,pool:e.pool,liquidity:n.toString(),tickLower:e.tickLower,tickUpper:e.tickUpper})}})).filter((e=>"stake"===o?de.a.from(e.available.liquidity.toString()).gt(de.a.from(0)):de.a.from(e.staked.liquidity.toString()).gt(de.a.from(0))))}),[o,S,p,s,r,t,v]),P=Object(l.useState)([]),z=Object(i.a)(P,2),F=z[0],B=z[1],W=Object(xt.c)().mixpanelHandler;Object(l.useEffect)((()=>{j.current&&(0===F.length?(j.current.checked=!1,j.current.indeterminate=!1):F.length>0&&null!==E&&void 0!==E&&E.length&&F.length<(null===E||void 0===E?void 0:E.length)?(j.current.checked=!1,j.current.indeterminate=!0):(j.current.checked=!0,j.current.indeterminate=!1))}),[F.length,E]);var q=function(){var e=Object(R.a)(Object(M.a)().mark((function e(){var t;return Object(M.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=F.map((e=>({nftId:e.available.nftId,position:e.available,poolAddress:e.poolAddress,stakedLiquidity:e.staked.liquidity.toString()}))),"stake"!==o){e.next=8;break}return e.next=4,w(de.a.from(s),t);case 4:e.sent&&W(xt.a.ELASTIC_STAKE_LIQUIDITY_COMPLETED,{token_1:null===A||void 0===A?void 0:A.symbol,token_2:null===L||void 0===L?void 0:L.symbol}),e.next=12;break;case 8:return e.next=10,C(de.a.from(s),t);case 10:e.sent&&W(xt.a.ELASTIC_UNSTAKE_LIQUIDITY_COMPLETED,{token_1:null===A||void 0===A?void 0:A.symbol,token_2:null===L||void 0===L?void 0:L.symbol});case 12:n();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=Object(H.a)("(min-width: 768px)");return Object(O.jsx)(ut.a,{isOpen:!!y,onDismiss:n,maxHeight:80,maxWidth:"808px",children:Object(O.jsxs)(gt.b,{children:[Object(O.jsxs)(u.b,{alignItems:"center",justifyContent:"space-between",children:[Object(O.jsxs)(gt.h,{display:"flex",children:[Object(O.jsx)(pe.b,{size:24,currency0:A,currency1:L}),"stake"===o?Object(O.jsx)(c.b,{id:"Stake your liquidity"}):Object(O.jsx)(c.b,{id:"Unstake your liquidity"})]}),Object(O.jsx)(u.b,{sx:{gap:"12px"},children:Object(O.jsx)(V.d,{onClick:n,width:"36px",height:"36px",padding:"0",children:Object(O.jsx)(jt.a,{color:a.text})})})]}),Object(O.jsx)(u.d,{fontSize:"12px",marginTop:"20px",color:a.subText,children:"stake"===o?Object(O.jsx)(c.b,{id:"Stake your deposited liquidity positions (NFT tokens) into the farms to start earning rewards. Only your in-range positions will earn rewards"}):Object(O.jsx)(c.b,{id:"Unstake your liquidity positions (NFT tokens) from the farm. You will no longer earn rewards on these positions once unstaked"})}),E.length?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(It,{isUnstake:"unstake"===o,children:[Object(O.jsx)(bt.a,{ref:j,onChange:e=>{e.currentTarget.checked?B(E||[]):B([])}}),Object(O.jsx)(u.d,{textAlign:"left",children:U?"ID":"ID | Token | Status"}),"stake"===o&&Object(O.jsx)(u.d,{textAlign:"right",children:Object(O.jsx)(c.b,{id:"Available Balance"})}),("unstake"===o||U)&&Object(O.jsx)(u.d,{textAlign:"right",children:Object(O.jsx)(c.b,{id:"Staked Balance"})}),U&&Object(O.jsx)(u.d,{textAlign:"right",children:Object(O.jsx)(c.b,{id:"Status"})})]}),Object(O.jsx)(Tt,{children:E.map((e=>Object(O.jsx)(_t,{type:o,selected:F.map((e=>e.available.nftId.toString())).includes(e.available.nftId.toString()),position:e,onChange:t=>{B(t?t=>[...t,e]:t=>t.filter((t=>t.available.nftId.toString()!==e.available.nftId.toString())))}},e.available.nftId.toString())))}),Object(O.jsxs)(u.b,{justifyContent:"space-between",marginTop:"24px",children:[Object(O.jsx)("div",{}),Object(O.jsx)(V.i,{fontSize:"14px",padding:"10px 24px",width:"fit-content",onClick:q,disabled:!F.length,children:"stake"===o?Object(O.jsx)(c.b,{id:"Stake Selected"}):Object(O.jsx)(c.b,{id:"Unstake Selected"})})]})]}):"stake"===o?Object(O.jsxs)(u.b,{sx:{flexDirection:"column",justifyContent:"center",alignItems:"center"},fontSize:14,color:a.subText,padding:"16px",marginTop:"20px",children:[Object(O.jsx)(N.a,{size:"48px"}),Object(O.jsx)(u.d,{marginTop:"16px",textAlign:"center",lineHeight:1.5,children:Object(O.jsx)(c.b,{id:"You haven't deposited any liquidity positions (NFT tokens) for this farming pair yet.<0/><1/>Add liquidity to this pool first in our <2>Pools</2> page. If you've done that, deposit your liquidity position (NFT tokens) before you stake",components:{0:Object(O.jsx)("br",{}),1:Object(O.jsx)("br",{}),2:Object(O.jsx)(h.i,{to:"".concat(I.h.POOLS,"/").concat(x.route)})}})})]}):Object(O.jsx)(u.d,{fontSize:14,color:a.subText,textAlign:"center",padding:"16px",marginTop:"20px",children:Object(O.jsx)(c.b,{id:"You don't have any available position, Please deposit and stake first"})})]})})},Et=p.default.div.withConfig({displayName:"HarvestModal__HarvestInfo",componentId:"sc-1y7e2ro-0"})(["padding:16px;border-radius:4px;background:",";margin-top:18px;font-size:12px;line-height:20px;"],(e=>e.theme.primary+"33")),Pt=p.default.div.withConfig({displayName:"HarvestModal__RewardRow",componentId:"sc-1y7e2ro-1"})(["border-radius:999px;padding:8px;background:",";display:flex;justify-content:center;align-items:center;gap:8px;margin-top:20px;margin-bottom:24px;"],(e=>e.theme.buttonBlack));var Dt=function(e){var t,n=e.farmsAddress,s=e.poolId,r=e.onDismiss,o=Object(_.b)().networkInfo,i=Object(m.a)(),a=Object(D.b)(),d=a.farms,l=a.userFarmInfo,j=null===d||void 0===d?void 0:d.find((e=>e.id.toLowerCase()===n.toLowerCase())),b=Object(D.d)(n).harvest,p=null!==s?null===j||void 0===j?void 0:j.pools.find((e=>Number(e.pid)===Number(s))):void 0,x=Object(xt.c)().mixpanelHandler,f={},g=(null===l||void 0===l?void 0:l[n])||{},v=g.rewardPendings,y=void 0===v?{}:v,k=g.joinedPositions,w=void 0===k?{}:k;null===s?Object.values(y||{}).flat().forEach((e=>{var t=e.currency.wrapped.address;f[t]?f[t]=f[t].add(e):f[t]=e})):null===y||void 0===y||null===(t=y[s.toString()])||void 0===t||t.forEach((e=>{var t=e.currency.wrapped.address;f[t]?f[t]=f[t].add(e):f[t]=e}));var C=function(){var e=Object(R.a)(Object(M.a)().mark((function e(){var t,n,o;return Object(M.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],o=[],null===s?Object.keys(w).forEach((e=>{w[e].forEach((t=>{de.a.from(t.liquidity.toString()).gt(de.a.from(0))&&(n.push(t.nftId),o.push(de.a.from(e)))}))})):null===(t=w[s.toString()])||void 0===t||t.forEach((e=>{de.a.from(e.liquidity.toString()).gt(de.a.from(0))&&(n.push(e.nftId),o.push(de.a.from(s)))})),e.next=5,b(n,o,p,Object.values(f));case 5:e.sent&&(r(),x(null===s?xt.a.ELASTIC_ALLS_REWARD_HARVESTED:xt.a.ELASTIC_INDIVIDUAL_REWARD_HARVESTED));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=Object.keys(f),T=Object(te.a)(S),A=Object.values(f).reduce(((e,t)=>e+Number(t.toExact())*(T[t.currency.wrapped.address]||0)),0);return Object(O.jsx)(ut.a,{isOpen:!!j,onDismiss:r,maxHeight:80,maxWidth:"392px",children:Object(O.jsxs)(gt.b,{children:[Object(O.jsxs)(u.b,{alignItems:"center",justifyContent:"space-between",children:[Object(O.jsx)(gt.h,{children:null===s?Object(O.jsx)(c.b,{id:"Harvest All"}):Object(O.jsxs)(u.b,{children:[Object(O.jsx)(pe.b,{size:24,currency0:null===p||void 0===p?void 0:p.token0,currency1:null===p||void 0===p?void 0:p.token1})," ",Object(O.jsx)(u.d,{children:Object(O.jsx)(c.b,{id:"Harvest"})})]})}),Object(O.jsx)(u.b,{sx:{gap:"12px"},children:Object(O.jsx)(V.d,{onClick:r,width:"36px",height:"36px",padding:"0",children:Object(O.jsx)(jt.a,{color:i.text})})})]}),Object(O.jsx)(Et,{children:Object(O.jsx)(c.b,{id:"After harvesting, your rewards will begin vesting linearly (only if the farm has a vesting duration).<0/><1/>Vesting means that your reward tokens will be locked initially but released gradually. You can claim the reward tokens to your wallet as and when they are released.<2/><3/>To claim your rewards, go to the <4>Vesting</4> tab and click 'Claim'.",components:{0:Object(O.jsx)("br",{}),1:Object(O.jsx)("br",{}),2:Object(O.jsx)("br",{}),3:Object(O.jsx)("br",{}),4:Object(O.jsx)(h.i,{to:"".concat(I.h.FARMS,"/").concat(o.route,"?type=vesting&tab=elastic")})}})}),Object(O.jsxs)(u.b,{marginTop:"20px",justifyContent:"space-between",children:[Object(O.jsx)(u.d,{children:Object(O.jsx)(c.b,{id:"My Rewards"})}),Object(O.jsx)(u.d,{children:Object(oe.a)(A)})]}),Object(O.jsx)(Pt,{children:Object.values(f).map((e=>Object(O.jsxs)(u.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(O.jsx)(xe.a,{text:e.toSignificant(6)||"0",maxCharacters:10}),Object(O.jsx)(Q.a,{placement:"top",text:e.currency.symbol,width:"fit-content",children:Object(O.jsx)(U.a,{currency:e.currency,size:"16px"})})]},e.currency.symbol)))}),Object(O.jsx)(V.i,{onClick:C,children:null===s?Object(O.jsx)(c.b,{id:"Harvest All"}):Object(O.jsx)(c.b,{id:"Harvest"})})]})})},zt=e=>{var t,n=e.position,s=e.onChange,r=e.selected,o=e.forced,c=e.farmAddress,a=n.token0,j=n.token1,b=n.fee,p=n.liquidity,x=n.tickLower,h=n.tickUpper,f=Object(D.d)(c).unstake,g=Object(D.b)().userFarmInfo,v=null===g||void 0===g||null===(t=g[c])||void 0===t?void 0:t.joinedPositions,y=null;v&&Object.keys(v).forEach((e=>{v[e].forEach((t=>{t.nftId.toString()===n.tokenId.toString()&&(y=e)}))}));var k=Object(pt.j)(a),w=Object(pt.j)(j),C=k?Object(ft.a)(k):void 0,S=w?Object(ft.a)(w):void 0,T=Object(te.a)([a,j]),I=Object(ht.b)(null!==C&&void 0!==C?C:void 0,null!==S&&void 0!==S?S:void 0,b),A=Object(i.a)(I,2)[1],_=Object(l.useMemo)((()=>{if(A)return new d.Position({pool:A,liquidity:p.toString(),tickLower:x,tickUpper:h})}),[p,A,x,h]),L=de.a.from(n.liquidity.toString()).eq(0),E=_&&(_.pool.tickCurrent<n.tickLower||_.pool.tickCurrent>=n.tickUpper),P=Object(m.a)(),z=((null===T||void 0===T?void 0:T[a])||0)*parseFloat((null===_||void 0===_?void 0:_.amount0.toExact())||"0")+((null===T||void 0===T?void 0:T[j])||0)*parseFloat((null===_||void 0===_?void 0:_.amount1.toExact())||"0"),M=Object(H.a)("(min-width: 768px)"),R=Object(O.jsx)(u.b,{width:"17.5px",height:"17.5px",backgroundColor:P.disableText,sx:{borderRadius:"2px"},alignItems:"center",justifyContent:"center",children:Object(O.jsx)(jt.a,{size:14,color:"#333"})});return Object(O.jsxs)(gt.g,{children:[o?Object(O.jsx)(bt.a,{disabled:!0,checked:!0}):n.stakedLiquidity.gt(de.a.from(0))?Object(O.jsx)(Q.a,{text:"You will need to unstake this position first before you can withdraw it",children:R}):Object(O.jsx)(bt.a,{onChange:e=>{s(e.currentTarget.checked,_)},checked:r}),M?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(u.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(O.jsx)(u.d,{children:n.tokenId.toString()}),Object(O.jsx)(ze.a,{removed:L,inRange:!E,hideText:!0,size:12})]}),Object(O.jsx)(u.d,{children:Object(oe.a)(z)}),Object(O.jsxs)(u.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",children:[null===_||void 0===_?void 0:_.amount0.toSignificant(6),Object(O.jsx)(U.a,{size:"16px",currency:C})]}),Object(O.jsxs)(u.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",children:[null===_||void 0===_?void 0:_.amount1.toSignificant(6),Object(O.jsx)(U.a,{size:"16px",currency:S})]}),Object(O.jsx)(u.b,{justifyContent:"flex-end",children:Object(O.jsxs)(rt.a,{color:P.red,style:{height:"28px"},disabled:n.stakedLiquidity.eq(de.a.from(0)),onClick:()=>{y&&_&&f(de.a.from(y),[{nftId:n.tokenId,stakedLiquidity:n.stakedLiquidity.toString(),poolAddress:n.poolId,position:_}])},children:[Object(O.jsx)(je.a,{size:16})," Unstake"]})})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(u.b,{alignItems:"center",children:[Object(O.jsx)(u.d,{marginRight:"4px",children:n.tokenId.toString()}),Object(O.jsx)(pe.b,{currency0:C,currency1:S,size:16}),Object(O.jsx)(ze.a,{removed:L,inRange:!E,hideText:!0})]}),Object(O.jsx)(u.b,{justifyContent:"flex-end",children:Object(O.jsx)(G.a,{content:Object(O.jsx)(u.d,{children:Object(oe.a)(z)}),dropdownContent:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(u.b,{sx:{gap:"4px"},alignItems:"center",children:[Object(O.jsx)(U.a,{size:"16px",currency:C}),null===_||void 0===_?void 0:_.amount0.toSignificant(6)," ",null===_||void 0===_?void 0:_.amount0.currency.symbol]}),Object(O.jsxs)(u.b,{sx:{gap:"4px"},alignItems:"center",children:[Object(O.jsx)(U.a,{size:"16px",currency:S}),null===_||void 0===_?void 0:_.amount1.toSignificant(6)," ",null===_||void 0===_?void 0:_.amount1.currency.symbol]})]})})})]})]})};var Mt=function(e){var t,n=e.selectedFarmAddress,s=e.onDismiss,r=e.forced,o=void 0!==r&&r,a=Object(m.a)(),j=Object(_.b)().chainId,b=Object(H.a)("(min-width: 768px)"),p=Object(mt.a)().type,x=void 0===p?"active":p,h=Object(l.useRef)(),f=Object(D.b)(),g=f.farms,v=f.userFarmInfo,y=null===g||void 0===g?void 0:g.find((e=>e.id.toLowerCase()===n.toLowerCase())),k=(null===y||void 0===y?void 0:y.pools.filter((e=>"active"===x?e.endTime>+new Date/1e3:e.endTime<+new Date/1e3)).map((e=>e.poolAddress.toLowerCase())))||[],w=Object(D.c)(),C=(null===v||void 0===v?void 0:v[(null===y||void 0===y?void 0:y.id)||""])||{},S=C.depositedPositions,T=void 0===S?[]:S,I=C.joinedPositions,A=void 0===I?{}:I,E=Object(l.useMemo)((()=>Object(X.q)(j)?T.map((e=>{var t,n,s=null===(t=Object.values(A).flat().filter((t=>e.nftId.toString()===t.nftId.toString()&&de.a.from(t.liquidity.toString()).gt("0"))))||void 0===t||null===(n=t[0])||void 0===n?void 0:n.liquidity;return{nonce:de.a.from(0),poolId:Object(d.computePoolAddress)({factoryAddress:X.h[j].elastic.coreFactory,tokenA:e.pool.token0,tokenB:e.pool.token1,fee:e.pool.fee,initCodeHashManualOverride:X.h[j].elastic.initCodeHash}),feeGrowthInsideLast:de.a.from(0),operator:"",rTokenOwed:de.a.from(0),fee:e.pool.fee,tokenId:e.nftId,tickLower:e.tickLower,tickUpper:e.tickUpper,liquidity:de.a.from(e.liquidity.toString()),token0:e.amount0.currency.address,token1:e.amount1.currency.address,stakedLiquidity:s?de.a.from(s.toString()):de.a.from(0)}})):[]),[j,T,A]),P=Object(D.e)(E,k),z=P.filterOptions,F=P.activeFilter,N=P.setActiveFilter,B=P.eligiblePositions,W=Object(l.useMemo)((()=>B.filter((e=>e.stakedLiquidity.eq(0)))),[B]),q=Object(l.useState)([]),U=Object(i.a)(q,2),G=U[0],Y=U[1],Z=Object(l.useRef)({}),K=Object(D.d)(n),Q=K.withdraw,J=K.emergencyWithdraw;Object(l.useEffect)((()=>{if(h.current)return o?(h.current.checked=!0,void(h.current.indeterminate=!1)):void(0===G.length?(h.current.checked=!1,h.current.indeterminate=!1):G.length>0&&null!==W&&void 0!==W&&W.length&&G.length<(null===W||void 0===W?void 0:W.length)?(h.current.checked=!1,h.current.indeterminate=!0):(h.current.checked=!0,h.current.indeterminate=!1))}),[G.length,W,o]);var $=Object(l.useState)(!1),ee=Object(i.a)($,2),te=ee[0],ne=ee[1],se=Object(l.useRef)(null);Object(L.a)(se,(()=>ne(!1)));var re=Object(xt.c)().mixpanelHandler;if(!n)return null;var oe=function(){var e=Object(R.a)(Object(M.a)().mark((function e(){return Object(M.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=5;break}return e.next=3,J(w.map(de.a.from));case 3:return s(),e.abrupt("return");case 5:return e.next=7,Q(G,G.map((e=>Z.current[e.tokenId.toString()])));case 7:e.sent&&B.filter((e=>G.find((t=>t.tokenId.toString()===e.tokenId.toString())))).forEach((e=>{re(xt.a.ELASTIC_WITHDRAW_LIQUIDITY_COMPLETED,{token_1:e.token0,token_2:e.token1})})),s();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=Object(O.jsxs)(gt.c,{role:"button",onClick:()=>ne((e=>!e)),children:[null===(t=z.find((e=>e.code===F)))||void 0===t?void 0:t.value,Object(O.jsx)(gt.a,{rotate:te}),te&&Object(O.jsx)(gt.d,{ref:se,children:z.map((e=>Object(O.jsx)(gt.e,{role:"button",onClick:t=>{t.stopPropagation(),t.preventDefault(),N(e.code),ne((e=>!e))},children:e.value},e.code)))})]});return Object(O.jsx)(ut.a,{isOpen:!!y,onDismiss:s,width:"80vw",maxHeight:80,maxWidth:"808px",children:Object(O.jsxs)(gt.b,{children:[Object(O.jsxs)(u.b,{alignItems:"center",justifyContent:"space-between",children:[Object(O.jsx)(gt.h,{children:o?Object(O.jsx)(c.b,{id:"Force Withdraw"}):Object(O.jsx)(c.b,{id:"Withdraw your liquidity"})}),Object(O.jsxs)(u.b,{sx:{gap:"12px"},children:[b&&!o&&ie,Object(O.jsx)(V.d,{onClick:s,width:"36px",height:"36px",padding:"0",children:Object(O.jsx)(jt.a,{color:a.text})})]})]}),Object(O.jsx)(u.d,{fontSize:"12px",marginTop:"20px",color:a.subText,children:o?Object(O.jsx)(c.b,{id:"Below is a list of your affected liquidity positions"}):Object(O.jsx)(c.b,{id:"You will need to unstake your liquidity positions (NFT tokens) first before withdrawing it back to your wallet"})}),!b&&!o&&ie,Object(O.jsxs)(gt.f,{children:[Object(O.jsx)(bt.a,{disabled:o,ref:h,onChange:e=>{e.currentTarget.checked?Y(W||[]):Y([])}}),Object(O.jsx)(u.d,{textAlign:"left",children:b?"ID":"ID | Token | Status"}),Object(O.jsx)(u.d,{textAlign:b?"left":"right",children:Object(O.jsx)(c.b,{id:"Your liquidity"})}),b&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.d,{textAlign:"right",children:"Token 1"}),Object(O.jsx)(u.d,{textAlign:"right",children:"Token 2"}),Object(O.jsx)(u.d,{textAlign:"right",children:"Action"})]})]}),Object(O.jsx)("div",{style:{overflowY:"auto"},children:B.filter((e=>!o||w.includes(e.tokenId.toString()))).map((e=>Object(O.jsx)(zt,{selected:G.some((t=>t.tokenId.toString()===e.tokenId.toString())),position:e,farmAddress:n,forced:o,onChange:(t,n)=>{var s=e.tokenId.toString();n&&(Z.current[s]=n),Y(t?t=>[...t,e]:e=>e.filter((e=>e.tokenId.toString()!==s)))}},e.tokenId.toString())))}),Object(O.jsxs)(u.b,{justifyContent:"space-between",marginTop:"24px",children:[Object(O.jsx)("div",{}),Object(O.jsx)(V.i,{fontSize:"14px",padding:"10px 24px",width:"fit-content",onClick:oe,disabled:!o&&!G.length,style:o?{background:a.red,color:a.textReverse}:void 0,children:o?Object(O.jsx)(c.b,{id:"Force Withdraw"}):Object(O.jsx)(c.b,{id:"Withdraw Selected"})})]})]})})};t.a=function(e){var t,n,s=e.stakedOnly,r=Object(m.a)(),j=Object(_.b)(),p=j.isEVM,x=j.networkInfo,f=j.chainId,g=Object(b.d)(),v=Object(i.a)(g,1)[0],y=v.get("token0")||void 0,k=v.get("token1")||void 0,w=Object(D.b)(),M=w.farms,R=w.loading,F=w.userFarmInfo,N=Object(D.c)(),B=Object(l.useRef)(),W=Object(l.useState)(!1),H=Object(i.a)(W,2),V=H[0],q=H[1];Object(L.a)(B,V?()=>q((e=>!e)):void 0);var U=v.get("type"),G=U||I.G.ACTIVE,Y=G===I.G.ACTIVE?"active":"ended",Z=v.get("tab"),K=(null===(t=v.get("search"))||void 0===t?void 0:t.toLowerCase())||"",Q=Object(l.useMemo)((()=>{var e,t,n,r,i=Date.now()/1e3,c=null===M||void 0===M?void 0:M.map((e=>{var t=e.pools.filter((e=>G===I.G.MY_FARMS||(G===I.G.ACTIVE?e.endTime>=i:e.endTime<i)));return Object(o.a)(Object(o.a)({},e),{},{pools:t})})).filter((e=>!!e.pools.length)),a=Object(z.t)(f,K);a?p&&(c=null===(t=c)||void 0===t?void 0:t.map((e=>(e.pools=e.pools.filter((e=>[Object(d.computePoolAddress)({factoryAddress:x.elastic.coreFactory,tokenA:e.token0.wrapped,tokenB:e.token1.wrapped,fee:e.pool.fee,initCodeHashManualOverride:x.elastic.initCodeHash}),e.pool.token1.address,e.pool.token0.address].includes(a))),e)))):c=null===(n=c)||void 0===n?void 0:n.map((e=>(e.pools=e.pools.filter((e=>{var t,n,s,r;return(null===(t=e.token0.symbol)||void 0===t?void 0:t.toLowerCase().includes(K))||(null===(n=e.token1.symbol)||void 0===n?void 0:n.toLowerCase().includes(K))||(null===(s=e.token0.name)||void 0===s?void 0:s.toLowerCase().includes(K))||(null===(r=e.token1.name)||void 0===r?void 0:r.toLowerCase().includes(K))})),e)));if(y||k)if(k&&y){var l;c=null===(l=c)||void 0===l?void 0:l.map((e=>(e.pools=e.pools.filter((e=>e.token0.wrapped.address.toLowerCase()===y.toLowerCase()&&e.token1.wrapped.address.toLowerCase()===k.toLowerCase()||e.token1.wrapped.address.toLowerCase()===y.toLowerCase()&&e.token0.wrapped.address.toLowerCase()===k.toLowerCase())),e)))}else{var j,b=k||y;c=null===(j=c)||void 0===j?void 0:j.map((e=>(e.pools=e.pools.filter((e=>e.token0.wrapped.address.toLowerCase()===(null===b||void 0===b?void 0:b.toLowerCase())||e.token1.wrapped.address.toLowerCase()===(null===b||void 0===b?void 0:b.toLowerCase()))),e)))}(s[Y]||G===I.G.MY_FARMS)&&p&&(c=null===(r=c)||void 0===r?void 0:r.map((e=>{if(null===F||void 0===F||!F[e.id].depositedPositions.length)return Object(o.a)(Object(o.a)({},e),{},{pools:[]});var t=null===F||void 0===F?void 0:F[e.id].depositedPositions.map((e=>Object(d.computePoolAddress)({factoryAddress:x.elastic.coreFactory,tokenA:e.pool.token0,tokenB:e.pool.token1,fee:e.pool.fee,initCodeHashManualOverride:x.elastic.initCodeHash}).toLowerCase())),n=e.pools.filter((e=>t.includes(e.poolAddress.toLowerCase())));return Object(o.a)(Object(o.a)({},e),{},{pools:n})})));return(null===(e=c)||void 0===e?void 0:e.filter((e=>!!e.pools.length)))||[]}),[M,K,s,Y,G,f,F,p,x,y,k]),X=!Q.length,J=Object(l.useState)(null),$=Object(i.a)(J,2),ee=$[0],te=$[1],ne=Object(l.useState)(null),se=Object(i.a)(ne,2),re=se[0],oe=se[1],ie=Object(l.useState)(),ce=Object(i.a)(ie,2),ae=ce[0],de=ce[1],le=null===ae||void 0===ae?void 0:ae.pid,je=Number.isNaN(Number(le))?null:Number(le),be=Object(P.l)(E.a.SHARE),ue=Object(P.h)(E.a.SHARE),pe=Object(l.useState)(""),xe=Object(i.a)(pe,2),me=xe[0],he=xe[1],Oe=x.route||void 0,fe=me?"".concat(window.location.origin,"/farms/").concat(Oe,"?search=").concat(me,"&tab=elastic&type=").concat(G):void 0,ve=()=>{te(null),oe(null),de(void 0)};return Object(l.useEffect)((()=>{me&&be()}),[be,me]),Object(l.useEffect)((()=>{he((e=>ue?e:""))}),[ue,he]),Object(O.jsxs)(ge.Provider,{value:he,children:[ee&&"deposit"===re&&Object(O.jsx)(kt,{selectedFarmAddress:ee,onDismiss:ve}),ee&&null!==je&&["stake","unstake"].includes(re||"")&&Object(O.jsx)(Lt,{type:re,poolId:je,poolAddress:null!==(n=null===ae||void 0===ae?void 0:ae.poolAddress)&&void 0!==n?n:"",selectedFarmAddress:ee,onDismiss:ve}),ee&&"withdraw"===re&&Object(O.jsx)(Mt,{selectedFarmAddress:ee,onDismiss:ve}),ee&&"forcedWithdraw"===re&&Object(O.jsx)(Mt,{selectedFarmAddress:ee,onDismiss:ve,forced:!0}),ee&&"harvest"===re&&Object(O.jsx)(Dt,{farmsAddress:ee,poolId:je,onDismiss:ve}),(()=>{var e=Date.now()/1e3;if("ended"===G){var t=null===M||void 0===M?void 0:M.filter((t=>t.pools.every((t=>t.endTime<e))));return(null===t||void 0===t?void 0:t.some((e=>null===F||void 0===F?void 0:F[e.id].depositedPositions.map((e=>e.nftId.toString())).some((e=>N.includes(e))))))?Object(O.jsx)(C,{isEnded:!0}):null}return null})(),U===I.G.ENDED&&Z!==A.c.CLASSIC&&Object(O.jsx)(u.d,{fontStyle:"italic",fontSize:12,marginBottom:"1rem",color:r.subText,children:Object(O.jsx)(c.b,{id:"Your rewards may be automatically harvested a few days after the farm ends. Please check the <0>Vesting</0> tab to see your rewards",components:{0:Object(O.jsx)(h.i,{to:"".concat(I.h.FARMS,"/").concat(x.route,"?type=vesting")})}})}),R&&X?Object(O.jsx)(u.b,{sx:{borderRadius:"16px"},backgroundColor:r.background,children:Object(O.jsx)(S.a,{})}):X?Object(O.jsx)(u.b,{backgroundColor:r.background,justifyContent:"center",padding:"32px",style:{borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px"},children:Object(O.jsx)(u.d,{color:r.subText,children:s[Y]||K?Object(O.jsx)(c.b,{id:"No Farms found"}):Object(O.jsx)(c.b,{id:"Currently there are no Farms."})})}):Object(O.jsx)(u.b,{sx:{flexDirection:"column",rowGap:"48px"},children:Q.map((e=>Object(O.jsx)(lt,{address:e.id,onOpenModal:(t,n)=>{oe(t),te(e.id),de(n)},pools:e.pools,userInfo:null===F||void 0===F?void 0:F[e.id]},e.id)))}),Object(O.jsx)(T.b,{title:me?a.a._("Share this farm with your friends!"):a.a._("Share farms with your friends"),url:fe})]})}},"./src/components/YieldPools/FarmGuide.tsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),r=n("./node_modules/@lingui/react/esm/index.js"),o=n("./node_modules/react/index.js"),i=n("./node_modules/react-feather/dist/icons/eye.js"),c=n("./node_modules/react-feather/dist/icons/edit-2.js"),a=n("./node_modules/react-use/esm/useMedia.js"),d=n("./node_modules/rebass/dist/index.esm.js"),l=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),j=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),b=n("./src/components/Icons/index.ts"),u=n("./node_modules/react/jsx-runtime.js"),p=e=>{var t=e.width,n=e.height,s=e.color;return Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||24,height:n||24,viewBox:"0 0 24 24",children:[Object(u.jsx)("path",{d:"M19.5 11.9702C20.43 11.9702 21.28 12.2502 22 12.7302V7.97023C22 6.87023 21.1 5.97023 20 5.97023H13.71L12.65 4.91023L13.71 3.85023C13.91 3.65023 13.91 3.34023 13.71 3.14023C13.51 2.94023 13.2 2.94023 13 3.14023L10.17 5.97023C9.97002 6.17023 9.97002 6.48023 10.17 6.68023C10.37 6.88023 10.68 6.88023 10.88 6.68023L11.94 5.62023L13 6.68023V8.97023C13 10.0702 12.1 10.9702 11 10.9702H10.46C11.41 12.0302 12 13.4302 12 14.9702C12 15.3102 11.96 15.6402 11.91 15.9702H15.05C15.3 13.7302 17.19 11.9702 19.5 11.9702Z",fill:s||"currentColor"}),Object(u.jsx)("path",{d:"M19.5 12.9707C17.57 12.9707 16 14.5407 16 16.4707C16 18.4007 17.57 19.9707 19.5 19.9707C21.43 19.9707 23 18.4007 23 16.4707C23 14.5407 21.43 12.9707 19.5 12.9707ZM19.5 17.9707C18.67 17.9707 18 17.3007 18 16.4707C18 15.6407 18.67 14.9707 19.5 14.9707C20.33 14.9707 21 15.6407 21 16.4707C21 17.3007 20.33 17.9707 19.5 17.9707Z",fill:s||"currentColor"}),Object(u.jsx)("path",{d:"M4 8.9707H9C9 7.8707 8.1 6.9707 7 6.9707H4C3.45 6.9707 3 7.4207 3 7.9707C3 8.5307 3.45 8.9707 4 8.9707Z",fill:s||"currentColor"}),Object(u.jsx)("path",{d:"M9.83 13.7907L9.65 13.3207L10.58 12.9707C10.12 11.9107 9.3 11.0607 8.27 10.5407L7.87 11.4307L7.41 11.2207L7.81 10.3207C7.26 10.1107 6.64 9.9707 6 9.9707C5.47 9.9707 4.96 10.0807 4.48 10.2307L4.82 11.1407L4.35 11.3207L4 10.4007C2.94 10.8607 2.09 11.6807 1.57 12.7107L2.46 13.1107L2.25 13.5707L1.35 13.1707C1.13 13.7207 1 14.3307 1 14.9707C1 15.5007 1.11 16.0107 1.26 16.4907L2.17 16.1507L2.35 16.6207L1.42 16.9707C1.88 18.0307 2.7 18.8807 3.73 19.4007L4.13 18.5107L4.59 18.7207L4.19 19.6207C4.76 19.8407 5.37 19.9707 6.01 19.9707C6.54 19.9707 7.05 19.8607 7.53 19.7107L7.18 18.8007L7.65 18.6207L8 19.5507C9.06 19.0907 9.91 18.2707 10.43 17.2407L9.54 16.8407L9.75 16.3807L10.65 16.7807C10.87 16.2107 11 15.6007 11 14.9607C11 14.4307 10.89 13.9207 10.74 13.4407L9.83 13.7907ZM7.15 17.7507C5.62 18.3807 3.86 17.6607 3.23 16.1307C2.6 14.6007 3.32 12.8407 4.85 12.2107C6.38 11.5807 8.14 12.3007 8.77 13.8307C9.41 15.3607 8.68 17.1107 7.15 17.7507Z",fill:s||"currentColor"})]})},x=n("./src/components/Icons/Deposit.tsx"),m=n("./src/constants/v2.ts"),h=n("./src/hooks/useTheme.ts"),O=n("./src/theme/index.tsx"),f=n("./src/components/YieldPools/styleds.tsx"),g=l.default.div.withConfig({displayName:"FarmGuide__IconWrapper",componentId:"sc-lr7ao9-0"})(["width:20px;height:20px;display:flex;justify-content:center;align-items:center;color:",";"],(e=>e.theme.primary)),v=l.default.span.withConfig({displayName:"FarmGuide__Highlight",componentId:"sc-lr7ao9-1"})(["color:",";font-weight:500;"],(e=>e.theme.text)),y={[m.c.ELASTIC]:[{content:Object(u.jsx)(r.b,{id:"<0>Identify</0> the Elastic farm you would like to participate in",components:{0:Object(u.jsx)(v,{})}}),icon:Object(u.jsx)(i.a,{size:20}),title:"Step 1"},{content:Object(u.jsx)(r.b,{id:"<0>Add liquidity</0> to the corresponding <1>Elastic pool</1> and receive a NFT token for your liquidity position",components:{0:Object(u.jsx)(v,{}),1:Object(u.jsx)(O.i,{to:"/pools?tab=elastic"})}}),icon:Object(u.jsx)(b.m,{size:20}),title:"Step 2"},{content:Object(u.jsx)(r.b,{id:"<0>Approve</0> the farming contract (if you haven't) to let it access your liquidity positions (NFT tokens)",components:{0:Object(u.jsx)(v,{})}}),icon:Object(u.jsx)(c.a,{size:18}),title:"Step 3"},{content:Object(u.jsx)(r.b,{id:"<0>Deposit</0> your liquidity position (NFT token) into the farming contract. Then <1>stake</1> it into the farm",components:{0:Object(u.jsx)(v,{}),1:Object(u.jsx)(v,{})}}),icon:Object(u.jsx)(x.a,{width:20,height:20}),title:"Step 4"},{content:Object(u.jsx)(r.b,{id:"<0>Harvest</0> your farming rewards whenever you want",components:{0:Object(u.jsx)(v,{})}}),icon:Object(u.jsx)(p,{width:20,height:20}),title:"Step 5"},{content:Object(u.jsx)(r.b,{id:"<0>Claim</0> your farming rewards from the <1>Vesting</1> tab! Note: some farms may have a vesting period",components:{0:Object(u.jsx)(v,{}),1:Object(u.jsx)(O.i,{to:"/farms?type=vesting&tab=elastic"})}}),icon:Object(u.jsx)(b.x,{size:20}),title:"Step 6"}],[m.c.CLASSIC]:[{content:Object(u.jsx)(r.b,{id:"Identify the Classic farm you would like to participate in"}),icon:Object(u.jsx)(i.a,{size:20}),title:"Step 1"},{content:Object(u.jsx)(r.b,{id:"Add liquidity to the corresponding <0>Classic pool</0> to receive Liquidity Provider (LP) tokens",components:{0:Object(u.jsx)(O.i,{to:"/pools?tab=classic"})}}),icon:Object(u.jsx)(b.m,{size:20}),title:"Step 2"},{content:Object(u.jsx)(r.b,{id:"Stake your LP tokens in the farm you identified earlier"}),icon:Object(u.jsx)(x.a,{width:20,height:20}),title:"Step 3"},{content:Object(u.jsx)(r.b,{id:"Harvest your farming rewards whenever you want"}),icon:Object(u.jsx)(p,{width:20,height:20}),title:"Step 4"},{content:Object(u.jsx)(r.b,{id:"Claim your farming rewards! (Note: some farms may have a vesting period)"}),icon:Object(u.jsx)(b.x,{size:20}),title:"Step 5"}]};t.a=function(e){var t=e.farmType,n=Object(o.useState)(!1),i=Object(s.a)(n,2),c=i[0],l=i[1],b=Object(h.a)(),p=Object(a.a)("(max-width: 992px)"),x=y[t];return Object(u.jsxs)(f.r,{children:[Object(u.jsxs)(d.b,{alignItems:"center",children:[Object(u.jsx)(f.q,{children:t===m.c.ELASTIC?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(r.b,{id:"Deposit your liquidity from the Elastic Pools here, and then stake it to earn even more attractive farming rewards. Learn about our farming mechanisms"})," ",Object(u.jsx)(O.c,{href:"https://docs.kyberswap.com/guides/farming-mechanisms",children:Object(u.jsx)(r.b,{id:"here \u2197"})})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(r.b,{id:"Deposit your liquidity from the Classic Pools here to earn even more attractive farming rewards."})," ",Object(u.jsx)(O.c,{href:"https://docs.kyberswap.com/classic/guides/yield-farming-guide",children:Object(u.jsx)(r.b,{id:"Learn More \u2197"})})]})}),Object(u.jsx)(f.x,{onClick:()=>l((e=>!e)),show:c,children:Object(u.jsx)(j.a,{})})]}),Object(u.jsx)(f.k,{show:c,numOfSteps:x.length,children:x.map(((e,t)=>Object(u.jsxs)(o.Fragment,{children:[0!==t&&Object(u.jsx)(f.c,{}),Object(u.jsxs)(f.j,{children:[Object(u.jsxs)(d.b,{marginBottom:"0.5rem",alignItems:"center",sx:{gap:"8px"},children:[Object(u.jsx)(g,{children:e.icon}),Object(u.jsxs)(d.d,{flex:1,children:[Object(u.jsx)(d.d,{color:b.text,fontWeight:"500",as:"span",sx:{textTransform:"uppercase"},children:e.title}),p&&Object(u.jsxs)(u.Fragment,{children:[": ",e.content," "]})]})]}),!p&&e.content]})]},t)))})]})}},"./src/components/YieldPools/FarmPoolSort.tsx":function(e,t,n){"use strict";var s,r=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),i=n("./node_modules/@lingui/react/esm/index.js"),c=n("./node_modules/react/index.js"),a=n("./node_modules/react-feather/dist/icons/x.js"),d=n("./node_modules/react-router/dist/index.js"),l=n("./node_modules/react-router-dom/dist/index.js"),j=n("./node_modules/react-use/esm/useMedia.js"),b=n("./node_modules/rebass/dist/index.esm.js"),u=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),p=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),x=n("./src/components/Button/index.tsx"),m=n("./src/components/Icons/index.ts"),h=n("./src/components/Modal/index.tsx"),O=n("./src/constants/styles.ts"),f=n("./src/constants/v2.ts"),g=n("./src/hooks/useOnClickOutside.tsx"),v=n("./src/hooks/useTheme.ts"),y=n("./node_modules/react/jsx-runtime.js"),k=u.default.div.withConfig({displayName:"FarmPoolSort__Wrapper",componentId:"sc-nex9n3-0"})(["padding:0 12px;background:",";font-size:12px;font-weight:500;line-height:16px;border-radius:999px;position:relative;display:flex;justify-content:space-between;align-items:center;min-width:140px;height:36px;cursor:pointer;",";"],(e=>e.theme.background),(e=>e.theme.mediaWidth.upToExtraSmall(s||(s=Object(o.a)(["\n    min-width: fit-content;\n    padding: 10px;\n  "]))))),w=u.default.div.withConfig({displayName:"FarmPoolSort__DropDownMenu",componentId:"sc-nex9n3-1"})(["position:absolute;top:52px;overflow:hidden;left:0;right:0;box-shadow:0px 4px 4px rgba(0,0,0,0.25);background:",";border-radius:16px;padding:8px 0;z-index:",";"],(e=>e.theme.tableHeader),O.a.POPOVER_CONTAINER),C=u.default.div.withConfig({displayName:"FarmPoolSort__Row",componentId:"sc-nex9n3-2"})(["padding:8px 12px;color:",";:hover{background:",";}"],(e=>e.theme.subText),(e=>e.theme.buttonBlack)),S=[{orderBy:"apr",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"AVG APR \u2191"})},{orderBy:"apr",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"AVG APR \u2193"})},{orderBy:"staked_tvl",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"STAKED TVL \u2191"})},{orderBy:"staked_tvl",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"STAKED TVL \u2193"})},{orderBy:"end_time",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"END TIME \u2191"})},{orderBy:"end_time",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"END TIME \u2193"})},{orderBy:"my_deposit",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"MY DEPOSIT \u2191"})},{orderBy:"my_deposit",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"MY DEPOSIT \u2193"})},{orderBy:"my_reward",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"MY REWARD \u2191"})},{orderBy:"my_reward",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"MY REWARD \u2193"})}];t.a=e=>{var t=e.className,n=Object(d.k)().pathname,s=Object(l.d)(),o=Object(r.a)(s,2),u=o[0],O=o[1],T=u.get("orderDirection")||"desc",I=u.get("orderBy")||(n.startsWith("/farms")?"my_deposit":"tvl"),A=Object(c.useRef)(null);Object(g.a)(A,(()=>{R(!1)}));var _=u.get("tab")||f.c.ELASTIC,L=n.startsWith("/farms")?S:(e=>[{orderBy:"apr",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"AVG APR \u2191"})},{orderBy:"apr",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"AVG APR \u2193"})},{orderBy:"tvl",orderDirection:"asc",label:e===f.c.CLASSIC?Object(y.jsx)(i.b,{id:"AMP LIQUIDITY \u2191"}):Object(y.jsx)(i.b,{id:"TVL \u2191"})},{orderBy:"tvl",orderDirection:"desc",label:e===f.c.CLASSIC?Object(y.jsx)(i.b,{id:"AMP LIQUIDITY \u2193"}):Object(y.jsx)(i.b,{id:"TVL \u2193"})},{orderBy:"volume",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"VOLUME \u2191"})},{orderBy:"volume",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"VOLUME \u2193"})},{orderBy:"fee",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"FEES \u2191"})},{orderBy:"fee",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"FEES \u2193"})},{orderBy:"my_liquidity",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"MY LIQUIDITY \u2191"})},{orderBy:"my_liquidity",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"MY LIQUIDITY \u2193"})}])(_),E=Object(v.a)(),P=L.find((e=>e.orderBy===I&&e.orderDirection===T)),D=Object(c.useState)(!1),z=Object(r.a)(D,2),M=z[0],R=z[1],F=Object(j.a)("(max-width: 576px)");return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(k,{className:t,role:"button",ref:A,onClick:e=>{e.stopPropagation(),R((e=>!e))},children:[Object(y.jsxs)(b.b,{alignItems:"center",children:[Object(y.jsx)(m.J,{size:20}),!F&&Object(y.jsx)(b.d,{marginLeft:"4px",children:null===P||void 0===P?void 0:P.label})]}),!F&&Object(y.jsx)(p.a,{style:{transform:"rotate(".concat(M?"180deg":"0",")")}}),M&&!F&&Object(y.jsx)(w,{children:L.map((e=>Object(y.jsx)(C,{role:"button",onClick:()=>{u.set("orderBy",e.orderBy),u.set("orderDirection",e.orderDirection),O(u)},children:e.label},e.orderBy+"_"+e.orderDirection)))})]}),Object(y.jsx)(h.a,{isOpen:M&&F,onDismiss:()=>R(!1),maxWidth:"808px",maxHeight:80,minHeight:50,children:Object(y.jsxs)(b.b,{flexDirection:"column",width:"100%",padding:"24px 20px",backgroundColor:E.background,children:[Object(y.jsxs)(b.b,{alignItems:"center",justifyContent:"space-between",children:[Object(y.jsx)(b.d,{fontWeight:"500",children:Object(y.jsx)(i.b,{id:"Sort"})}),Object(y.jsx)(x.d,{onClick:()=>R(!1),width:"36px",height:"36px",padding:"0",children:Object(y.jsx)(a.a,{color:E.text})})]}),L.map((e=>Object(y.jsx)(b.d,{fontWeight:"500",fontSize:"12px",padding:"12px 0",color:E.subText,role:"button",onClick:()=>{u.set("orderBy",e.orderBy),u.set("orderDirection",e.orderDirection),O(u)},children:e.label},e.orderBy+"_"+e.orderDirection)))]})})]})}},"./src/components/YieldPools/index.tsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),r=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=n("./node_modules/@lingui/react/esm/index.js"),c=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),a=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),d=n("./node_modules/react/index.js"),l=n.n(d),j=n("./node_modules/rebass/dist/index.esm.js"),b=n("./src/components/LocalLoader/index.tsx"),u=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),p=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),x=n("./node_modules/@lingui/core/esm/index.js"),m=n("./node_modules/react-router/dist/index.js"),h=n("./node_modules/react-use/esm/useMedia.js"),O=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),f=n("./src/components/InfoHelper/index.tsx"),g=n("./src/components/Row/index.tsx"),v=n("./src/components/ShareModal/index.tsx"),y=n("./src/constants/index.ts"),k=n("./src/hooks/index.ts"),w=n("./src/hooks/useContract.ts"),C=n("./src/constants/messages.ts"),S=n("./src/state/transactions/hooks.tsx"),T=n("./src/state/transactions/type.ts"),I=n("./src/utils/index.ts"),A=n("./src/utils/formatBalance.ts"),_=(e,t)=>{var n,s,r,o;return{contract:null===e||void 0===e?void 0:e.id,tokenAddressIn:null===e||void 0===e||null===(n=e.token0)||void 0===n?void 0:n.id,tokenAddressOut:null===e||void 0===e||null===(s=e.token1)||void 0===s?void 0:s.id,tokenSymbolIn:null===e||void 0===e||null===(r=e.token0)||void 0===r?void 0:r.symbol,tokenSymbolOut:null===e||void 0===e||null===(o=e.token1)||void 0===o?void 0:o.symbol,rewards:t.map((e=>{var t;return{tokenSymbol:null!==(t=e.token.symbol)&&void 0!==t?t:"",tokenAmount:Object(A.f)(e.amount,e.token.decimals),tokenAddress:e.token.address}}))}},L=e=>{var t=Object(S.g)(),n=Object(w.h)(e),s=Object(d.useCallback)(Object(p.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===n||void 0===n?void 0:n.poolLength();case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[n]),r=Object(d.useCallback)(function(){var e=Object(p.a)(Object(u.a)().mark((function e(t){var s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===n||void 0===n?void 0:n.getPoolInfo(t);case 3:return s=e.sent,e.abrupt("return",s);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[n]),o=Object(d.useCallback)(Object(p.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===n||void 0===n?void 0:n.getRewardTokens();case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[n]),i=Object(d.useCallback)(function(){var e=Object(p.a)(Object(u.a)().mark((function e(s,r,o){var i,c,a,d=arguments;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=d.length>3&&void 0!==d[3]&&d[3],n){e.next=3;break}throw new Error(C.a);case 3:return e.next=5,n.estimateGas.deposit(s,r,i);case 5:return c=e.sent,e.next=8,n.deposit(s,r,i,{gasLimit:Object(I.b)(c)});case 8:return a=e.sent,t({hash:a.hash,type:T.c.STAKE,extraInfo:{tokenAddress:"",tokenSymbol:"".concat(o," Tokens"),tokenAmount:Object(A.f)(r)}}),e.abrupt("return",a.hash);case 11:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),[t,n]),c=Object(d.useCallback)(function(){var e=Object(p.a)(Object(u.a)().mark((function e(s,r,o){var i,c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(C.a);case 2:return e.next=4,n.estimateGas.withdraw(s,r);case 4:return i=e.sent,e.next=7,n.withdraw(s,r,{gasLimit:Object(I.b)(i)});case 7:return c=e.sent,t({hash:c.hash,type:T.c.UNSTAKE,extraInfo:{tokenAddress:"",tokenSymbol:"".concat(o," Tokens"),tokenAmount:Object(A.f)(r)}}),e.abrupt("return",c.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),[t,n]),a=Object(d.useCallback)(function(){var e=Object(p.a)(Object(u.a)().mark((function e(s,r,o){var i,c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(C.a);case 2:return e.next=4,n.estimateGas.harvest(s);case 4:return i=e.sent,e.next=7,n.harvest(s,{gasLimit:Object(I.b)(i)});case 7:return c=e.sent,t({hash:c.hash,type:T.c.HARVEST,extraInfo:_(r,o)}),e.abrupt("return",c.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),[t,n]),l=Object(d.useCallback)(function(){var e=Object(p.a)(Object(u.a)().mark((function e(s,r){var o,i;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(C.a);case 2:return e.next=4,n.estimateGas.harvestMultiplePools(s);case 4:return o=e.sent,e.next=7,n.harvestMultiplePools(s,{gasLimit:Object(I.b)(o)});case 7:return i=e.sent,t({hash:i.hash,type:T.c.HARVEST,extraInfo:_(null,r)}),e.abrupt("return",i.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t,n]);return{masterChefContract:n,getPoolLength:s,getPoolInfo:r,getRewardTokens:o,deposit:i,withdraw:c,harvest:a,harvestMultiplePools:l}},E=n("./src/hooks/useMixpanel.ts"),P=n("./src/hooks/useTheme.ts"),D=n("./src/state/application/actions.ts"),z=n("./src/state/application/hooks.ts"),M=n("./src/state/farms/classic/actions.ts"),R=n("./src/state/farms/classic/types.ts"),F=n("./src/state/hooks.ts"),N=n("./src/state/user/hooks.tsx"),B=n("./src/state/user/reducer.ts"),W=n("./src/theme/index.tsx"),H=n("./src/utils/dmm.ts"),V=n("./src/utils/formatTime.ts"),q=n("./node_modules/react-feather/dist/icons/x.js"),U=n("./src/components/Button/index.tsx"),G=n("./src/components/Column/index.tsx"),Y=n("./src/components/CurrencyLogo/index.tsx"),Z=n("./src/components/HoverDropdown/index.tsx"),K=n("./src/components/Icons/Harvest.tsx"),Q=n("./src/components/Modal/index.tsx"),X=n("./src/hooks/useOnClickOutside.tsx"),J=n("./src/utils/numbers.ts"),$=n("./src/components/YieldPools/ElasticFarmModals/styled.tsx"),ee=n("./src/components/YieldPools/styleds.tsx"),te=n("./node_modules/react/jsx-runtime.js"),ne=e=>{var t=e.totalRewards,n=e.onHarvestAll,s=Object(P.a)(),o=Object(d.useRef)(),c=Object(d.useState)(!1),l=Object(r.a)(c,2),b=l[0],u=l[1],p=Object(H.l)(t),x=Object(h.a)("(min-width:500px)"),m=Object(k.b)().chainId,O=t.some((e=>null===e||void 0===e?void 0:e.amount.gt(a.a.from("0"))));Object(X.a)(o,b?()=>{O&&u((e=>!e))}:void 0);var f=Object(d.useState)(!1),v=Object(r.a)(f,2),y=v[0],w=v[1];return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(Q.a,{isOpen:y,onDismiss:()=>w(!1),children:Object(te.jsxs)($.b,{children:[Object(te.jsxs)(j.b,{alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",children:[Object(te.jsx)(j.d,{fontSize:"20px",fontWeight:"500",children:"Harvest All"}),Object(te.jsx)(U.d,{onClick:()=>w(!1),width:"36px",height:"36px",padding:"0",children:Object(te.jsx)(q.a,{color:s.text})})]}),Object(te.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",marginTop:"1rem",children:[Object(te.jsx)(j.d,{color:s.subText,fontSize:"0.75rem",children:Object(te.jsx)(i.b,{id:"My Rewards"})}),Object(te.jsx)(j.d,{fontSize:"0.75rem",fontWeight:"500",children:Object(I.i)(p.toString(),!0)})]}),Object(te.jsx)(ee.u,{children:t.map(((e,n)=>Object(te.jsxs)(d.Fragment,{children:[Object(te.jsxs)(j.b,{alignItems:"center",fontSize:"12px",sx:{gap:"4px"},children:[m&&e.token.wrapped.address&&Object(te.jsx)(Y.a,{currency:e.token,size:"16px"}),Object(A.f)(e.amount,e.token.decimals)]}),n!==t.length-1&&Object(te.jsx)(j.d,{color:s.subText,children:"|"})]},e.token.wrapped.address)))}),Object(te.jsx)(U.i,{margin:"8px 0 0",onClick:()=>{null===n||void 0===n||n(),w(!1)},children:"Harvest"})]})}),x?Object(te.jsxs)(g.c,{children:[Object(te.jsxs)(g.c,{fontSize:"14px",gap:"4px",color:s.subText,width:"max-content",fontWeight:500,marginRight:"8px",children:[Object(te.jsx)(K.a,{width:16,height:16}),Object(te.jsx)(i.b,{id:"Rewards"})]}),Object(te.jsx)(Z.a,{padding:"4px 0",content:Object(te.jsx)(j.d,{fontSize:"20px",fontWeight:500,children:Object(J.a)(p)}),dropdownContent:t.some((e=>{var t;return null===e||void 0===e||null===(t=e.amount)||void 0===t?void 0:t.gt(0)}))?Object(te.jsx)(G.c,{gap:"8px",children:t.map((e=>e&&e.amount&&!e.amount.lte(0)?Object(te.jsxs)(g.f,{children:[Object(te.jsx)(Y.a,{currency:e.token,size:"16px"}),Object(te.jsxs)(j.d,{marginLeft:"4px",fontSize:"12px",children:[Object(A.a)(e.amount,e.token.decimals)," ",e.token.symbol]})]},e.token.address):null))}):"",style:{marginRight:"24px"}}),Object(te.jsxs)(U.i,{width:"160px",onClick:()=>w(!0),disabled:!O,padding:"10px 12px",height:"fit-content",children:[Object(te.jsx)(K.a,{}),Object(te.jsx)(j.d,{marginLeft:"4px",children:Object(te.jsx)(i.b,{id:"Harvest All"})})]})]}):Object(te.jsxs)(G.c,{gap:"12px",style:{flex:"1",borderRadius:"20px",background:s.buttonBlack,padding:"16px",alignItems:"stretch"},children:[Object(te.jsxs)(g.b,{children:[Object(te.jsxs)(g.c,{fontSize:"14px",gap:"4px",color:s.subText,width:"max-content",fontWeight:500,marginRight:"8px",children:[Object(te.jsx)(K.a,{width:16,height:16}),Object(te.jsx)(i.b,{id:"Rewards"})]}),Object(te.jsx)(Z.a,{padding:"4px 0",content:Object(te.jsx)(j.d,{fontSize:"20px",fontWeight:500,children:Object(J.a)(p)}),dropdownContent:t.some((e=>{var t;return null===e||void 0===e||null===(t=e.amount)||void 0===t?void 0:t.gt(0)}))?Object(te.jsx)(G.c,{gap:"8px",children:t.map((e=>e&&e.amount&&!e.amount.lte(0)?Object(te.jsxs)(g.f,{children:[Object(te.jsx)(Y.a,{currency:e.token,size:"16px"}),Object(te.jsxs)(j.d,{marginLeft:"4px",fontSize:"12px",children:[Object(A.a)(e.amount,e.token.decimals)," ",e.token.symbol]})]},e.token.address):null))}):""})]}),Object(te.jsxs)(U.i,{onClick:()=>w(!0),disabled:!O,padding:"10px 12px",height:"fit-content",children:[Object(te.jsx)(K.a,{}),Object(te.jsx)(j.d,{marginLeft:"4px",children:Object(te.jsx)(i.b,{id:"Harvest All"})})]})]})]})},se=n("./node_modules/@ethersproject/constants/lib.esm/bignumbers.js"),re=n("./node_modules/ethers/lib.esm/index.js"),oe=n("./node_modules/jsbi/dist/jsbi-umd.js"),ie=n.n(oe),ce=n("./node_modules/react-feather/dist/icons/share-2.js"),ae=n("./node_modules/react-feather/dist/icons/minus.js"),de=n("./node_modules/react-feather/dist/icons/plus.js"),le=n("./node_modules/react-router-dom/dist/index.js"),je=n("./src/components/Copy/index.tsx"),be=n("./src/components/CurrencyInputPanel/index.tsx"),ue=n("./src/components/Divider/index.tsx"),pe=n("./src/components/Dots.tsx"),xe=n("./src/components/DoubleLogo/index.tsx"),me=n("./src/components/Icons/index.ts"),he=n("./src/components/Tooltip/index.tsx"),Oe=n("./src/hooks/Tokens.ts"),fe=n("./src/hooks/useApproveCallback.ts"),ge=n("./src/hooks/useParsedQueryString.ts"),ve=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,s=Object(d.useState)({value:a.a.from(0),decimals:18}),o=Object(r.a)(s,2),i=o[0],c=o[1],l=Object(k.b)(),j=l.account,b=Object(z.c)(),x=Object(w.h)(e),m=Object(d.useCallback)(Object(p.a)(Object(u.a)().mark((function e(){var s,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(){var e=Object(p.a)(Object(u.a)().mark((function e(t,s){var r,o;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===x||void 0===x?void 0:x.getUserInfo(t,s);case 3:return r=e.sent,o=r.amount,e.abrupt("return",{value:a.a.from(o),decimals:n});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{value:a.a.from(0),decimals:n});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),e.next=3,s(t,j);case 3:r=e.sent,c(r);case 5:case"end":return e.stop()}}),e)}))),[j,n,x,t]);return Object(d.useEffect)((()=>{j&&x&&m()}),[j,c,b,m,x]),i},ye=n("./src/hooks/useTokenBalance.ts"),ke=n("./src/utils/currencyId.ts"),we=n("./src/components/YieldPools/FarmingPoolAPRCell.tsx"),Ce=(e,t)=>{var n=new c.Fraction(e.toString(),ie.a.exponentiate(ie.a.BigInt(10),ie.a.BigInt(t)));return n.equalTo(ie.a.BigInt(0))?"0":n.toFixed(18).replace(/\.?0+$/,"")},Se=e=>{var t,n,s,o,b,m,O,f,v,w,C,S,T,_,D=e.farm,R=e.setSharedPoolAddress,Z=Object(k.b)(),X=Z.account,ne=Z.chainId,oe=Z.isEVM,Se=Object(z.x)(),Te=Math.floor(Date.now()/1e3),Ie=Object(N.z)(),Ae=Object(r.a)(Ie,1)[0],_e=Object(E.c)().mixpanelHandler,Le=Object(ge.a)().type,Ee=void 0===Le?"active":Le,Pe=Object(h.a)("(min-width: 1200px)"),De=Object(F.a)(),ze=Object(Oe.j)(null===(t=D.token0)||void 0===t?void 0:t.id),Me=Object(Oe.j)(null===(n=D.token1)||void 0===n?void 0:n.id),Re=Object(I.t)(ne,D.id),Fe=Object(ye.a)(Re),Ne=Fe.value,Be=Fe.decimals,We=y.P[D.fairLaunchAddress],He=null!==(s=D.userData)&&void 0!==s&&s.stakedBalance?a.a.from(null===(o=D.userData)||void 0===o?void 0:o.stakedBalance):a.a.from(0),Ve=Object(H.k)([D]),qe=new c.Fraction(D.totalStake.toString(),ie.a.exponentiate(ie.a.BigInt(10),ie.a.BigInt(Be))).divide(new c.Fraction(re.ethers.utils.parseUnits(D.totalSupply,Be).toString(),ie.a.exponentiate(ie.a.BigInt(10),ie.a.BigInt(Be)))),Ue=new c.Fraction(Ne.toString(),ie.a.exponentiate(ie.a.BigInt(10),ie.a.BigInt(Be))).divide(new c.Fraction(re.ethers.utils.parseUnits(D.totalSupply,Be).toString(),ie.a.exponentiate(ie.a.BigInt(10),ie.a.BigInt(Be)))),Ge=parseFloat(Ue.toSignificant(6))*parseFloat(D.reserve0),Ye=parseFloat(Ue.toSignificant(6))*parseFloat(D.reserve1),Ze=new c.Fraction(He.toString(),ie.a.exponentiate(ie.a.BigInt(10),ie.a.BigInt(Be))).divide(new c.Fraction(re.ethers.utils.parseUnits(D.totalSupply,Be).toString(),ie.a.exponentiate(ie.a.BigInt(10),ie.a.BigInt(Be)))),Ke=parseFloat(Ze.toSignificant(6))*parseFloat(D.reserve0),Qe=parseFloat(Ze.toSignificant(6))*parseFloat(D.reserve1),Xe=parseFloat(Ue.toSignificant(6))*parseFloat(D.reserveUSD),Je=parseFloat(Ze.toSignificant(6))*parseFloat(D.reserveUSD),$e=parseFloat(qe.toSignificant(6))*parseFloat(D.reserveUSD),et=Object(H.j)(D,$e.toString()),tt=null!==D&&void 0!==D&&D.oneDayFeeUSD?null===D||void 0===D?void 0:D.oneDayFeeUSD:null===D||void 0===D?void 0:D.oneDayFeeUntracked,nt=Object(H.d)(null===D||void 0===D?void 0:D.reserveUSD,tt),st=et;nt<y.L&&(st+=nt);var rt,ot,it=D.amp/1e4,ct="".concat(D.token0.symbol,"-").concat(D.token1.symbol," LP"),at=Object(d.useState)(""),dt=Object(r.a)(at,2),lt=dt[0],jt=dt[1],bt=Object(d.useState)(""),ut=Object(r.a)(bt,2),pt=ut[0],xt=ut[1],mt=Object(I.t)(ne,D.id),ht=Object(ye.a)(mt),Ot=ve(D.fairLaunchAddress,D.pid),ft=Object(H.l)(Ve),gt=!Ot.value.gt(0),vt=Object(d.useMemo)((()=>c.TokenAmount.fromRawAmount(new c.Token(ne,mt,ht.decimals,ct,""),se.b.toString())),[ht.decimals,ne,mt,ct]),yt=Object(fe.b)(vt,oe?D.fairLaunchAddress:void 0),kt=Object(r.a)(yt,2),wt=kt[0],Ct=kt[1];try{rt=""===lt||0===parseFloat(lt)||re.ethers.utils.parseUnits(lt||"0",ht.decimals).gt(ht.value)}catch(Nt){rt=!0}try{ot=""===pt||0===parseFloat(pt)||re.ethers.utils.parseUnits(pt||"0",Ot.decimals).gt(Ot.value)}catch(Nt){ot=!0}var St=!Ve.some((e=>null===e||void 0===e?void 0:e.amount.gt(a.a.from("0")))),Tt=L(D.fairLaunchAddress),It=Tt.deposit,At=Tt.withdraw,_t=Tt.harvest,Lt=function(){var e=Object(p.a)(Object(u.a)().mark((function e(t){var n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X){e.next=2;break}return e.abrupt("return");case 2:return De(Object(M.d)(!0)),De(Object(M.a)(!0)),De(Object(M.e)("")),e.prev=5,e.next=8,It(t,re.ethers.utils.parseUnits(lt,ht.decimals),ct,!1);case 8:n=e.sent,De(Object(M.e)(n)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error(e.t0),De(Object(M.f)(e.t0));case 16:De(Object(M.a)(!1));case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),Et=function(){var e=Object(p.a)(Object(u.a)().mark((function e(t){var n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X){e.next=2;break}return e.abrupt("return");case 2:return De(Object(M.d)(!0)),De(Object(M.a)(!0)),De(Object(M.e)("")),e.prev=5,e.next=8,At(t,re.ethers.utils.parseUnits(pt,Ot.decimals),ct);case 8:n=e.sent,De(Object(M.e)(n)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error(e.t0),De(Object(M.f)(e.t0));case 16:De(Object(M.a)(!1));case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),Pt=function(){var e=Object(p.a)(Object(u.a)().mark((function e(t){var n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X){e.next=2;break}return e.abrupt("return");case 2:return De(Object(M.d)(!0)),De(Object(M.a)(!0)),De(Object(M.e)("")),e.prev=5,e.next=8,_t(t,D,Ve);case 8:(n=e.sent)&&_e(E.a.INDIVIDUAL_REWARD_HARVESTED,{reward_tokens_and_amounts:JSON.stringify(Ve&&Object.assign({},...Ve.map((e=>{var t;return(null===e||void 0===e||null===(t=e.token)||void 0===t?void 0:t.symbol)&&{[e.token.symbol]:Object(A.f)(e.amount,e.token.decimals)}}))))}),De(Object(M.e)(n)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.error(e.t0),De(Object(M.f)(e.t0));case 17:De(Object(M.a)(!1));case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),Dt=Object(P.a)(),zt=Object(d.useState)(null),Mt=Object(r.a)(zt,2),Rt=Mt[0],Ft=Mt[1];return Object(te.jsxs)(te.Fragment,{children:[Ae===B.a.LIST&&Pe&&Object(te.jsx)(te.Fragment,{children:Object(te.jsxs)(ee.C,{joined:!!Je,children:[Object(te.jsxs)(G.c,{gap:"12px",children:[Object(te.jsxs)(g.f,{children:[Object(te.jsx)(xe.b,{currency0:ze,currency1:Me,size:16}),Object(te.jsxs)(le.b,{to:"/add/".concat(Object(ke.b)(null===(b=D.token0)||void 0===b?void 0:b.id,ne),"/").concat(Object(ke.b)(null===(m=D.token1)||void 0===m?void 0:m.id,ne),"/").concat(D.id),style:{textDecoration:"none",marginRight:"6px"},children:[null===(O=D.token0)||void 0===O?void 0:O.symbol," - ",null===(f=D.token1)||void 0===f?void 0:f.symbol]}),Object(te.jsxs)(j.d,{color:Dt.subText,fontSize:"12px",lineHeight:"16px",style:{backgroundColor:Dt.blue+"20",color:Dt.blue,borderRadius:"16px",padding:"2px 4px",whiteSpace:"nowrap",flex:"0 0 71px"},children:["AMP = ",it]})]}),Object(te.jsxs)(g.f,{children:[Object(te.jsxs)(g.c,{color:Dt.subText,gap:"6px",marginRight:"16px",children:[Object(te.jsx)(je.a,{toCopy:D.id}),Object(te.jsx)(j.d,{fontSize:"12px",lineHeight:"16px",children:Object(I.A)(ne,D.id,3)})]}),Object(te.jsxs)(g.c,{onClick:()=>{R(D.id)},sx:{cursor:"pointer"},role:"button",gap:"6px",children:[Object(te.jsx)(ce.a,{size:"14px",color:Dt.subText,fill:Dt.subText}),Object(te.jsx)(j.d,{fontSize:"12px",lineHeight:"16px",color:Dt.subText,children:Object(te.jsx)(i.b,{id:"Share"})})]})]})]}),Object(te.jsx)(g.f,{children:Object(te.jsx)(j.d,{fontSize:"14px",fontWeight:400,children:Object(J.a)($e)})}),Object(te.jsxs)(g.f,{color:Dt.apr,gap:"4px",children:[st.toFixed(2),"%",0!==st&&Object(te.jsx)(he.a,{width:"fit-content",placement:"right",text:Object(te.jsx)(we.a,{farmAPR:et,poolAPR:nt<y.L?nt:0}),children:Object(te.jsx)(me.w,{size:16,color:Dt.apr})})]}),Object(te.jsx)(G.c,{gap:"6px",children:D.startTime>Te?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(j.d,{fontSize:"12px",color:Dt.warning,children:Object(te.jsx)(i.b,{id:"New phase will start in"})}),Object(te.jsx)(j.d,{color:Dt.warning,children:Object(V.a)(D.startTime-Te)})]}):D.endTime>Te?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(j.d,{color:Dt.subText,fontSize:"12px",children:Object(te.jsx)(i.b,{id:"Current phase will end in"})}),Object(V.a)(D.endTime-Te)]}):Object(te.jsx)(te.Fragment,{children:Object(te.jsx)(j.d,{color:Dt.subText,fontSize:"12px",children:Object(te.jsx)(i.b,{id:"Farm Ended"})})})}),Object(te.jsx)(g.f,{children:Object(I.i)(Je.toString(),!0)}),Object(te.jsx)(G.c,{gap:"8px",style:{alignItems:"end"},children:Ve.map((e=>Object(te.jsx)("div",{style:{marginTop:"2px"},children:Object(te.jsxs)(g.f,{gap:"4px",children:[ne&&e.token.wrapped.address&&Object(te.jsx)(Y.a,{currency:e.token,size:"16px",style:{marginLeft:"3px"}}),Object(A.f)(e.amount,e.token.decimals)]})},e.token.wrapped.address)))}),Object(te.jsxs)(g.f,{gap:"4px",justify:"flex-end",children:[Object(te.jsx)(ee.a,{color:Dt.primary,disabled:St,onClick:()=>{Ft("harvest")},children:Object(te.jsx)(he.a,{text:x.a._("Harvest"),placement:"top",width:"fit-content",children:Object(te.jsx)(K.a,{})})}),Object(te.jsx)(ee.a,{disabled:gt,color:Dt.red,onClick:()=>{Ft("unstake")},children:Object(te.jsx)(he.a,{text:x.a._("Unstake"),placement:"top",width:"fit-content",children:Object(te.jsx)(ae.a,{size:16})})}),Object(te.jsx)(ee.a,{color:Dt.primary,disabled:"ended"===Ee,onClick:()=>{Ft("stake")},children:Object(te.jsx)(he.a,{text:x.a._("Stake"),placement:"top",width:"fit-content",children:Object(te.jsx)(de.a,{size:16})})})]})]})}),(Ae===B.a.GRID||!Pe)&&Object(te.jsxs)(ee.h,{joined:!!Je,children:[Object(te.jsxs)(g.f,{marginBottom:"12px",children:[Object(te.jsx)(xe.b,{currency0:ze,currency1:Me,size:20}),Object(te.jsxs)(j.d,{fontSize:"16px",fontWeight:"500",marginRight:"4px",color:Dt.green,children:[null===ze||void 0===ze?void 0:ze.symbol," - ",null===Me||void 0===Me?void 0:Me.symbol]}),Object(te.jsxs)(j.d,{fontSize:12,lineHeight:"16px",style:{backgroundColor:Dt.blue+"20",color:Dt.blue,borderRadius:"16px",padding:"2px 4px"},children:["AMP ",D.amp/1e4]})]}),Object(te.jsxs)(g.b,{marginBottom:"16px",children:[Object(te.jsxs)(g.c,{color:Dt.subText,fontSize:12,gap:"4px",children:[Object(te.jsx)(je.a,{toCopy:D.id}),Object(I.A)(ne,D.id,3)]}),Object(te.jsx)(g.c,{children:Object(te.jsx)(ce.a,{fill:Dt.subText,size:"14px",color:Dt.subText,style:{cursor:"pointer"},onClick:()=>{R(D.id)}})})]}),Object(te.jsx)(g.b,{marginBottom:"2px",children:Object(te.jsx)(he.a,{text:Object(te.jsx)(we.a,{farmAPR:et,poolAPR:nt<y.L?nt:0}),children:Object(te.jsx)(j.d,{width:"fit-content",lineHeight:"16px",fontSize:"12px",fontWeight:"500",color:Dt.subText,sx:{borderBottom:"1px dashed ".concat(Dt.border)},children:Object(te.jsx)(i.b,{id:"Avg APR"})})})}),Object(te.jsx)(g.b,{marginBottom:"16px",children:Object(te.jsx)(j.d,{fontSize:28,lineHeight:"32px",color:Dt.apr,fontWeight:500,children:st?st.toFixed(2)+"%":"--"})}),Object(te.jsxs)(g.b,{marginBottom:"4px",children:[Object(te.jsx)(j.d,{fontSize:12,color:Dt.subText,lineHeight:"16px",children:Object(te.jsx)(i.b,{id:"Staked TVL"})}),D.startTime>Te?Object(te.jsx)(j.d,{fontSize:12,lineHeight:"16px",color:Dt.warning,children:Object(te.jsx)(i.b,{id:"New phase will start in"})}):D.endTime>Te?Object(te.jsx)(j.d,{fontSize:12,color:Dt.subText,lineHeight:"16px",children:Object(te.jsx)(i.b,{id:"Current phase will end in"})}):Object(te.jsx)(j.d,{fontSize:12,color:Dt.subText,lineHeight:"16px",children:Object(te.jsx)(i.b,{id:"Farm ended"})})]}),Object(te.jsxs)(g.b,{marginBottom:"16px",children:[Object(te.jsx)(j.d,{fontSize:"16px",color:Dt.text,lineHeight:"20px",children:Object(J.a)($e)}),void 0!==D.startTime?D.startTime>Te?Object(te.jsx)(j.d,{color:Dt.warning,children:Object(V.a)(D.startTime-Te)}):D.endTime>Te?Object(te.jsx)(te.Fragment,{children:Object(V.a)(D.endTime-Te)}):Object(te.jsx)(te.Fragment,{}):"--"]}),Object(te.jsx)(ue.a,{marginBottom:"16px"}),Object(te.jsx)(g.b,{marginBottom:"4px",children:Object(te.jsx)(j.d,{fontSize:12,color:Dt.subText,lineHeight:"16px",children:Object(te.jsx)(i.b,{id:"My Deposit"})})}),Object(te.jsx)(g.b,{marginBottom:"16px",children:Object(te.jsx)(j.d,{fontSize:"16px",color:Dt.text,lineHeight:"20px",children:Je?Object(J.a)(Je):"--"})}),Object(te.jsxs)(g.b,{marginBottom:"16px",children:[Object(te.jsxs)(G.c,{gap:"4px",children:[Object(te.jsx)(j.d,{fontSize:12,color:Dt.subText,lineHeight:"16px",marginBottom:"4px",children:Object(te.jsx)(i.b,{id:"My Rewards"})}),Object(te.jsx)(g.f,{gap:"8px",children:Ve.map(((e,t,n)=>Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(g.c,{gap:"4px",fontSize:"12px",lineHeight:"16px",children:[ne&&e.token.wrapped.address&&Object(te.jsx)(Y.a,{currency:e.token,size:"16px"}),!!e.amount&&Object(A.f)(e.amount,e.token.decimals)]},e.token.wrapped.address),t!==n.length-1&&Object(te.jsx)("div",{style:{height:"10px",width:"1px",backgroundColor:Dt.border}})]})))})]}),Object(te.jsxs)(ee.b,{color:Dt.apr,flex:"0 0 fit-content",disabled:St,onClick:()=>{Pt(D.pid)},children:[Object(te.jsx)(K.a,{}),Object(te.jsx)(i.b,{id:"Harvest"})]})]}),Object(te.jsxs)(g.f,{gap:"16px",children:[Object(te.jsxs)(ee.b,{flex:1,disabled:gt,onClick:()=>Ft("unstake"),color:Dt.red,children:[Object(te.jsx)(ae.a,{size:16}),Object(te.jsx)(i.b,{id:"Unstake"})]}),Object(te.jsxs)(ee.b,{disabled:"ended"===Ee,flex:1,onClick:()=>Ft("stake"),color:Dt.primary,children:[Object(te.jsx)(de.a,{size:16}),Object(te.jsx)(i.b,{id:"Stake"})]})]})]},"".concat(D.fairLaunchAddress,"_").concat(D.stakeToken)),Object(te.jsx)(Q.a,{isOpen:!!Rt,onDismiss:()=>Ft(null),children:Object(te.jsxs)($.b,{children:[Object(te.jsxs)(j.b,{alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",children:[Object(te.jsxs)(j.b,{children:[Object(te.jsx)(xe.b,{currency0:ze,currency1:Me,size:24}),Object(te.jsx)(j.d,{fontSize:"20px",fontWeight:"500",children:(()=>{switch(Rt){case"stake":return Object(te.jsx)(i.b,{id:"Stake"});case"unstake":return Object(te.jsx)(i.b,{id:"Unstake"});default:return Object(te.jsx)(i.b,{id:"Harvest"})}})()})]}),Object(te.jsx)(U.d,{onClick:()=>Ft(null),width:"36px",height:"36px",padding:"0",children:Object(te.jsx)(q.a,{color:Dt.text})})]}),"harvest"!==Rt&&Object(te.jsx)(ue.a,{}),Object(te.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",marginTop:"1rem",children:[Object(te.jsx)(j.d,{color:Dt.subText,fontSize:"0.75rem",children:"harvest"===Rt?Object(te.jsx)(i.b,{id:"My Rewards"}):Object(te.jsx)(i.b,{id:"Available Balance"})}),Object(te.jsx)(j.d,{fontSize:"0.75rem",fontWeight:"500",children:(()=>{switch(Rt){case"stake":return Object(I.i)(Xe.toString(),!0);case"unstake":return Object(I.i)(Je.toString(),!0);default:return Object(I.i)(ft.toString(),!0)}})()})]}),Object(te.jsxs)(ee.u,{children:["harvest"===Rt&&Ve.map(((e,t)=>Object(te.jsxs)(l.a.Fragment,{children:[Object(te.jsxs)(j.b,{alignItems:"center",fontSize:"12px",sx:{gap:"4px"},children:[ne&&e.token.wrapped.address&&Object(te.jsx)(Y.a,{currency:e.token,size:"16px"}),Object(A.f)(e.amount,e.token.decimals)]}),t!==Ve.length-1&&Object(te.jsx)(j.d,{color:Dt.subText,children:"|"})]},e.token.wrapped.address))),Rt&&["stake","unstake"].includes(Rt)&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(j.b,{alignItems:"center",fontSize:"12px",sx:{gap:"4px"},children:[Object(te.jsx)(Y.a,{currency:ze,size:"16px"}),Object(te.jsx)(j.d,{textAlign:"right",fontSize:"0.75rem",color:Dt.subText,children:Object(A.e)("stake"===Rt?Ge:Ke)})]}),Object(te.jsx)(j.d,{color:Dt.subText,children:"|"}),Object(te.jsxs)(j.b,{alignItems:"center",fontSize:"12px",sx:{gap:"4px"},children:[Object(te.jsx)(Y.a,{currency:Me,size:"16px"}),Object(te.jsx)(j.d,{textAlign:"right",fontSize:"0.75rem",color:Dt.subText,children:Object(A.e)("stake"===Rt?Ye:Qe)})]})]})]}),"harvest"!==Rt&&Object(te.jsx)(ue.a,{}),"harvest"===Rt?Object(te.jsx)(U.i,{margin:"8px 0 0",onClick:()=>{Pt(D.pid),Ft(null)},children:"Harvest"}):Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(j.b,{marginTop:"20px",children:[X?wt===fe.a.UNKNOWN&&Object(te.jsx)(pe.a,{}):Object(te.jsx)(U.g,{onClick:Se,children:Object(te.jsx)(i.b,{id:"Connect Wallet"})}),(wt===fe.a.NOT_APPROVED||wt===fe.a.PENDING)&&Object(te.jsx)(U.i,{color:"blue",disabled:wt===fe.a.PENDING,onClick:Ct,padding:"12px",children:wt===fe.a.PENDING?Object(te.jsx)(pe.a,{children:Object(te.jsx)(i.b,{id:"Approving"})}):Object(te.jsx)(i.b,{id:"Approve"})}),wt===fe.a.APPROVED&&ne&&Object(te.jsx)(te.Fragment,{children:"stake"===Rt?Object(te.jsx)(be.a,{value:lt,onUserInput:e=>{jt(e)},onMax:()=>{jt(Ce(ht.value,ht.decimals))},onHalf:()=>{jt(Ce(ht.value.div(2),ht.decimals))},currency:new c.Token(ne,D.id,ht.decimals,"".concat(ct),"".concat(ct)),id:"stake-lp-input",disableCurrencySelect:!0,positionMax:"top",hideLogo:!0,fontSize:"14px",customCurrencySelect:Object(te.jsx)(U.i,{disabled:rt,padding:"8px 12px",width:"max-content",style:{minWidth:"80px"},onClick:()=>Lt(D.pid),children:lt&&rt?"Invalid Amount":"Stake"})}):Object(te.jsx)(be.a,{value:pt,onUserInput:xt,onMax:()=>{xt(Ce(Ot.value,Ot.decimals))},onHalf:()=>{xt(Ce(Ot.value.div(2),Ot.decimals))},currency:new c.Token(ne,D.id,ht.decimals,"".concat(ct),"".concat(ct)),id:"unstake-lp-input",disableCurrencySelect:!0,customBalanceText:"".concat(Ce(Ot.value,Ot.decimals)),positionMax:"top",hideLogo:!0,fontSize:"14px",customCurrencySelect:Object(te.jsx)(U.i,{disabled:ot,padding:"8px 12px",width:"max-content",style:{minWidth:"80px"},onClick:()=>Et(D.pid),children:pt&&ot?"Invalid Amount":"Unstake"})})})]}),Object(te.jsxs)(j.b,{justifyContent:"space-between",sx:{gap:"8px"},alignItems:"center",marginTop:"20px",children:[Object(te.jsx)(W.c,{href:We?We.poolInfoLink:"".concat(y.y[ne],"/pool/").concat(D.id),children:Object(te.jsxs)(ee.i,{children:[Object(te.jsx)(i.b,{id:"Get pool {0} info",values:{0:We?"(".concat(We.name,")"):""}})," \u2197"]})}),We?Object(te.jsx)(W.c,{href:We.getLPTokenLink,children:Object(te.jsx)(ee.i,{children:Object(te.jsx)(i.b,{id:"Get {0}-{1} {2} LP \u2197",values:{0:null===(v=D.token0)||void 0===v?void 0:v.symbol,1:null===(w=D.token1)||void 0===w?void 0:w.symbol,2:We?"(".concat(We.name,")"):""}})})}):Object(te.jsx)(le.b,{to:"/add/".concat(Object(ke.b)(null===(C=D.token0)||void 0===C?void 0:C.id,ne),"/").concat(Object(ke.b)(null===(S=D.token1)||void 0===S?void 0:S.id,ne),"/").concat(D.id),style:{textDecoration:"none"},children:Object(te.jsx)(ee.i,{style:{textAlign:"right"},children:Object(te.jsx)(i.b,{id:"Get {0}-{1} LP \u2197",values:{0:null===(T=D.token0)||void 0===T?void 0:T.symbol,1:null===(_=D.token1)||void 0===_?void 0:_.symbol}})})})]})]})]})})]})},Te=e=>{var t=e.isOpen,n=e.onClick;return Object(te.jsx)(ee.D,{onClick:n,children:Object(te.jsx)(O.a,{style:{rotate:t?"180deg":"none"}})})},Ie=e=>{var t=e.fairLaunchAddress,n=e.farms,o=e.active,l=Object(F.a)(),b=Object(N.z)(),O=Object(r.a)(b,1)[0],C=Object(h.a)("(min-width:".concat(W.h.upToLarge,"px)")),S=Object(h.a)("(min-width:".concat(W.h.upToSmall,"px)")),T=Object(k.b)(),I=T.chainId,_=T.account,q=T.isEVM,U=T.networkInfo,G=U.route||void 0,Y=Object(P.a)(),Z=Object(z.c)(),K=Object(H.k)(n),Q=Object(w.j)(t),X=L(t).harvestMultiplePools,J=Object(E.c)().mixpanelHandler,$=Object(d.useState)(""),se=Object(r.a)($,2),re=se[0],oe=se[1],ie=Object(d.useState)(!0),ce=Object(r.a)(ie,2),ae=ce[0],de=ce[1],le=Object(z.l)(D.a.SHARE),je=Object(z.h)(D.a.SHARE);Object(d.useEffect)((()=>{re&&le()}),[le,re]),Object(d.useEffect)((()=>{oe((e=>je?e:""))}),[je,oe]);var be=re?window.location.origin+"/farms/".concat(G,"?search=")+re+"&tab=classic":void 0,ue=Object(d.useCallback)(Object(p.a)(Object(u.a)().mark((function e(){var t,s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_){e.next=2;break}return e.abrupt("return");case 2:return l(Object(M.d)(!0)),l(Object(M.a)(!0)),l(Object(M.e)("")),e.prev=5,t=(n||[]).filter((e=>{var t,n,s;return!(null===(t=e.userData)||void 0===t||!t.rewards)&&(null===(n=e.userData)||void 0===n||null===(s=n.rewards)||void 0===s?void 0:s.some((e=>a.a.from(e).gt(0))))})),e.next=9,X(t.map((e=>e.pid)),K);case 9:(s=e.sent)&&J(E.a.ALL_REWARDS_HARVESTED,{reward_tokens_and_amounts:K&&Object.assign({},...K.map((e=>{var t;return null!==e&&void 0!==e&&null!==(t=e.token)&&void 0!==t&&t.symbol?{[e.token.symbol]:Object(A.f)(e.amount,e.token.decimals)}:{}})))}),l(Object(M.e)(s)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.error(e.t0),l(Object(M.f)(e.t0));case 18:l(Object(M.a)(!1));case 19:case"end":return e.stop()}}),e,null,[[5,14]])}))),[_,l,n,X,J,K]),pe=Math.floor(Date.now()/1e3),xe=(Q===R.a.V1?(n||[]).map((e=>{var t,n=e.fairLaunchAddress.toLowerCase()==="0xc0601973451d9369252Aee01397c0270CD2Ecd60".toLowerCase()&&I===c.ChainId.MAINNET,r=e&&Z&&e.startBlock<Z,o=e&&Z&&e.endBlock<Z,i=(t=r?e&&Z&&e.endBlock-Z:e&&Z&&e.startBlock-Z)&&t*U.averageBlockTimeInSeconds,a=i&&Object(V.a)(i);return Object(s.a)(Object(s.a)({},e),{},{time:"".concat(n?"":o?"Ended":(r?"":"Starting in ")+a)})})):(n||[]).map((e=>{var t,n=e&&pe&&e.startTime<pe,r=e&&pe&&e.endTime<pe;return t=n?Object(V.a)(e.endTime-pe):Object(V.a)(e.startTime-pe),Object(s.a)(Object(s.a)({},e),{},{time:"".concat(r?"Ended":(n?"":"Starting in ")+t)})}))).sort(((e,t)=>t.endBlock-e.endBlock)),me=y.P[t],he=O===B.a.LIST&&C?ee.n:ee.d;return q?Object(te.jsxs)(ee.e,{children:[!!xe.length&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(g.b,{gap:"16px",children:[Object(te.jsxs)(g.c,{style:{whiteSpace:"nowrap"},children:[Object(te.jsx)(j.d,{fontSize:16,lineHeight:"20px",color:Y.subText,children:Object(te.jsx)(i.b,{id:"Farming Contract"})}),me&&Object(te.jsx)(j.d,{fontSize:14,fontStyle:"italic",color:Y.subText,children:Object(te.jsx)(i.b,{id:"This pool require {0} LP Tokens. Get the LP Tokens <0>here \u2197</0>",values:{0:me.name},components:{0:Object(te.jsx)(W.c,{href:me.getLPTokenLink})}})})]}),S&&Object(te.jsx)(g.f,{justify:"flex-end",children:Object(te.jsx)(ne,{totalRewards:K,onHarvestAll:ue})}),Object(te.jsx)(g.c,{flex:"0 0 36px",children:Object(te.jsx)(Te,{isOpen:ae,onClick:()=>de((e=>!e))})})]}),!S&&Object(te.jsx)(g.f,{justify:"flex-end",children:Object(te.jsx)(ne,{totalRewards:K,onHarvestAll:ue})}),Object(te.jsx)(ee.g,{expanded:ae,children:Object(te.jsxs)(he,{children:[O===B.a.LIST&&C&&Object(te.jsxs)(ee.B,{children:[Object(te.jsxs)(g.f,{children:[Object(te.jsx)(ee.f,{children:Object(te.jsx)(i.b,{id:"Pools | AMP"})}),Object(te.jsx)(f.a,{text:y.f})]}),Object(te.jsx)(g.f,{children:Object(te.jsx)(ee.f,{children:Object(te.jsx)(i.b,{id:"Staked TVL"})})}),Object(te.jsxs)(g.f,{children:[Object(te.jsx)(ee.f,{children:Object(te.jsx)(i.b,{id:"AVG APR"})}),Object(te.jsx)(f.a,{text:o?x.a._("Total estimated return based on yearly fees and bonus rewards of the pool"):x.a._("Estimated return based on yearly fees of the pool")})]}),Object(te.jsxs)(g.f,{children:[Object(te.jsx)(ee.f,{children:Object(te.jsx)(i.b,{id:"Ending in"})}),Object(te.jsx)(f.a,{text:x.a._("After harvesting, your rewards will unlock linearly over the indicated time period")})]}),Object(te.jsx)(g.f,{children:Object(te.jsx)(ee.f,{children:Object(te.jsx)(i.b,{id:"My Deposit | Target Volume"})})}),Object(te.jsx)(g.f,{justify:"flex-end",children:Object(te.jsx)(ee.f,{children:Object(te.jsx)(i.b,{id:"My Rewards"})})}),Object(te.jsx)(g.f,{justify:"flex-end",children:Object(te.jsx)(ee.f,{children:Object(te.jsx)(i.b,{id:"Actions"})})})]}),xe.map((e=>Object(te.jsx)(Se,{farm:e,setSharedPoolAddress:oe},"".concat(e.fairLaunchAddress,"_").concat(e.stakeToken))))]})})]}),Object(te.jsx)(v.b,{title:x.a._("Share this farm with your friends!"),url:be})]}):Object(te.jsx)(m.a,{to:"/"})},Ae=n("./src/hooks/useDebounce.ts"),_e=n("./src/state/farms/classic/hooks.ts"),Le=n("./node_modules/react-redux/es/index.js"),Ee=n("./src/components/TransactionConfirmationModal/index.tsx");function Pe(){var e=Object(Le.e)((e=>e.farms.showConfirm)),t=Object(Le.e)((e=>e.farms.attemptingTxn)),n=Object(Le.e)((e=>e.farms.txHash)),s=Object(Le.e)((e=>e.farms.error)),r=Object(F.a)(),o=Object(d.useCallback)((()=>{r(Object(M.d)(!1)),r(Object(M.a)(!1)),r(Object(M.e)("")),r(Object(M.f)(null))}),[r]),i=Object(d.useCallback)((()=>s?Object(te.jsx)(Ee.c,{onDismiss:o,message:s}):null),[o,s]);return Object(te.jsx)(Ee.e,{hash:n||"",isOpen:e,onDismiss:o,attemptingTxn:t,content:i,pendingText:""})}var De=["search"];t.a=e=>{var t=e.loading,n=e.active,l=Object(P.a)(),u=Object(z.c)(),p=Object(d.useRef)(u);p.current=u;var x=Object(ge.a)(),m=x.search,h=void 0===m?"":m,O=Object(o.a)(x,De),f=Object(k.b)().chainId,g=Object(_e.b)().data,v=Object(d.useState)({active:!1,ended:!1}),w=Object(r.a)(v,2),C=w[0],S=w[1],T=Object(d.useState)(!1),I=Object(r.a)(T,2),A=I[0],_=I[1],L=Object(d.useState)(!1),E=Object(r.a)(L,2),D=E[0],M=E[1],R=Object(d.useRef)();Object(X.a)(R,D?()=>M((e=>!e)):void 0);var F=n?"active":"ended",N=Object(d.useRef)(0);N.current=Math.floor(Date.now()/1e3);var B=Object(Ae.a)(h.trim().toLowerCase(),200),W=Object(d.useCallback)((e=>{var t,s,r,o,i,d,l=e.fairLaunchAddress.toLowerCase()==="0xc0601973451d9369252Aee01397c0270CD2Ecd60".toLowerCase()&&f===c.ChainId.MAINNET;return e.rewardPerSeconds?N.current&&(O.type===y.G.MY_FARMS||(n?e.endTime>=N.current:e.endTime<N.current))&&(!B||((null===(t=e.token0)||void 0===t?void 0:t.symbol.toLowerCase().includes(B))||(null===(s=e.token1)||void 0===s?void 0:s.symbol.toLowerCase().includes(B))||e.id===B))&&(!C[F]&&O.type!==y.G.MY_FARMS||(null===(r=e.userData)||void 0===r?void 0:r.stakedBalance)&&a.a.from(e.userData.stakedBalance).gt(0)):p.current&&(O.type===y.G.MY_FARMS||(l?n:n?e.endBlock>=p.current:e.endBlock<p.current))&&(!B||((null===(o=e.token0)||void 0===o?void 0:o.symbol.toLowerCase().includes(B))||(null===(i=e.token1)||void 0===i?void 0:i.symbol.toLowerCase().includes(B))||e.id===B))&&(!C[F]&&O.type!==y.G.MY_FARMS||(null===(d=e.userData)||void 0===d?void 0:d.stakedBalance)&&a.a.from(e.userData.stakedBalance).gt(0))}),[n,F,B,C,f,O.type]),H=Object(d.useMemo)((()=>Object.keys(g).reduce(((e,t)=>{var n=g[t].filter((e=>W(e)));return n.length&&(e[t]=n),e}),{})),[g,W]),V=!Object.keys(H).length;return Object(d.useEffect)((()=>{n||C.ended||A||Object.keys(g).filter((e=>!!g[e].filter((e=>{var t,n;return e.rewardPerSeconds?N.current&&e.endTime<N.current&&(null===(t=e.userData)||void 0===t?void 0:t.stakedBalance)&&a.a.from(e.userData.stakedBalance).gt(0):p.current&&e.endBlock<p.current&&(null===(n=e.userData)||void 0===n?void 0:n.stakedBalance)&&a.a.from(e.userData.stakedBalance).gt(0)})).length)).length&&(_(!0),S((e=>Object(s.a)(Object(s.a)({},e),{},{ended:!0}))))}),[n,C,g,A]),Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(Pe,{}),t&&V?Object(te.jsx)(j.b,{backgroundColor:l.background,children:Object(te.jsx)(b.a,{})}):V?Object(te.jsx)(j.b,{backgroundColor:l.background,justifyContent:"center",padding:"32px",style:{borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px"},children:Object(te.jsx)(j.d,{color:l.subText,children:C[F]||B?Object(te.jsx)(i.b,{id:"No Farms found"}):Object(te.jsx)(i.b,{id:"Currently there are no Farms."})})}):Object.keys(H).map((e=>Object(te.jsx)(Ie,{fairLaunchAddress:e,farms:H[e],active:n},e)))]})}},"./src/hooks/useIsTickAtLimit.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),r=n("./node_modules/react/index.js"),o=n("./src/state/mint/proamm/type.ts");function i(e,t,n){return Object(r.useMemo)((()=>({[o.a.LOWER]:e&&t?t===Object(s.nearestUsableTick)(s.TickMath.MIN_TICK,s.TICK_SPACINGS[e]):void 0,[o.a.UPPER]:e&&n?n===Object(s.nearestUsableTick)(s.TickMath.MAX_TICK,s.TICK_SPACINGS[e]):void 0})),[e,t,n])}},"./src/hooks/useProAmmPositions.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return h}));var s=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),r=n("./node_modules/@ethersproject/abi/lib.esm/abi-coder.js"),o=n("./node_modules/@ethersproject/address/lib.esm/index.js"),i=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),c=n("./node_modules/@ethersproject/solidity/lib.esm/index.js"),a=n("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),d=n("./node_modules/react/index.js"),l=n("./src/hooks/index.ts"),j=n("./src/state/farms/elastic/hooks.ts"),b=n("./src/state/multicall/hooks.ts"),u=n("./src/hooks/useContract.ts");function p(e){var t=Object(u.o)(),n=Object(l.b)(),i=n.isEVM,a=n.networkInfo,j=Object(d.useMemo)((()=>e?e.map((e=>[e])):[]),[e]),p=Object(b.d)(t,"positions",j),x=Object(d.useMemo)((()=>p.some((e=>e.loading))),[p]),m=Object(d.useMemo)((()=>p.some((e=>e.error))),[p]),h=Object(d.useMemo)((()=>{if(!x&&!m&&e&&i)return p.map(((t,n)=>{var s=e[n],i=t.result;return{tokenId:s,poolId:Object(o.getCreate2Address)(a.elastic.coreFactory,Object(c.keccak256)(["bytes"],[r.b.encode(["address","address","uint24"],[i.info.token0,i.info.token1,i.info.fee])]),a.elastic.initCodeHash),feeGrowthInsideLast:i.pos.feeGrowthInsideLast,nonce:i.pos.nonce,liquidity:i.pos.liquidity,operator:i.pos.operator,tickLower:i.pos.tickLower,tickUpper:i.pos.tickUpper,rTokenOwed:i.pos.rTokenOwed,fee:i.info.fee,token0:i.info.token0,token1:i.info.token1}}))}),[x,m,p,e,a,i]);return Object(d.useMemo)((()=>({loading:x,positions:null===h||void 0===h?void 0:h.map(((e,t)=>Object(s.a)(Object(s.a)({},e),{},{tokenId:j[t][0]})))})),[x,h,j])}function x(e){var t,n=p(e?[e]:void 0);return{loading:n.loading,position:null===(t=n.positions)||void 0===t?void 0:t[0]}}function m(e){var t,n=Object(u.o)(),s=Object(b.c)(n,"balanceOf",[null!==e&&void 0!==e?e:void 0]),r=s.loading,o=s.result,c=null===o||void 0===o||null===(t=o[0])||void 0===t?void 0:t.toNumber(),a=Object(d.useMemo)((()=>{if(c&&e){for(var t=[],n=0;n<c;n++)t.push([e,n]);return t}return[]}),[e,c]),l=Object(b.d)(n,"tokenOfOwnerByIndex",a),j=Object(d.useMemo)((()=>l.some((e=>e.loading))),[l]),x=p(Object(d.useMemo)((()=>e?l.map((e=>e.result)).filter((e=>!!e)).map((e=>i.a.from(e[0]))):[]),[e,l])),m=x.positions,h=x.loading;return Object(d.useMemo)((()=>({loading:j||r||h,positions:m})),[j,r,h,m])}var h=()=>{var e=Object(l.b)(),t=e.isEVM,n=e.networkInfo,s=Object(j.b)(),r=s.farms,o=s.loading,c=s.userFarmInfo,b=Object(d.useMemo)((()=>(null===r||void 0===r?void 0:r.map((e=>e.pools)).flat())||[]),[r]),u=Object(d.useMemo)((()=>{var e,t=Date.now()/1e3;return(null===r||void 0===r||null===(e=r.map((e=>e.pools)).flat())||void 0===e?void 0:e.filter((e=>e.endTime>=t)).map((e=>e.poolAddress.toLowerCase())))||[]}),[r]),p=Object(d.useMemo)((()=>t?Object.values(c||{}).map((e=>e.depositedPositions.map((t=>{var s,r=Object(a.computePoolAddress)({factoryAddress:n.elastic.coreFactory,tokenA:t.pool.token0,tokenB:t.pool.token1,fee:t.pool.fee,initCodeHashManualOverride:n.elastic.initCodeHash}),o=b.filter((e=>e.poolAddress.toLowerCase()===r.toLowerCase())),c=Object.values(e.joinedPositions).flat().filter((e=>e.nftId.toString()===t.nftId.toString())).reduce(((e,t)=>e.gt(i.a.from(t.liquidity.toString()))?e:i.a.from(t.liquidity.toString())),i.a.from(0))||i.a.from(0);return{nonce:i.a.from("1"),tokenId:t.nftId,operator:"0x0000000000000000000000000000000000000000",poolId:r,tickLower:t.tickLower,tickUpper:t.tickUpper,liquidity:i.a.from(t.liquidity.toString()),feeGrowthInsideLast:i.a.from(0),stakedLiquidity:c,rTokenOwed:i.a.from(0),token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,endTime:null===o||void 0===o||null===(s=o[0])||void 0===s?void 0:s.endTime,rewardPendings:[]}})).flat())).flat().filter((e=>e.liquidity.gt(0))):[]),[b,c,t,n]);return Object(d.useMemo)((()=>({farms:r,userFarmInfo:c,activeFarmAddress:u,farmPositions:p,loading:o})),[o,p,u,r,c])}},"./src/hooks/useThrottle.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("./node_modules/lodash/lodash.js"),r=n.n(s),o=n("./node_modules/react/index.js");function i(e,t){var n=Object(o.useRef)(e);return n.current=e,Object(o.useMemo)((()=>r.a.throttle(n.current,t)),[t])}},"./src/pages/Farm/index.tsx":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),r=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/@lingui/react/esm/index.js"),i=n("./node_modules/@lingui/core/esm/index.js"),c=n("./node_modules/querystring-es3/index.js"),a=n("./node_modules/react/index.js"),d=n("./node_modules/react-feather/dist/icons/share-2.js"),l=n("./node_modules/react-feather/dist/icons/search.js"),j=n("./node_modules/react-redux/es/index.js"),b=n("./node_modules/react-router/dist/index.js"),u=n("./node_modules/react-router-dom/dist/index.js"),p=n("./node_modules/react-use/esm/useMedia.js"),x=n("./node_modules/rebass/dist/index.esm.js"),m=n("./src/components/ClassicElasticTab.tsx"),h=n("./src/components/Loader/index.tsx"),O=n("./src/components/PoolsCurrencyInputPanel/index.tsx"),f=n("./src/components/RewardTokenPrices/index.tsx"),g=n("./src/components/Row/index.tsx"),v=n("./src/components/SwitchLocaleLink/index.tsx"),y=n("./src/components/Toggle/index.tsx"),k=n("./src/components/Vesting/index.tsx"),w=n("./src/components/Vesting/ProMMVesting.tsx"),C=n("./src/components/YieldPools/index.tsx"),S=n("./src/components/YieldPools/ElasticFarms.tsx"),T=n("./src/components/YieldPools/FarmGuide.tsx"),I=n("./src/components/YieldPools/FarmPoolSort.tsx"),A=n("./src/components/YieldPools/ListGridViewGroup.tsx"),_=n("./src/components/YieldPools/styleds.tsx"),L=n("./src/constants/index.ts"),E=n("./src/constants/v2.ts"),P=n("./src/hooks/index.ts"),D=n("./src/hooks/Tokens.ts"),z=n("./src/hooks/useMixpanel.ts"),M=n("./src/hooks/useParsedQueryString.ts"),R=n("./src/hooks/useSyncNetworkParamWithStore.ts"),F=n("./src/hooks/useTheme.ts"),N=n("./src/pages/Pools/styleds.tsx"),B=n("./src/state/application/actions.ts"),W=n("./src/state/application/hooks.ts"),H=n("./src/state/farms/classic/hooks.ts"),V=n("./src/state/farms/classic/updater.ts"),q=n("./src/state/farms/elastic/hooks.ts"),U=n("./src/utils/string.ts"),G=n("./node_modules/react/jsx-runtime.js");t.default=()=>{var e=Object(P.b)(),t=e.isEVM,n=e.chainId,Y=Object(H.b)(),Z=Y.loading,K=Y.data,Q=Object(F.a)(),X=Object(M.a)(),J=Object(b.m)(),$=Object(u.d)(),ee=Object(r.a)($,2),te=ee[0],ne=ee[1],se=te.get("type")||L.G.ACTIVE,re=te.get("tab")||E.c.ELASTIC,oe=te.get("search")||"",ie=Object(U.d)(re,E.c)?re:E.c.ELASTIC,ce=Object(p.a)("(min-width: 1000px)"),ae=Object(W.l)(B.a.SHARE),de=Object(j.e)((e=>e.vesting.loading)),le=Object(a.useState)({active:!1,ended:!0}),je=Object(r.a)(le,2),be=je[0],ue=je[1],pe=se===L.G.ACTIVE?"active":"ended",xe=e=>{var t=Object(s.a)(Object(s.a)({},X),{},{type:e});J({search:Object(c.stringify)(t)})},me=Object(b.k)(),he=Object(a.useCallback)((e=>{var t=Object(s.a)(Object(s.a)({},me),{},{search:Object(c.stringify)(Object(s.a)(Object(s.a)({},X),{},{search:e}))});J(t,{replace:!0})}),[J,me,X]),Oe=Object(z.c)().mixpanelHandler;Object(R.a)();var fe=Object(p.a)("(max-width: 992px)"),ge=Object(p.a)("(max-width: 1500px)"),ve=Object(W.c)(),ye=Object(q.b)().farms,ke=Object(a.useMemo)((()=>{var e={},t=Math.floor(Date.now()/1e3);return Object.values(K).flat().filter((e=>e.endTime&&e.endTime>t||ve&&e.endBlock&&e.endBlock>ve)).forEach((t=>{t.rewardTokens.forEach((t=>{t&&t.chainId===n&&!e[t.wrapped.address]&&(e[t.wrapped.address]=t)}))})),null===ye||void 0===ye||ye.forEach((t=>{t.pools.forEach((t=>{t.endTime>Date.now()/1e3&&t.totalRewards.forEach((t=>{e[t.currency.wrapped.address]=t.currency}))}))})),Object.values(e)}),[K,ve,ye,n]),we=!!ke.length&&Object(G.jsx)(x.b,{flex:1,width:ge?"calc(100vw - 706px)":"796px",sx:{gap:"4px"},alignItems:"center",justifyContent:"flex-end",children:Object(G.jsx)(f.b,{rewardTokens:ke,style:{display:"flex",width:"100%",overflow:"hidden",flex:1}})}),Ce=te.get("token0")||void 0,Se=te.get("token1")||void 0,Te=Object(D.f)(Ce),Ie=Object(D.f)(Se);if(!t)return Object(G.jsx)(b.a,{to:"/"});var Ae=Object(G.jsxs)(N.b,{children:[Object(G.jsx)(O.a,{onCurrencySelect:e=>{te.set("token0",e.wrapped.address),ne(te)},onClearCurrency:()=>{te.set("token0",""),ne(te)},currency:Te,id:"input-tokena",showCommonBases:!0}),Object(G.jsx)(x.d,{marginX:"6px",children:"-"}),Object(G.jsx)(O.a,{onCurrencySelect:e=>{te.set("token1",e.wrapped.address),ne(te)},onClearCurrency:()=>{te.set("token1",""),ne(te)},currency:Ie,id:"input-tokenb",showCommonBases:!0})]});return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(V.a,{isInterval:!0}),Object(G.jsx)(q.a,{}),Object(G.jsxs)(_.o,{gap:"24px",children:[Object(G.jsxs)("div",{children:[Object(G.jsxs)(_.E,{children:[Object(G.jsx)(m.a,{}),!fe&&Object(G.jsxs)(G.Fragment,{children:[we,Object(G.jsx)(x.b,{sx:{gap:"24px"},width:"max-content",children:Object(G.jsxs)(x.b,{sx:{gap:"4px",cursor:"pointer"},fontSize:"14px",alignItems:"center",fontWeight:"500",color:Q.subText,onClick:()=>ae(),children:[Object(G.jsx)(d.a,{size:20}),"Share"]})})]})]}),Object(G.jsx)(T.a,{farmType:ie})]}),fe&&Object(G.jsxs)(x.b,{sx:{gap:"1rem"},children:[we,Object(G.jsx)(x.b,{alignItems:"center",sx:{gap:"6px"},children:Object(G.jsx)(x.b,{sx:{gap:"16px"},alignItems:"center",children:Object(G.jsx)(d.a,{color:Q.subText,size:20,onClick:()=>ae()})})})]}),Object(G.jsxs)("div",{children:[Object(G.jsxs)(_.A,{children:[Object(G.jsxs)(x.b,{sx:{gap:"8px"},children:[Object(G.jsx)(N.f,{onClick:()=>{se&&"active"!==se&&Oe(z.a.FARMS_ACTIVE_VIEWED),xe(L.G.ACTIVE)},active:!se||"active"===se,children:Object(G.jsx)(_.p,{children:Object(G.jsx)(o.b,{id:"Active"})})}),Object(G.jsx)(N.f,{onClick:()=>{"ended"!==se&&Oe(z.a.FARMS_ENDING_VIEWED),xe(L.G.ENDED)},active:se===L.G.ENDED,children:Object(G.jsx)(_.p,{children:Object(G.jsx)(o.b,{id:"Ended"})})}),Object(G.jsx)(N.f,{onClick:()=>{xe(L.G.MY_FARMS)},active:se===L.G.MY_FARMS,children:Object(G.jsx)(g.f,{children:Object(G.jsx)(o.b,{id:"My Farms"})})}),Object(G.jsx)(N.f,{onClick:()=>{"vesting"!==se&&Oe(z.a.FARMS_MYVESTING_VIEWED),xe(L.G.VESTING)},active:se===L.G.VESTING,children:Object(G.jsxs)(g.f,{children:[Object(G.jsx)(x.d,{children:Object(G.jsx)(o.b,{id:"Vesting"})}),de&&Object(G.jsx)(h.a,{style:{marginLeft:"4px"}})]})})]}),Object(G.jsxs)(_.l,{children:[Object(G.jsx)(_.z,{children:Object(G.jsxs)(g.f,{gap:"12px",children:[ce&&Object(G.jsx)(g.c,{children:Object(G.jsx)(A.a,{})}),se!==L.G.MY_FARMS&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(_.y,{children:Object(G.jsx)(o.b,{id:"Staked Only"})}),Object(G.jsx)(y.a,{isActive:be[pe],toggle:()=>ue((e=>Object(s.a)(Object(s.a)({},e),{},{[se]:!e[pe]})))})]}),Object(G.jsx)(I.a,{})]})}),Object(G.jsxs)(_.m,{children:[Ae,Object(G.jsxs)(_.v,{children:[Object(G.jsx)(_.w,{placeholder:i.a._("Search by token name or pool address"),maxLength:255,value:oe,onChange:e=>he(e.target.value)}),Object(G.jsx)(l.a,{color:Q.subText,size:16})]})]})]})]}),(()=>{switch(se){case L.G.ACTIVE:return ie===E.c.ELASTIC?Object(G.jsx)(S.a,{stakedOnly:be}):Object(G.jsx)(C.a,{loading:Z,active:!0});case L.G.ENDED:return ie===E.c.ELASTIC?Object(G.jsx)(S.a,{stakedOnly:be}):Object(G.jsx)(C.a,{loading:Z,active:!1});case L.G.VESTING:return ie===E.c.ELASTIC?Object(G.jsx)(w.a,{}):Object(G.jsx)(k.a,{loading:de});case L.G.MY_FARMS:return ie===E.c.ELASTIC?Object(G.jsx)(S.a,{stakedOnly:be}):Object(G.jsx)(C.a,{loading:Z,active:!1});default:return Object(G.jsx)(C.a,{loading:Z,active:!0})}})()]})]}),Object(G.jsx)(v.a,{})]})}},"./src/pages/Farming/index.tsx":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),r=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/@lingui/react/esm/index.js"),i=n("./node_modules/@lingui/core/esm/index.js"),c=n("./node_modules/querystring-es3/index.js"),a=n("./node_modules/react/index.js"),d=n("./node_modules/react-feather/dist/icons/share-2.js"),l=n("./node_modules/react-feather/dist/icons/search.js"),j=n("./node_modules/react-redux/es/index.js"),b=n("./node_modules/react-router/dist/index.js"),u=n("./node_modules/react-router-dom/dist/index.js"),p=n("./node_modules/react-use/esm/useMedia.js"),x=n("./node_modules/rebass/dist/index.esm.js"),m=n("./src/components/ClassicElasticTab.tsx"),h=n("./src/components/Loader/index.tsx"),O=n("./src/components/PoolsCurrencyInputPanel/index.tsx"),f=n("./src/components/RewardTokenPrices/index.tsx"),g=n("./src/components/Row/index.tsx"),v=n("./src/components/SwitchLocaleLink/index.tsx"),y=n("./src/components/Toggle/index.tsx"),k=n("./src/components/Vesting/index.tsx"),w=n("./src/components/Vesting/ProMMVesting.tsx"),C=n("./src/components/YieldPools/index.tsx"),S=n("./src/components/YieldPools/ElasticFarms.tsx"),T=n("./src/components/YieldPools/FarmGuide.tsx"),I=n("./src/components/YieldPools/FarmPoolSort.tsx"),A=n("./src/components/YieldPools/ListGridViewGroup.tsx"),_=n("./src/components/YieldPools/styleds.tsx"),L=n("./src/constants/index.ts"),E=n("./src/constants/v2.ts"),P=n("./src/hooks/index.ts"),D=n("./src/hooks/Tokens.ts"),z=n("./src/hooks/useMixpanel.ts"),M=n("./src/hooks/useParsedQueryString.ts"),R=n("./src/hooks/useSyncNetworkParamWithStore.ts"),F=n("./src/hooks/useTheme.ts"),N=n("./src/pages/Pools/styleds.tsx"),B=n("./src/state/application/actions.ts"),W=n("./src/state/application/hooks.ts"),H=n("./src/state/farms/classic/hooks.ts"),V=n("./src/state/farms/classic/updater.ts"),q=n("./src/state/farms/elastic/hooks.ts"),U=n("./src/utils/string.ts"),G=n("./node_modules/react/jsx-runtime.js");t.default=()=>{var e=Object(P.b)(),t=e.isEVM,n=e.chainId,Y=Object(H.b)(),Z=Y.loading,K=Y.data,Q=Object(F.a)(),X=Object(M.a)(),J=Object(b.m)(),$=Object(u.d)(),ee=Object(r.a)($,2),te=ee[0],ne=ee[1],se=te.get("type")||L.G.ACTIVE,re=te.get("tab")||E.c.ELASTIC,oe=te.get("search")||"",ie=Object(U.d)(re,E.c)?re:E.c.ELASTIC,ce=Object(p.a)("(min-width: 1000px)"),ae=Object(W.l)(B.a.SHARE),de=Object(j.e)((e=>e.vesting.loading)),le=Object(a.useState)({active:!1,ended:!0}),je=Object(r.a)(le,2),be=je[0],ue=je[1],pe=se===L.G.ACTIVE?"active":"ended",xe=e=>{var t=Object(s.a)(Object(s.a)({},X),{},{type:e});J({search:Object(c.stringify)(t)})},me=Object(b.k)(),he=Object(a.useCallback)((e=>{var t=Object(s.a)(Object(s.a)({},me),{},{search:Object(c.stringify)(Object(s.a)(Object(s.a)({},X),{},{search:e}))});J(t,{replace:!0})}),[J,me,X]),Oe=Object(z.c)().mixpanelHandler;Object(R.a)();var fe=Object(p.a)("(max-width: 992px)"),ge=Object(p.a)("(max-width: 1500px)"),ve=Object(W.c)(),ye=Object(q.b)().farms,ke=Object(a.useMemo)((()=>{var e={},t=Math.floor(Date.now()/1e3);return Object.values(K).flat().filter((e=>e.endTime&&e.endTime>t||ve&&e.endBlock&&e.endBlock>ve)).forEach((t=>{t.rewardTokens.forEach((t=>{t&&t.chainId===n&&!e[t.wrapped.address]&&(e[t.wrapped.address]=t)}))})),null===ye||void 0===ye||ye.forEach((t=>{t.pools.forEach((t=>{t.endTime>Date.now()/1e3&&t.totalRewards.forEach((t=>{e[t.currency.wrapped.address]=t.currency}))}))})),Object.values(e)}),[K,ve,ye,n]),we=!!ke.length&&Object(G.jsx)(x.b,{flex:1,width:ge?"calc(100vw - 706px)":"796px",sx:{gap:"4px"},alignItems:"center",justifyContent:"flex-end",children:Object(G.jsx)(f.b,{rewardTokens:ke,style:{display:"flex",width:"100%",overflow:"hidden",flex:1}})}),Ce=te.get("token0")||void 0,Se=te.get("token1")||void 0,Te=Object(D.f)(Ce),Ie=Object(D.f)(Se);if(!t)return Object(G.jsx)(b.a,{to:"/"});var Ae=Object(G.jsxs)(N.b,{children:[Object(G.jsx)(O.a,{onCurrencySelect:e=>{te.set("token0",e.wrapped.address),ne(te)},onClearCurrency:()=>{te.set("token0",""),ne(te)},currency:Te,id:"input-tokena",showCommonBases:!0}),Object(G.jsx)(x.d,{marginX:"6px",children:"-"}),Object(G.jsx)(O.a,{onCurrencySelect:e=>{te.set("token1",e.wrapped.address),ne(te)},onClearCurrency:()=>{te.set("token1",""),ne(te)},currency:Ie,id:"input-tokenb",showCommonBases:!0})]});return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(V.a,{isInterval:!0}),Object(G.jsx)(q.a,{}),Object(G.jsxs)(_.o,{gap:"24px",children:[Object(G.jsxs)("div",{children:[Object(G.jsxs)(_.E,{children:[Object(G.jsx)(m.a,{}),!fe&&Object(G.jsxs)(G.Fragment,{children:[we,Object(G.jsx)(x.b,{sx:{gap:"24px"},width:"max-content",children:Object(G.jsxs)(x.b,{sx:{gap:"4px",cursor:"pointer"},fontSize:"14px",alignItems:"center",fontWeight:"500",color:Q.subText,onClick:()=>ae(),children:[Object(G.jsx)(d.a,{size:20}),"Share"]})})]})]}),Object(G.jsx)(T.a,{farmType:ie})]}),fe&&Object(G.jsxs)(x.b,{sx:{gap:"1rem"},children:[we,Object(G.jsx)(x.b,{alignItems:"center",sx:{gap:"6px"},children:Object(G.jsx)(x.b,{sx:{gap:"16px"},alignItems:"center",children:Object(G.jsx)(d.a,{color:Q.subText,size:20,onClick:()=>ae()})})})]}),Object(G.jsxs)("div",{children:[Object(G.jsxs)(_.A,{children:[Object(G.jsxs)(x.b,{sx:{gap:"8px"},children:[Object(G.jsx)(N.f,{onClick:()=>{se&&"active"!==se&&Oe(z.a.FARMS_ACTIVE_VIEWED),xe(L.G.ACTIVE)},active:!se||"active"===se,children:Object(G.jsx)(_.p,{children:Object(G.jsx)(o.b,{id:"Active"})})}),Object(G.jsx)(N.f,{onClick:()=>{"ended"!==se&&Oe(z.a.FARMS_ENDING_VIEWED),xe(L.G.ENDED)},active:se===L.G.ENDED,children:Object(G.jsx)(_.p,{children:Object(G.jsx)(o.b,{id:"Ended"})})}),Object(G.jsx)(N.f,{onClick:()=>{xe(L.G.MY_FARMS)},active:se===L.G.MY_FARMS,children:Object(G.jsx)(g.f,{children:Object(G.jsx)(o.b,{id:"My Farms"})})}),Object(G.jsx)(N.f,{onClick:()=>{"vesting"!==se&&Oe(z.a.FARMS_MYVESTING_VIEWED),xe(L.G.VESTING)},active:se===L.G.VESTING,children:Object(G.jsxs)(g.f,{children:[Object(G.jsx)(x.d,{children:Object(G.jsx)(o.b,{id:"Vesting"})}),de&&Object(G.jsx)(h.a,{style:{marginLeft:"4px"}})]})})]}),Object(G.jsxs)(_.l,{children:[Object(G.jsx)(_.z,{children:Object(G.jsxs)(g.f,{gap:"12px",children:[ce&&Object(G.jsx)(g.c,{children:Object(G.jsx)(A.a,{})}),se!==L.G.MY_FARMS&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(_.y,{children:Object(G.jsx)(o.b,{id:"Staked Only"})}),Object(G.jsx)(y.a,{isActive:be[pe],toggle:()=>ue((e=>Object(s.a)(Object(s.a)({},e),{},{[se]:!e[pe]})))})]}),Object(G.jsx)(I.a,{})]})}),Object(G.jsxs)(_.m,{children:[Ae,Object(G.jsxs)(_.v,{children:[Object(G.jsx)(_.w,{placeholder:i.a._("Search Farms"),maxLength:255,value:oe,onChange:e=>he(e.target.value)}),Object(G.jsx)(l.a,{color:Q.subText,size:16})]})]})]})]}),(()=>{switch(se){case L.G.ACTIVE:return ie===E.c.ELASTIC?Object(G.jsx)(S.a,{stakedOnly:be}):Object(G.jsx)(C.a,{loading:Z,active:!0});case L.G.ENDED:return ie===E.c.ELASTIC?Object(G.jsx)(S.a,{stakedOnly:be}):Object(G.jsx)(C.a,{loading:Z,active:!1});case L.G.VESTING:return ie===E.c.ELASTIC?Object(G.jsx)(w.a,{}):Object(G.jsx)(k.a,{loading:de});case L.G.MY_FARMS:return ie===E.c.ELASTIC?Object(G.jsx)(S.a,{stakedOnly:be}):Object(G.jsx)(C.a,{loading:Z,active:!1});default:return Object(G.jsx)(C.a,{loading:Z,active:!0})}})()]})]}),Object(G.jsx)(v.a,{})]})}},"./src/pages/Pool/styleds.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var s=n("./node_modules/rebass/dist/index.esm.js"),r=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),o=r.default.div.withConfig({displayName:"styleds__Wrapper",componentId:"sc-qs1q00-0"})(["position:relative;"]),i=(Object(r.default)(s.d).withConfig({displayName:"styleds__ClickableText",componentId:"sc-qs1q00-1"})([":hover{cursor:pointer;}color:",";"],(e=>e.theme.primary)),r.default.span.withConfig({displayName:"styleds__Dots",componentId:"sc-qs1q00-2"})(["&::after{display:inline-block;animation:ellipsis 1.25s infinite;content:'.';width:1em;text-align:left;}@keyframes ellipsis{0%{content:'.';}33%{content:'..';}66%{content:'...';}}"]))},"./src/state/farms/classic/updater.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var s=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),r=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),o=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),i=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),c=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),a=n("./node_modules/react/index.js"),d=n("./node_modules/react-redux/es/index.js"),l=n("./src/constants/index.ts"),j=n("./src/constants/tokens.ts"),b=n("./src/hooks/index.ts"),u=n("./src/hooks/Tokens.ts"),p=n("./src/hooks/useContract.ts"),x=n("./src/state/application/hooks.ts"),m=n("./src/state/farms/classic/actions.ts"),h=n("./src/state/farms/classic/types.ts"),O=n("./src/state/hooks.ts"),f=n("./src/state/pools/hooks.ts");function g(e){var t=e.isInterval,n=void 0===t||t,g=Object(O.a)(),v=Object(b.b)(),y=v.chainId,k=v.account,w=v.isEVM,C=v.networkInfo,S=Object(p.i)(!1),T=Object(x.f)(),I=Object(a.useRef)(T.currentPrice);I.current=T.currentPrice;var A=Object(u.e)(),_=Object(x.g)(),L=_.classicClient,E=_.blockClient,P=Object(d.e)((e=>e.farms.data)),D=Object(a.useRef)(P);D.current=P;var z=Object(a.useRef)(y);return z.current=y,Object(a.useEffect)((()=>{if(w){console.count("running farm updater");var e=!1;b();var t=n&&setInterval((()=>{b()}),3e4);return()=>{e=!0,t&&clearInterval(t)}}function a(e){return d.apply(this,arguments)}function d(){return d=Object(i.a)(Object(r.a)().mark((function t(n){var a,d,b,u,p,x,m,O,g,v,S,T,_,P,D,z,M,R;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,null===n||void 0===n?void 0:n.getRewardTokens();case 4:if(a=t.sent,!e){t.next=7;break}throw new Error("canceled");case 7:return t.next=9,null===n||void 0===n?void 0:n.poolLength();case 9:if(d=t.sent,!e){t.next=12;break}throw new Error("canceled");case 12:return b=[...Array(c.a.from(d).toNumber()).keys()],u=C.classic.fairlaunchV2.includes(n.address),t.next=16,Promise.all(b.map(function(){var t=Object(i.a)(Object(r.a)().mark((function t(s){var i;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===n||void 0===n?void 0:n.getPoolInfo(s);case 2:if(i=t.sent,!e){t.next=5;break}throw new Error("canceled");case 5:if(!u){t.next=7;break}return t.abrupt("return",Object(o.a)(Object(o.a)({},i),{},{accRewardPerShares:i.accRewardPerShares.map(((e,t)=>e.div(i.rewardMultipliers[t]))),rewardPerSeconds:i.rewardPerSeconds.map(((e,t)=>e.div(i.rewardMultipliers[t]))),pid:s,fairLaunchVersion:h.a.V2}));case 7:return t.abrupt("return",Object(o.a)(Object(o.a)({},i),{},{pid:s,fairLaunchVersion:h.a.V1}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 16:return p=t.sent,t.next=19,Promise.all(b.map(function(){var t=Object(i.a)(Object(r.a)().mark((function t(s){var o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!k){t.next=6;break}return t.next=3,null===n||void 0===n?void 0:n.getUserInfo(s,k);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0={amount:0};case 7:if(o=t.t0,!e){t.next=10;break}throw new Error("canceled");case 10:return t.abrupt("return",o.amount);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 19:if(x=t.sent,!e){t.next=22;break}throw new Error("canceled");case 22:return t.next=24,Promise.all(b.map(function(){var t=Object(i.a)(Object(r.a)().mark((function t(s){var o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!k){t.next=6;break}return t.next=3,null===n||void 0===n?void 0:n.pendingRewards(s,k);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=null;case 7:if(o=t.t0,!e){t.next=10;break}throw new Error("canceled");case 10:return t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 24:if(m=t.sent,!e){t.next=27;break}throw new Error("canceled");case 27:return O=p.map((e=>e.stakeToken.toLowerCase())),t.next=30,Object(f.a)(O,L,E,y,I.current);case 30:if(g=t.sent,!e){t.next=33;break}throw new Error("canceled");case 33:if(v=a.map((e=>e.toLowerCase()===l.bb.toLowerCase()?j.i[y]:A[e])).filter(Boolean),S=p.map(((e,t)=>Object(o.a)(Object(o.a)(Object(o.a)({},g.find((t=>t&&t.id.toLowerCase()===e.stakeToken.toLowerCase()))),e),{},{rewardTokens:v,fairLaunchAddress:n.address,userData:{stakedBalance:x[t],rewards:e.fairLaunchVersion===h.a.V2?m[t]&&m[t].map(((t,n)=>t.div(e.rewardMultipliers[n]))):m[t]}}))),!(T=l.P[n.address])){t.next=46;break}return t.next=39,fetch(T.subgraphAPI,{method:"POST",body:JSON.stringify({query:T.query})}).then((e=>e.json()));case 39:if(_=t.sent,!e){t.next=42;break}throw new Error("canceled");case 42:P=_.data.pair.totalSupply,D=P.split("."),z=Object(s.a)(D,2),M=z[0],R=z[1],P=M+"."+R.slice(0,18),S.push(Object(o.a)(Object(o.a)(Object(o.a)({},_.data.pair),{},{amp:1e4,vReserve0:_.data.pair.reserve0,vReserve1:_.data.pair.reserve1,token0:Object(o.a)(Object(o.a)({},_.data.pair.token0),{},{derivedETH:_.data.pair.token0.derivedBNB}),token1:Object(o.a)(Object(o.a)({},_.data.pair.token1),{},{derivedETH:_.data.pair.token1.derivedBNB}),trackedReserveETH:_.data.pair.trackedReserveBNB,totalSupply:P},p[0]),{},{rewardTokens:v,fairLaunchAddress:n.address,userData:{stakedBalance:x[0],rewards:m[0]}}));case 46:return t.abrupt("return",S.filter((e=>!!e.totalSupply)));case 47:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function b(){return u.apply(this,arguments)}function u(){return(u=Object(i.a)(Object(r.a)().mark((function t(){var n,s,o,i;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,S){t.next=4;break}return g(Object(m.b)({})),t.abrupt("return");case 4:return g(Object(m.c)(!0)),n={},s=Object.keys(S),o=s.map((e=>a(S[e]))),t.next=10,Promise.all(o);case 10:if(i=t.sent,!e){t.next=13;break}throw new Error("canceled");case 13:s.forEach(((e,t)=>{n[e]=i[t]})),z.current!==y||0!==Object.keys(D.current).length&&e||g(Object(m.b)(n)),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),e||(console.error(t.t0),g(Object(m.f)(t.t0)));case 20:g(Object(m.c)(!1));case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))).apply(this,arguments)}}),[g,y,S,k,w,C,L,E,A,n]),null}},"./src/utils/formatTime.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e)return"0 Days";var n,s=e%60,r=(e-s)/60,o=r%60,i=(r-o)/60,c=i%24,a=(i-c)/24,d="";!a&&t||(d+=a+(n=(t?" Day":"D")+(t&&a>1?"s ":" "))),!c&&t||(d+=c+(n=(t?" Hour":"H")+(t&&c>1?"s ":" "))),!o&&t||(d+=o+(n=(t?" Minute":"M")+(t&&o>1?"s ":" ")));var l=0===a&&0===c&&0===o;return l&&(n=(t?" Second":"S")+(t&&s>1?"s ":" "),d+=Math.trunc(s)+n),d}}}]);